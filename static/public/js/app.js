(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},s={app:0},n=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},n=[],o={name:"App"},r=o,l=a("2877"),c=Object(l["a"])(r,s,n,!1,null,null,null),d=c.exports,u=(a("4160"),a("d3b7"),a("159b"),a("ddb0"),a("9483"));Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){caches.keys().then((function(e){e.forEach((function(e){caches.delete(e)}))})),console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var m=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-app-bar",{attrs:{app:"",elevation:"1",color:"white"}},[a("v-toolbar-title",{staticClass:"text-no-wrap",staticStyle:{width:"480px"}},[e._v("\n      ASPRSD\n    ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-1  text-capitalize",attrs:{outlined:"",router:"",color:"success",to:"/login"}},[e._v("\n      Sign in\n    ")])],1),a("v-main",[a("v-parallax",{staticClass:"fill-height",attrs:{dark:"",src:"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("h1",{staticClass:"text-h3 font-weight-bold text-center"},[e._v("\n            Agency strategic planning referencing standard database\n          ")]),a("h4",{staticClass:"subheading"},[e._v("\n            The easy way to manage your document\n          ")])])],1)],1)],1)],1)},v=[],h={name:"Index",data:function(){return{name:{},valid:!0,loading:!1,alert:!1}},mounted:function(){},methods:{}},p=h,g=a("6544"),_=a.n(g),x=a("7496"),b=a("40dc"),w=a("8336"),C=a("62ad"),I=a("f6c4"),y=a("8b9c"),k=a("0fd9"),B=a("2fa4"),$=a("2a7f"),V=Object(l["a"])(p,f,v,!1,null,null,null),A=V.exports;_()(V,{VApp:x["a"],VAppBar:b["a"],VBtn:w["a"],VCol:C["a"],VMain:I["a"],VParallax:y["a"],VRow:k["a"],VSpacer:B["a"],VToolbarTitle:$["a"]});var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height"},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"8",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center text-capitalize ma-3"},[e._v("\n            SignUp Request\n          ")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("h3",{staticClass:"ma-2"},[e._v("Contact Details")]),a("v-text-field",{attrs:{name:"first_name","prepend-icon":"person",type:"text",counter:70,label:"First Name",rules:e.rules.name,maxlength:"70",outlined:"",required:""},model:{value:e.credentials.first_name,callback:function(t){e.$set(e.credentials,"first_name",t)},expression:"credentials.first_name"}}),a("v-text-field",{attrs:{name:"last_name","prepend-icon":"person",type:"text",counter:70,label:"Last Name",rules:e.rules.name,maxlength:"70",outlined:"",required:""},model:{value:e.credentials.last_name,callback:function(t){e.$set(e.credentials,"last_name",t)},expression:"credentials.last_name"}}),a("v-text-field",{attrs:{name:"last_name","prepend-icon":"person",type:"number",counter:70,label:"NIN",maxlength:"70",outlined:"",required:""},model:{value:e.credentials.nin,callback:function(t){e.$set(e.credentials,"nin",t)},expression:"credentials.nin"}}),a("v-text-field",{attrs:{name:"email","prepend-icon":"mdi-email",type:"email",counter:70,label:"Email",rules:e.rules.email,outlined:"",required:""},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}}),a("v-text-field",{attrs:{"prepend-icon":"phone",id:"password",label:"Phone Number",name:"phone",type:"number",counter:15,rules:e.rules.phone,outlined:"",maxlength:"15",required:""},model:{value:e.credentials.phone,callback:function(t){e.$set(e.credentials,"phone",t)},expression:"credentials.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("h3",{staticClass:"ma-2"},[e._v("Pharmacy Details")]),a("v-text-field",{attrs:{"prepend-icon":"local_hospital",type:"text",label:"Facility Name",rules:e.rules.facility,outlined:"",required:""},model:{value:e.credentials.name,callback:function(t){e.$set(e.credentials,"name",t)},expression:"credentials.name"}}),a("v-select",{attrs:{"prepend-icon":"flag",counter:70,label:"Country",items:e.countries,rules:e.rules.country,maxlength:"70",outlined:"",required:""},model:{value:e.credentials.country,callback:function(t){e.$set(e.credentials,"country",t)},expression:"credentials.country"}}),a("v-select",{attrs:{"prepend-icon":"location_on",type:"text",items:e.states,label:"State",rules:e.rules.state,outlined:"",required:""},model:{value:e.credentials.state,callback:function(t){e.$set(e.credentials,"state",t)},expression:"credentials.state"}}),a("v-text-field",{attrs:{name:"city","prepend-icon":"location_on",type:"text",label:"City",rules:e.rules.city,outlined:"",required:""},model:{value:e.credentials.city,callback:function(t){e.$set(e.credentials,"city",t)},expression:"credentials.city"}}),a("v-textarea",{attrs:{"prepend-icon":"location_on",label:"Address",rules:e.rules.address,outlined:"",rows:"1",required:""},model:{value:e.credentials.address,callback:function(t){e.$set(e.credentials,"address",t)},expression:"credentials.address"}})],1)],1)],1),a("p",{staticClass:"text-center"},[e._v("By submitting this form, you agree to our Terms of Service and Privacy Policy")])],1),a("v-card-actions",[a("v-btn",{attrs:{to:"/",text:"",color:"primary"}},[e._v("Back")]),a("v-spacer"),a("v-btn",{staticClass:"primary white--text",attrs:{disabled:!e.valid},on:{click:e.register}},[e._v("submit")])],1)],1)],1)],1)],1)],1)],1)},T=[],E=a("bc3a"),R=a.n(E),z=a("3d20"),q=a.n(z),P={name:"Login",data:function(){return{name:{},gender:["Female","Male"],credentials:{},valid:!0,loading:!1,alert:!1,countries:["Nigeria"],states:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],rules:{name:[function(e){return!!e||"Name is required"},function(e){return e&&e.length>3||"A name must be more than 3 characters long"}],phone:[function(e){return!!e||"Phone  is required"},function(e){return e&&e.length>=11||"A phone number must be 11 digit long"}],email:[function(e){return!!e||"Email is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],facility:[function(e){return!!e||"Facility Name is required"},function(e){return e&&e.length>3||"A name must be more than 3 characters long"}],country:[function(e){return!!e||"Country is required"},function(e){return e&&e.length>3||"A country must be more than 3 characters long"}],city:[function(e){return!!e||"City is required"}],state:[function(e){return!!e||"State is required"}],address:[function(e){return!!e||"Address is required"}]}}},mounted:function(){this.checkAuthUser()},methods:{checkAuthUser:function(){this.$session.has("access")&&null!=sessionStorage.pharmacy_id&&this.$router.push("dashboard")},register:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.post("/pharmacy_request/",this.credentials).then((function(t){t.data&&q.a.fire({icon:"success",type:"success",title:"Registration Request Successful",text:"You will be contacted shortly",showConfirmButton:!1,showCloseButton:!0}),e.credentials={},e.loading=!1})).catch((function(t){e.loading=!1,t&&q.a.fire({type:"warning",title:"Invalid Credentials",text:t,showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},L=P,D=a("b0af"),O=a("99d9"),N=a("a523"),M=a("4bd4"),j=a("adda"),F=a("a722"),U=a("490a"),G=a("b974"),Q=a("8654"),K=a("a844"),W=Object(l["a"])(L,S,T,!1,null,null,null),H=W.exports;_()(W,{VApp:x["a"],VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VForm:M["a"],VImg:j["a"],VLayout:F["a"],VMain:I["a"],VProgressCircular:U["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VTextarea:K["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("h3",{staticClass:"subheading text-center ma-3"},[e._v("Sign in to your account")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{name:"login","prepend-icon":"email",type:"email",label:"Email",rules:e.rules.email,outlined:"",required:""},model:{value:e.credentials.username,callback:function(t){e.$set(e.credentials,"username",t)},expression:"credentials.username"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:e.rules.password,outlined:"",required:""},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!e.valid},on:{click:e.login}},[e._v("SIGN IN")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/forget_password",text:"",color:"primary"}},[e._v("Forget your password?")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{attrs:{to:"/",text:"",color:"primary"}},[e._v("Back")])],1)],1)],1)],1)],1)],1)],1)},J=[],Z={name:"Login",data:function(){return{name:{},credentials:{},valid:!0,loading:!1,alert:!1,rules:{email:[function(e){return!!e||"Email is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"The password must be longer than 6 characters"}]}}},mounted:function(){},methods:{login:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.post("/api/login/",this.credentials).then((function(t){e.$session.start(),e.$session.set("access",t.data.access),e.$session.set("refresh",t.data.refresh),e.$session.set("username",t.data.username),e.$session.set("role",t.data.role),nn.push("/dashboard"),t.data.access||q.a.fire({icon:"error",type:"warning",title:"Error",text:JSON.stringify(t.data),showConfirmButton:!1,showCloseButton:!1,timer:5e3})})).catch((function(t){e.loading=!1,t&&q.a.fire({type:"warning",title:"Invalid Credentials",text:"Wrong username or password",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},X=Z,ee=Object(l["a"])(X,Y,J,!1,null,null,null),te=ee.exports;_()(ee,{VApp:x["a"],VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VForm:M["a"],VLayout:F["a"],VMain:I["a"],VProgressCircular:U["a"],VRow:k["a"],VTextField:Q["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center ma-3"},[e._v(e._s(e.careuser.pharmacy_name)+" Staff Activation")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{name:"email","prepend-icon":"mail",type:"email",label:"Email",rules:e.rules.email,outlined:"",readonly:"",required:""},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}}),a("div",[a("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",rules:e.rules.password,"append-icon":e.value?"visibility":"visibility_off",type:e.value?"password":"text",outlined:"",required:""},on:{"click:append":function(){return e.value=!e.value}},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),1!=e.email.email?a("v-text-field",{attrs:{label:"Confirm Password",name:"password","prepend-icon":"mdi-lock",rules:e.rules.confirm_password,"append-icon":e.value?"visibility":"visibility_off",type:e.value?"password":"text",outlined:"",required:""},on:{"click:append":function(){return e.value=!e.value}},model:{value:e.credentials.confirm_password,callback:function(t){e.$set(e.credentials,"confirm_password",t)},expression:"credentials.confirm_password"}}):e._e()],1)],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[1==e.email.email?a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!e.valid},on:{click:e.confirm}},[e._v("Submit")]):a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!e.valid},on:{click:e.createStaffUser}},[e._v("Submit")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/login",text:"",color:"primary"}},[e._v("Back")])],1)],1)],1)],1)],1)],1)],1)},ie=[],se={name:"StaffActivation",data:function(){var e=this;return{name:{},email:[],value:String,careuser:[],credentials:{email:"",id:"",password:"",confirm_password:""},valid:!0,loading:!1,alert:!1,rules:{email:[function(e){return!!e||"Email is required"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>7||"The password must be longer than 7 characters"},function(e){return/(?=.*[A-Z])/.test(e)||"Must have one uppercase character"},function(e){return/(?=.*\d)/.test(e)||"Must have one number"},function(e){return/([!@$%])/.test(e)||"Must have one special character [!@#$%]"}],confirm_password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>7||"The password must be longer than 7 characters"},function(t){return t===e.credentials.password||"Password must Match"},function(e){return/(?=.*[A-Z])/.test(e)||"Must have one uppercase character"},function(e){return/(?=.*\d)/.test(e)||"Must have one number"},function(e){return/([!@$%])/.test(e)||"Must have one special character [!@#$%]"}]}}},mounted:function(){this.getStaff()},methods:{getStaff:function(){var e=this;R.a.get("getstaff/"+this.$route.query.id+"/").then((function(t){e.careuser=t.data,e.credentials.email=e.careuser.email,e.getEmail()}))},getEmail:function(){var e=this;R.a.get("getemail/"+this.careuser.email+"/").then((function(t){e.email=t.data}))},confirm:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.post("staff_activation/"+this.$route.query.id+"/",this.credentials).then((function(t){t.data&&(q.a.fire({icon:"success",title:"Successfull",text:" ",showConfirmButton:!1,showCloseButton:!1,timer:5e3}),e.credentials={},e.loading=!1,e.$router.push("/login"))})).catch((function(t){e.loading=!1,t&&q.a.fire({icon:"warning",type:"warning",title:"Invalid Token",text:"Token Incorrect",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))},createStaffUser:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.post("create_staffuser/"+this.$route.query.id+"/",this.credentials).then((function(t){t.data&&(q.a.fire({icon:"success",title:"Successfull",text:" please login to your account",showConfirmButton:!1,showCloseButton:!1,timer:5e3}),e.credentials={},e.loading=!1,e.$router.push("/login"))})).catch((function(t){e.loading=!1,t&&q.a.fire({icon:"warning",type:"warning",title:"Invalid Token",text:"Token Incorrect",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},ne=se,oe=Object(l["a"])(ne,ae,ie,!1,null,null,null),re=oe.exports;_()(oe,{VApp:x["a"],VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VForm:M["a"],VImg:j["a"],VLayout:F["a"],VMain:I["a"],VProgressCircular:U["a"],VRow:k["a"],VTextField:Q["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center ma-3"},[e._v("Reset Password")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{name:"email","prepend-icon":"email",type:"email",label:"Email",rules:e.rules.email,outlined:"",required:""},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}})],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!e.valid},on:{click:e.reset}},[e._v("Reset Password")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/login",text:"",color:"primary"}},[e._v("Back")])],1)],1)],1)],1)],1)],1)],1)},ce=[],de={name:"ForgetPassword",data:function(){return{name:{},credentials:{},valid:!0,loading:!1,alert:!1,rules:{email:[function(e){return!!e||"Email is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]}}},mounted:function(){},methods:{reset:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.post("/password_reset/",this.credentials).then((function(t){t.data&&(q.a.fire({icon:"success",type:"Success",title:"Check your email for verification link",text:"",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.credentials={},e.loading=!1)})).catch((function(t){e.loading=!1,t&&q.a.fire({type:"warning",title:"Invalid Credentials",text:"Wrong Email",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},ue=de,me=Object(l["a"])(ue,le,ce,!1,null,null,null),fe=me.exports;_()(me,{VApp:x["a"],VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VForm:M["a"],VImg:j["a"],VLayout:F["a"],VMain:I["a"],VProgressCircular:U["a"],VRow:k["a"],VTextField:Q["a"]});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center ma-3"},[e._v("Confirm Password Reset")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{name:"token","prepend-icon":"mdi-lock",type:"text",label:"Token",rules:e.rules.token,outlined:"",required:""},model:{value:e.credentials.token,callback:function(t){e.$set(e.credentials,"token",t)},expression:"credentials.token"}}),a("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:e.rules.password,outlined:"",required:""},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),a("v-text-field",{attrs:{label:"Confirm Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:e.rules.confirm_password,outlined:"",required:""},model:{value:e.credentials.confirm_password,callback:function(t){e.$set(e.credentials,"confirm_password",t)},expression:"credentials.confirm_password"}})],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!e.valid},on:{click:e.confirm}},[e._v("Submit")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/login",text:"",color:"primary"}},[e._v("Back")])],1)],1)],1)],1)],1)],1)],1)},he=[],pe={name:"Login",data:function(){var e=this;return{name:{},credentials:{},valid:!0,loading:!1,alert:!1,rules:{token:[function(e){return!!e||"Token is required"}],password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>7||"The password must be longer than 7 characters"},function(e){return/(?=.*[A-Z])/.test(e)||"Must have one uppercase character"},function(e){return/(?=.*\d)/.test(e)||"Must have one number"},function(e){return/([!@$%])/.test(e)||"Must have one special character [!@#$%]"}],confirm_password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>7||"The password must be longer than 7 characters"},function(t){return t===e.credentials.password||"Password must Match"},function(e){return/(?=.*[A-Z])/.test(e)||"Must have one uppercase character"},function(e){return/(?=.*\d)/.test(e)||"Must have one number"},function(e){return/([!@$%])/.test(e)||"Must have one special character [!@#$%]"}]}}},mounted:function(){},methods:{confirm:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.post("/password_reset/confirm/",this.credentials).then((function(t){t.data&&(q.a.fire({icon:"success",type:"success",title:"Password Reset Successfully",text:" ",showConfirmButton:!1,showCloseButton:!1,timer:5e3}),e.credentials={},e.loading=!1)})).catch((function(t){e.loading=!1,t&&q.a.fire({icon:"warning",type:"warning",title:"Invalid Token",text:"Token Incorrect",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},ge=pe,_e=Object(l["a"])(ge,ve,he,!1,null,null,null),xe=_e.exports;_()(_e,{VApp:x["a"],VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VForm:M["a"],VImg:j["a"],VLayout:F["a"],VMain:I["a"],VProgressCircular:U["a"],VRow:k["a"],VTextField:Q["a"]});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:e.$vuetify.theme.themes.light.background}},[a("v-app-bar",{attrs:{app:"","clipped-left":e.$vuetify.breakpoint.lgAndUp,elevation:"1",color:"white"}},[a("v-toolbar-title",[e._v(" ASPRSD ")]),a("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.draw()}}}),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"primary"}},[e._v("mdi-bell")])],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",large:""}},"v-btn",s,!1),i),[a("v-avatar",{attrs:{size:"32px",item:""}},[a("v-img",{attrs:{src:e.staffuser.photo,alt:"Staff Photo"}})],1)],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{to:"/profile"}},[a("v-list-item-action",[a("v-icon",[e._v("person")])],1),a("v-list-item-title",[e._v("Profile")])],1),a("v-list-item",{attrs:{to:"/account_setting"}},[a("v-list-item-action",[a("v-icon",[e._v("settings")])],1),a("v-list-item-title",[e._v("Account Settings")])],1),a("v-list-item",{on:{click:function(t){return e.logout()}}},[a("v-list-item-action",[a("v-icon",[e._v("exit_to_app")])],1),a("v-list-item-title",[e._v("Logout")])],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,dark:"","mobile-breakpoint":"960",width:"300",app:"",color:"primary"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item",{attrs:{router:"",to:"/dashboard"}},[a("v-list-item-action",[a("v-icon",[e._v("home")])],1),a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"green"}},[e._v("Dashboard")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/budget"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-cash")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Budget")])],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-web","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[e._v("Projects")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/project_maintenance"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Project on maintenance")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/road_project"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Road Project")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/non_road_project"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Non-Road Project")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Media")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-hospital-building","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[e._v("Maintenance Cost")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/federal_maintenance_cost"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Federal")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/state_maintenance_cost"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("State")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/urban_maintenance_cost"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("LGA:Urban")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/rural_maintenance_cost"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("LGA:Rural")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/village_maintenance_cost"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("LGA:Village")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/cost_report"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Report")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Media")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-hospital-building","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[e._v("Road Inventory")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/inventory_road"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Inventory of Road")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/work_stream"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Work Stream")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/legend"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Legend")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Media")])],1)],1)],1),a("v-list-group",{attrs:{nav:"",dark:"","prepend-icon":"person","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Performance")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/kpi"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("KPI")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/activities"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Key Activities")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/summary_maintenance"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Summary of maintenance")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Media")])],1)],1)],1),a("v-list-group",{attrs:{nav:"",dark:"","prepend-icon":"person","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Score Card")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/deliverables1"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("MWH Deliverables 1")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/deliverables2"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("MWH Deliverables 2")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/summary_scorecard"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Summary of Scorecard")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Media")])],1)],1)],1),a("v-list-group",{attrs:{nav:"",dark:"","prepend-icon":"person","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Human Resources")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/addemployee"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Add Employee")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/employeelist"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Employee List")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-hospital-building","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[e._v("External Structures")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/maitenance_impact"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Road Maintenance Impact")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/management_plan"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Management Plan")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/road_asset"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Asset Evaluation (Road Assets)")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/non_road_asset"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Asset Evaluation (Non Road Assets)")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/stakeholder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Stakeholders Management")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/pestle"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("PESTLE as it affects FERMA")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/road_information"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Road Information")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/pbmc"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("PBMC")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/public_private"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Private Public Partnership")])],1)],1),a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Media")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"folder","active-class":"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[e._v("Media/Files")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{"active-class":"white--text",to:"/folder"}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Folders")])],1)],1)],1),a("v-list-item",{attrs:{router:"",to:"/insight"}},[a("v-list-item-action",[a("v-icon",[e._v("event")])],1),a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"green"}},[e._v("Visualisation")])],1)],1)],1)],1),a("v-main",[a("router-view")],1)],1)},we=[],Ce={name:"Home",data:function(){return{drawer:null,tab:null,inset:!0,staffuser:[],pharmacyuser:[]}},mounted:function(){this.checkLoggedIn(),this.getStaffUser()},methods:{draw:function(){this.drawer=!this.drawer},logout:function(){this.$session.clear(),sessionStorage.clear(),this.$router.push("/login")},checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}}},Ie=Ce,ye=a("5bc1"),ke=a("8212"),Be=a("132d"),$e=a("8860"),Ve=a("56b0"),Ae=a("da13"),Se=a("1800"),Te=a("5d23"),Ee=a("e449"),Re=a("f774"),ze=Object(l["a"])(Ie,be,we,!1,null,null,null),qe=ze.exports;_()(ze,{VApp:x["a"],VAppBar:b["a"],VAppBarNavIcon:ye["a"],VAvatar:ke["a"],VBtn:w["a"],VIcon:Be["a"],VImg:j["a"],VList:$e["a"],VListGroup:Ve["a"],VListItem:Ae["a"],VListItemAction:Se["a"],VListItemContent:Te["a"],VListItemTitle:Te["b"],VMain:I["a"],VMenu:Ee["a"],VNavigationDrawer:Re["a"],VSpacer:B["a"],VToolbarTitle:$["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"mt-4",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"8",md:"8",sm:"8"}},[a("div",{staticClass:"my-2"},[a("h2",{staticClass:"display-1 text-h4 font-weight-light gray--text"},[e._v("\n          Hello, "+e._s(e.staffuser.first_name)+"!\n        ")]),a("h4",{staticClass:"text-h6 font-weight-thin gray--text"},[e._v("Welcome back")])])])],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"8",md:"8",sm:"8"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm6:"",xm6:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/employeelist",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[e._v("Employees")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[e._v("people")]),a("v-spacer")],1)],1)],1)],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/budget",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[e._v("Budget")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[e._v("mdi-cash")]),a("v-spacer")],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/kpi",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[e._v("Performance")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[e._v("mdi-web")]),a("v-spacer")],1)],1)],1)],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/folder",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[e._v("Documents")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[e._v("mdi-file")]),a("v-spacer")],1)],1)],1)],1)],1)],1)],1),a("div")],1)},Le=[],De={name:"Dashboard",data:function(){return{tab:null,staffuser:[]}},mounted:function(){this.checkLoggedIn(),this.getStaffUser()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(Swal.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}}},Oe=De,Ne=a("0e8f"),Me=a("71d9"),je=Object(l["a"])(Oe,Pe,Le,!1,null,null,null),Fe=je.exports;_()(je,{VCard:D["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VFlex:Ne["a"],VIcon:Be["a"],VLayout:F["a"],VRow:k["a"],VSpacer:B["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.budget,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Budget")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Year"},model:{value:e.editedItem.year,callback:function(t){e.$set(e.editedItem,"year",t)},expression:"editedItem.year"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Annual Budget"},model:{value:e.editedItem.annual_budget,callback:function(t){e.$set(e.editedItem,"annual_budget",t)},expression:"editedItem.annual_budget"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Preventive maintenance"},model:{value:e.editedItem.preventive_maintenance,callback:function(t){e.$set(e.editedItem,"preventive_maintenance",t)},expression:"editedItem.preventive_maintenance"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Planned maintenance"},model:{value:e.editedItem.planned_maintenance,callback:function(t){e.$set(e.editedItem,"planned_maintenance",t)},expression:"editedItem.planned_maintenance"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Routine maintenance"},model:{value:e.editedItem.routine_maintenance,callback:function(t){e.$set(e.editedItem,"routine_maintenance",t)},expression:"editedItem.routine_maintenance"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Amount and % spent on Emergency works"},model:{value:e.editedItem.emergency_works,callback:function(t){e.$set(e.editedItem,"emergency_works",t)},expression:"editedItem.emergency_works"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Amount and % spent on other Activities"},model:{value:e.editedItem.other_activities,callback:function(t){e.$set(e.editedItem,"other_activities",t)},expression:"editedItem.other_activities"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Released Budget (per Project)"},model:{value:e.editedItem.released_budget,callback:function(t){e.$set(e.editedItem,"released_budget",t)},expression:"editedItem.released_budget"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Utilized Budget (per Project)"},model:{value:e.editedItem.utilized_budget,callback:function(t){e.$set(e.editedItem,"utilized_budget",t)},expression:"editedItem.utilized_budget"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ge=[],Qe=(a("c975"),{name:"Budget",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Year",value:"year"},{text:"Annual Budget",value:"annual_budget"},{text:"Approraited budget",value:"approraited_budget"},{text:"Preventive maintenance",value:"preventive_maintenance"},{text:"Planned maintenance",value:"planned_maintenance"},{text:"Routine maintenance",value:"routine_maintenance"},{text:"Emergency works",value:"emergency_works"},{text:"Other activities",value:"other_activities"},{text:"Released Budget (per Project)",value:"released_budget"},{text:"Utilized Budget (per Project)",value:"utilized_budget"},{text:"Actions",value:"actions"}],budget:[],editedIndex:-1,editedItem:{year:"",annual_budget:"",preventive_maintenance:"",planned_maintenance:"",routine_maintenance:"",emergency_works:"",released_budget:"",utilized_budget:""},defaultItem:{year:"",annual_budget:"",preventive_maintenance:"",planned_maintenance:"",routine_maintenance:"",emergency_works:"",released_budget:"",utilized_budget:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Budget":"Edit Budget"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/budget/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.budget=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/budget/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Budget Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/budget/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Budget Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/budget/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Budget Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.budget.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this budget?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}}),Ke=Qe,We=a("8fea"),He=a("169a"),Ye=Object(l["a"])(Ke,Ue,Ge,!1,null,null,null),Je=Ye.exports;_()(Ye,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.federal_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Total Maintenance Cost for the National Road Network -\n            Federal")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{type:"number",outlined:"",items:e.mode,rules:e.rules.name,label:"Mode"},model:{value:e.editedItem.mode,callback:function(t){e.$set(e.editedItem,"mode",t)},expression:"editedItem.mode"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Dual Carriage (Paved 4 lane)"},model:{value:e.editedItem.dual_carriage_amount,callback:function(t){e.$set(e.editedItem,"dual_carriage_amount",t)},expression:"editedItem.dual_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.dual_carriage_percent,callback:function(t){e.$set(e.editedItem,"dual_carriage_percent",t)},expression:"editedItem.dual_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Single - Lane Carriage(paved 2 Lane)"},model:{value:e.editedItem.single_carriage_amount,callback:function(t){e.$set(e.editedItem,"single_carriage_amount",t)},expression:"editedItem.single_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.single_carriage_percent,callback:function(t){e.$set(e.editedItem,"single_carriage_percent",t)},expression:"editedItem.single_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Earth Roads (unpaved)"},model:{value:e.editedItem.earth_carriage_amount,callback:function(t){e.$set(e.editedItem,"earth_carriage_amount",t)},expression:"editedItem.earth_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.earth_carriage_percent,callback:function(t){e.$set(e.editedItem,"earth_carriage_percent",t)},expression:"editedItem.earth_carriage_percent"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Xe=[],et={name:"Maintenance",data:function(){return{dialog:!1,valid:!0,mode:["Periodic","Routine"],headers:[{text:"Mode",value:"mode"},{text:"Dual Carriage (Paved 4 lane)",value:"dual_carriage_amount"},{text:"Percentage",value:"dual_carriage_percent"},{text:"Single - Lane Carriage(paved 2 Lane)",value:"single_carriage_amount"},{text:"Percentage",value:"single_carriage_percent"},{text:"Earth Roads (unpaved)",value:"earth_carriage_amount"},{text:"Percentage",value:"earth_carriage_percent"},{text:"Actions",value:"actions"}],federal_maintenance:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Maintenance":"Edit Maintenance"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/federal_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.federal_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/federal_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Maintenance Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/federal_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Maintenance Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/federal_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Maintenance Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.federal_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance cost?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},tt=et,at=Object(l["a"])(tt,Ze,Xe,!1,null,null,null),it=at.exports;_()(at,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.state_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Total Maintenance Cost for the National Road Network - State")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{type:"number",outlined:"",items:e.mode,rules:e.rules.name,label:"Mode"},model:{value:e.editedItem.mode,callback:function(t){e.$set(e.editedItem,"mode",t)},expression:"editedItem.mode"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Dual Carriage (Paved 4 lane)"},model:{value:e.editedItem.dual_carriage_amount,callback:function(t){e.$set(e.editedItem,"dual_carriage_amount",t)},expression:"editedItem.dual_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.dual_carriage_percent,callback:function(t){e.$set(e.editedItem,"dual_carriage_percent",t)},expression:"editedItem.dual_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Single - Lane Carriage(paved 2 Lane)"},model:{value:e.editedItem.single_carriage_amount,callback:function(t){e.$set(e.editedItem,"single_carriage_amount",t)},expression:"editedItem.single_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.single_carriage_percent,callback:function(t){e.$set(e.editedItem,"single_carriage_percent",t)},expression:"editedItem.single_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Earth Roads (unpaved)"},model:{value:e.editedItem.earth_carriage_amount,callback:function(t){e.$set(e.editedItem,"earth_carriage_amount",t)},expression:"editedItem.earth_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.earth_carriage_percent,callback:function(t){e.$set(e.editedItem,"earth_carriage_percent",t)},expression:"editedItem.earth_carriage_percent"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},nt=[],ot={name:"Maintenance",data:function(){return{dialog:!1,valid:!0,mode:["Periodic","Routine"],headers:[{text:"Mode",value:"mode"},{text:"Dual Carriage (Paved 4 lane)",value:"dual_carriage_amount"},{text:"Percentage",value:"dual_carriage_percent"},{text:"Single - Lane Carriage(paved 2 Lane)",value:"single_carriage_amount"},{text:"Percentage",value:"single_carriage_percent"},{text:"Earth Roads (unpaved)",value:"earth_carriage_amount"},{text:"Percentage",value:"earth_carriage_percent"},{text:"Actions",value:"actions"}],state_maintenance:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Maintenance":"Edit Maintenance"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/state_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.state_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/state_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Maintenance Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/state_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Maintenance Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/state_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Maintenance Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.state_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance cost?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},rt=ot,lt=Object(l["a"])(rt,st,nt,!1,null,null,null),ct=lt.exports;_()(lt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.urban_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Total Maintenance Cost for the National Road Network - LGA:Urban")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{type:"number",outlined:"",items:e.mode,rules:e.rules.name,label:"Mode"},model:{value:e.editedItem.mode,callback:function(t){e.$set(e.editedItem,"mode",t)},expression:"editedItem.mode"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Dual Carriage (Paved 4 lane)"},model:{value:e.editedItem.dual_carriage_amount,callback:function(t){e.$set(e.editedItem,"dual_carriage_amount",t)},expression:"editedItem.dual_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.dual_carriage_percent,callback:function(t){e.$set(e.editedItem,"dual_carriage_percent",t)},expression:"editedItem.dual_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Single - Lane Carriage(paved 2 Lane)"},model:{value:e.editedItem.single_carriage_amount,callback:function(t){e.$set(e.editedItem,"single_carriage_amount",t)},expression:"editedItem.single_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.single_carriage_percent,callback:function(t){e.$set(e.editedItem,"single_carriage_percent",t)},expression:"editedItem.single_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Earth Roads (unpaved)"},model:{value:e.editedItem.earth_carriage_amount,callback:function(t){e.$set(e.editedItem,"earth_carriage_amount",t)},expression:"editedItem.earth_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.earth_carriage_percent,callback:function(t){e.$set(e.editedItem,"earth_carriage_percent",t)},expression:"editedItem.earth_carriage_percent"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},ut=[],mt={name:"Maintenance",data:function(){return{dialog:!1,valid:!0,mode:["Periodic","Routine"],headers:[{text:"Mode",value:"mode"},{text:"Dual Carriage (Paved 4 lane)",value:"dual_carriage_amount"},{text:"Percentage",value:"dual_carriage_percent"},{text:"Single - Lane Carriage(paved 2 Lane)",value:"single_carriage_amount"},{text:"Percentage",value:"single_carriage_percent"},{text:"Earth Roads (unpaved)",value:"earth_carriage_amount"},{text:"Percentage",value:"earth_carriage_percent"},{text:"Actions",value:"actions"}],urban_maintenance:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Maintenance":"Edit Maintenance"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/urban_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.urban_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/urban_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Maintenance Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/urban_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Maintenance Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/urban_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Maintenance Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.urban_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance cost?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},ft=mt,vt=Object(l["a"])(ft,dt,ut,!1,null,null,null),ht=vt.exports;_()(vt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.rural_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Total Maintenance Cost for the National Road Network - LGA:Rural")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{type:"number",outlined:"",items:e.mode,rules:e.rules.name,label:"Mode"},model:{value:e.editedItem.mode,callback:function(t){e.$set(e.editedItem,"mode",t)},expression:"editedItem.mode"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Dual Carriage (Paved 4 lane)"},model:{value:e.editedItem.dual_carriage_amount,callback:function(t){e.$set(e.editedItem,"dual_carriage_amount",t)},expression:"editedItem.dual_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.dual_carriage_percent,callback:function(t){e.$set(e.editedItem,"dual_carriage_percent",t)},expression:"editedItem.dual_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Single - Lane Carriage(paved 2 Lane)"},model:{value:e.editedItem.single_carriage_amount,callback:function(t){e.$set(e.editedItem,"single_carriage_amount",t)},expression:"editedItem.single_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.single_carriage_percent,callback:function(t){e.$set(e.editedItem,"single_carriage_percent",t)},expression:"editedItem.single_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Earth Roads (unpaved)"},model:{value:e.editedItem.earth_carriage_amount,callback:function(t){e.$set(e.editedItem,"earth_carriage_amount",t)},expression:"editedItem.earth_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.earth_carriage_percent,callback:function(t){e.$set(e.editedItem,"earth_carriage_percent",t)},expression:"editedItem.earth_carriage_percent"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},gt=[],_t={name:"Maintenance",data:function(){return{dialog:!1,valid:!0,mode:["Periodic","Routine"],headers:[{text:"Mode",value:"mode"},{text:"Dual Carriage (Paved 4 lane)",value:"dual_carriage_amount"},{text:"Percentage",value:"dual_carriage_percent"},{text:"Single - Lane Carriage(paved 2 Lane)",value:"single_carriage_amount"},{text:"Percentage",value:"single_carriage_percent"},{text:"Earth Roads (unpaved)",value:"earth_carriage_amount"},{text:"Percentage",value:"earth_carriage_percent"},{text:"Actions",value:"actions"}],rural_maintenance:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Maintenance":"Edit Maintenance"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/rural_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.rural_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/rural_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Maintenance Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/rural_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Maintenance Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/rural_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Maintenance Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.rural_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance cost?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},xt=_t,bt=Object(l["a"])(xt,pt,gt,!1,null,null,null),wt=bt.exports;_()(bt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.village_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Total Maintenance Cost for the National Road Network - LGA:Village")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{type:"number",outlined:"",items:e.mode,rules:e.rules.name,label:"Mode"},model:{value:e.editedItem.mode,callback:function(t){e.$set(e.editedItem,"mode",t)},expression:"editedItem.mode"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Dual Carriage (Paved 4 lane)"},model:{value:e.editedItem.dual_carriage_amount,callback:function(t){e.$set(e.editedItem,"dual_carriage_amount",t)},expression:"editedItem.dual_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.dual_carriage_percent,callback:function(t){e.$set(e.editedItem,"dual_carriage_percent",t)},expression:"editedItem.dual_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Single - Lane Carriage(paved 2 Lane)"},model:{value:e.editedItem.single_carriage_amount,callback:function(t){e.$set(e.editedItem,"single_carriage_amount",t)},expression:"editedItem.single_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.single_carriage_percent,callback:function(t){e.$set(e.editedItem,"single_carriage_percent",t)},expression:"editedItem.single_carriage_percent"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Earth Roads (unpaved)"},model:{value:e.editedItem.earth_carriage_amount,callback:function(t){e.$set(e.editedItem,"earth_carriage_amount",t)},expression:"editedItem.earth_carriage_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Percentage"},model:{value:e.editedItem.earth_carriage_percent,callback:function(t){e.$set(e.editedItem,"earth_carriage_percent",t)},expression:"editedItem.earth_carriage_percent"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},It=[],yt={name:"Maintenance",data:function(){return{dialog:!1,valid:!0,mode:["Periodic","Routine"],headers:[{text:"Mode",value:"mode"},{text:"Dual Carriage (Paved 4 lane)",value:"dual_carriage_amount"},{text:"Percentage",value:"dual_carriage_percent"},{text:"Single - Lane Carriage(paved 2 Lane)",value:"single_carriage_amount"},{text:"Percentage",value:"single_carriage_percent"},{text:"Earth Roads (unpaved)",value:"earth_carriage_amount"},{text:"Percentage",value:"earth_carriage_percent"},{text:"Actions",value:"actions"}],village_maintenance:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Maintenance":"Edit Maintenance"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/village_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.village_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/village_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Maintenance Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/village_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Maintenance Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/village_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Maintenance Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.village_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance cost?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},kt=yt,Bt=Object(l["a"])(kt,Ct,It,!1,null,null,null),$t=Bt.exports;_()(Bt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Total Maintenance Cost for the National Road Network")])],1),a("v-divider"),a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"}),a("th",{staticClass:"text-center title",attrs:{colspan:"2"}},[e._v("Dual Carriageway "),a("br"),e._v(" (Paved 4 lane)")]),a("th",{staticClass:"text-center title",attrs:{colspan:"2"}},[e._v("Single - Lane Carriageway "),a("br"),e._v(" (Paved 2 lane)")]),a("th",{staticClass:"text-center title",attrs:{colspan:"2"}},[e._v("Earth Roads "),a("br"),e._v(" (Unpaved)")]),a("th",{staticClass:"text-center title",attrs:{colspan:"2"}},[e._v("Total")])])]),a("tbody",[a("tr",[a("td"),a("td",{staticClass:"text-right"},[e._v("N million")]),a("td",{staticClass:"text-right"},[e._v("%")]),a("td",{staticClass:"text-right"},[e._v("N million")]),a("td",{staticClass:"text-right"},[e._v("%")]),a("td",{staticClass:"text-right"},[e._v("N million")]),a("td",{staticClass:"text-right"},[e._v("%")]),a("td",{staticClass:"text-right"},[e._v("N million")]),a("td",{staticClass:"text-right"},[e._v("%")])]),a("tr",[a("td",[a("b",[e._v("Federal")])]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")]),a("tr",[a("td",[e._v("Routine")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.routine.total_percent)+"%")])]),a("tr",[a("td",[e._v("Periodic")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.periodic.total_percent)+"%")])]),a("tr",[a("td",[e._v("Sub-total")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.federal_costreport.subtotal.total_percent)+"%")])]),a("tr",[a("td",[a("b",[e._v("State")])]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")]),a("tr",[a("td",[e._v("Routine")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.routine.total_percent)+"%")])]),a("tr",[a("td",[e._v("Periodic")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.periodic.total_percent)+"%")])]),a("tr",[a("td",[e._v("Sub-total")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.state_costreport.subtotal.total_percent)+"%")])]),a("tr",[a("td",[a("b",[e._v("LGA:Rural")])]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")]),a("tr",[a("td",[e._v("Routine")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.routine.total_percent)+"%")])]),a("tr",[a("td",[e._v("Periodic")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.periodic.total_percent)+"%")])]),a("tr",[a("td",[e._v("Sub-total")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.rural_costreport.subtotal.total_percent)+"%")])]),a("tr",[a("td",[a("b",[e._v("LGA:Urban")])]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")]),a("tr",[a("td",[e._v("Routine")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.routine.total_percent)+"%")])]),a("tr",[a("td",[e._v("Periodic")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.periodic.total_percent)+"%")])]),a("tr",[a("td",[e._v("Sub-total")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.urban_costreport.subtotal.total_percent)+"%")])]),a("tr",[a("td",[a("b",[e._v("LGA:Village")])]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")]),a("tr",[a("td",[e._v("Routine")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.routine.total_percent)+"%")])]),a("tr",[a("td",[e._v("Periodic")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.periodic.total_percent)+"%")])]),a("tr",[a("td",[e._v("Sub-total")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.dual_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.dual_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.single_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.single_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.earth_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.earth_percent)+"%")]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.total_amount))]),a("td",{staticClass:"text-right"},[e._v(e._s(e.village_costreport.subtotal.total_percent)+"%")])])])]},proxy:!0}])})],1)],1)},At=[],St={name:"Maintenance",data:function(){return{federal_costreport:[],state_costreport:[],rural_costreport:[],urban_costreport:[],village_costreport:[]}},created:function(){this.getFederal(),this.getState(),this.getRural(),this.getUrban(),this.getVillage()},methods:{getFederal:function(){var e=this;R.a.get("/api/federal_costreport/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.federal_costreport=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},getState:function(){var e=this;R.a.get("/api/state_costreport/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.state_costreport=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},getRural:function(){var e=this;R.a.get("/api/rural_costreport/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.rural_costreport=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},getUrban:function(){var e=this;R.a.get("/api/urban_costreport/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.urban_costreport=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},getVillage:function(){var e=this;R.a.get("/api/village_costreport/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.village_costreport=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}}},Tt=St,Et=(a("ed69"),a("ce7e")),Rt=a("1f4f"),zt=Object(l["a"])(Tt,Vt,At,!1,null,"10b8accd",null),qt=zt.exports;_()(zt,{VCard:D["a"],VContainer:N["a"],VDivider:Et["a"],VSimpleTable:Rt["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.maintenance_impact,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Road Maintenance Impact")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Impact plan"},model:{value:e.editedItem.impact_plan,callback:function(t){e.$set(e.editedItem,"impact_plan",t)},expression:"editedItem.impact_plan"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"GDP Economy"},model:{value:e.editedItem.gdp_economy,callback:function(t){e.$set(e.editedItem,"gdp_economy",t)},expression:"editedItem.gdp_economy"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Climate Change"},model:{value:e.editedItem.climate_change,callback:function(t){e.$set(e.editedItem,"climate_change",t)},expression:"editedItem.climate_change"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Other Factors 1"},model:{value:e.editedItem.other_factors_1,callback:function(t){e.$set(e.editedItem,"other_factors_1",t)},expression:"editedItem.other_factors_1"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Lt=[],Dt={name:"MaintenanceImpact",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Impact Plan",value:"impact_plan"},{text:"GDP/Economy",value:"gdp_economy"},{text:"Climate Change",value:"climate_change"},{text:"Other Factor",value:"other_factor_1"},{text:"Other Factor",value:"other_factor_2"},{text:"Actions",value:"actions"}],maintenance_impact:[],editedIndex:-1,editedItem:{impact_plan:"",gdp_economy:"",climate_change:"",other_factor_1:"",other_factor_2:""},defaultItem:{impact_plan:"",gdp_economy:"",climate_change:"",other_factor_1:"",other_factor_2:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Road Maintenance Impact":"Edit Road Maintenance Impact"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/maintenance_impact/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.maintenance_impact=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/maintenance_impact/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Impact Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/maintenance_impact/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Impact Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/maintenance_impact/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Impact Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.maintenance_impact.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance impact?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Ot=Dt,Nt=Object(l["a"])(Ot,Pt,Lt,!1,null,null,null),Mt=Nt.exports;_()(Nt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.management_plan,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Management Plan")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Strategic Plan"},model:{value:e.editedItem.strategic_plan,callback:function(t){e.$set(e.editedItem,"strategic_plan",t)},expression:"editedItem.strategic_plan"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Management Plan"},model:{value:e.editedItem.management_plan,callback:function(t){e.$set(e.editedItem,"management_plan",t)},expression:"editedItem.management_plan"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Business Plan"},model:{value:e.editedItem.business_plan,callback:function(t){e.$set(e.editedItem,"business_plan",t)},expression:"editedItem.business_plan"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Department Plan"},model:{value:e.editedItem.department_plan,callback:function(t){e.$set(e.editedItem,"department_plan",t)},expression:"editedItem.department_plan"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Other Agency Plan"},model:{value:e.editedItem.agency_plan,callback:function(t){e.$set(e.editedItem,"agency_plan",t)},expression:"editedItem.agency_plan"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ft=[],Ut={name:"ManagementPlan",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Strategic Plan",value:"strategic_plan"},{text:"Management Plan",value:"management_plan"},{text:"Business Plan",value:"business_plan"},{text:"Department Plan",value:"department_plan"},{text:"Other Agency Plan",value:"agency_plan"},{text:"Actions",value:"actions"}],management_plan:[],editedIndex:-1,editedItem:{strategic_plan:"",management_plan:"",business_plan:"",department_plan:"",agency_plan:""},defaultItem:{strategic_plan:"",management_plan:"",business_plan:"",department_plan:"",agency_plan:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Management Plan":"Edit Management Plan"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/management_plan/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.management_plan=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/management_plan/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Plan Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/management_plan/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Plan Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/management_plan/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Plan Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.management_plan.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this management plan?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Gt=Ut,Qt=Object(l["a"])(Gt,jt,Ft,!1,null,null,null),Kt=Qt.exports;_()(Qt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.road_asset,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Asset Evaluation (Road Assets)")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-select",{attrs:{outlined:"",rules:e.rules.name,items:e.assets,label:"Assets"},model:{value:e.editedItem.asset,callback:function(t){e.$set(e.editedItem,"asset",t)},expression:"editedItem.asset"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Number"},model:{value:e.editedItem.numbers,callback:function(t){e.$set(e.editedItem,"numbers",t)},expression:"editedItem.numbers"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Class"},model:{value:e.editedItem.classes,callback:function(t){e.$set(e.editedItem,"classes",t)},expression:"editedItem.classes"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Value"},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ht=[],Yt={name:"RoadAsset",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Assets",value:"asset"},{text:"Name",value:"name"},{text:"Numbers",value:"numbers"},{text:"Class",value:"classes"},{text:"Value",value:"value"},{text:"Actions",value:"actions"}],road_asset:[],assets:["Rebuilding Cost","Road Furniture","Roads","Bridges","Tolled/Non-tolled","Consession/Non-consession"],editedIndex:-1,editedItem:{name:"",number:"",classes:"",value:"",rebuilding_cost:"",road_furniture_cost:"",roads:"",bridges:"",tolled:"",consession:""},defaultItem:{name:"",number:"",classes:"",value:"",rebuilding_cost:"",road_furniture_cost:"",roads:"",bridges:"",tolled:"",consession:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Road Asset":"Edit Road Asset"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/road_asset/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.road_asset=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/road_asset/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Asset Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/road_asset/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Asset Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/road_asset/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Asset Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.road_asset.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this asset?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Jt=Yt,Zt=Object(l["a"])(Jt,Wt,Ht,!1,null,null,null),Xt=Zt.exports;_()(Zt,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.non_road_asset,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Asset Evaluation (Non Road Assets)")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Location"},model:{value:e.editedItem.location,callback:function(t){e.$set(e.editedItem,"location",t)},expression:"editedItem.location"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Laboratories"},model:{value:e.editedItem.laboratories,callback:function(t){e.$set(e.editedItem,"laboratories",t)},expression:"editedItem.laboratories"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Facilities"},model:{value:e.editedItem.facilities,callback:function(t){e.$set(e.editedItem,"facilities",t)},expression:"editedItem.facilities"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Asphalt plant"},model:{value:e.editedItem.asphalt_plant,callback:function(t){e.$set(e.editedItem,"asphalt_plant",t)},expression:"editedItem.asphalt_plant"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"graders"},model:{value:e.editedItem.graders,callback:function(t){e.$set(e.editedItem,"graders",t)},expression:"editedItem.graders"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Sundry equipment"},model:{value:e.editedItem.sundry_equipment,callback:function(t){e.$set(e.editedItem,"sundry_equipment",t)},expression:"editedItem.sundry_equipment"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Mini asphalt plant"},model:{value:e.editedItem.mini_asphalt,callback:function(t){e.$set(e.editedItem,"mini_asphalt",t)},expression:"editedItem.mini_asphalt"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Loader"},model:{value:e.editedItem.loader,callback:function(t){e.$set(e.editedItem,"loader",t)},expression:"editedItem.loader"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},ta=[],aa={name:"Non Road Assets",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Location",value:"location"},{text:"Laboratories",value:"laboratories"},{text:"Facilities",value:"facilities"},{text:"Plant Equipment",value:"plant_equipment"},{text:"Asphalt Plant",value:"asphalt_plant"},{text:"Graders",value:"graders"},{text:"Sundry Equipment",value:"sundry_equipment"},{text:"Mini Asphalt Plant",value:"mini_asphalt"},{text:"Loader",value:"loader"},{text:"Actions",value:"actions"}],non_road_asset:[],editedIndex:-1,editedItem:{location:"",laboratories:"",facilities:"",plant_equipment:"",mini_asphalt:"",loader:"",sundry_equipment:"",asphalt_plant:"",graders:""},defaultItem:{location:"",laboratories:"",facilities:"",plant_equipment:"",mini_asphalt:"",loader:"",sundry_equipment:"",asphalt_plant:"",graders:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Non Road Assets":"Edit Non Road Assets"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/non_road_asset/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.non_road_asset=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/non_road_asset/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Asset Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/non_road_asset/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Asset Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/non_road_asset/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Asset Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.non_road_asset.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this asset?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},ia=aa,sa=Object(l["a"])(ia,ea,ta,!1,null,null,null),na=sa.exports;_()(sa,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.stakeholder,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Shareholders Management")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Stake"},model:{value:e.editedItem.stake,callback:function(t){e.$set(e.editedItem,"stake",t)},expression:"editedItem.stake"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Address"},model:{value:e.editedItem.address,callback:function(t){e.$set(e.editedItem,"address",t)},expression:"editedItem.address"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Phone"},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Survey"},model:{value:e.editedItem.survey,callback:function(t){e.$set(e.editedItem,"survey",t)},expression:"editedItem.survey"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Other details"},model:{value:e.editedItem.other,callback:function(t){e.$set(e.editedItem,"other",t)},expression:"editedItem.other"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},ra=[],la={name:"Stakeholder",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Name",value:"name"},{text:"Stake",value:"stake"},{text:"Address",value:"address"},{text:"Phone",value:"phone"},{text:"Survey",value:"survey"},{text:"Other details",value:"other"},{text:"Actions",value:"actions",sortable:!1}],stakeholder:[],editedIndex:-1,editedItem:{name:"",stake:"",address:"",phone:"",survey:""},defaultItem:{name:"",stake:"",address:"",phone:"",survey:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Stakeholder":"Edit Stakeholder"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/stakeholder/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.stakeholder=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/stakeholder/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Asset Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/stakeholder/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Asset Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/stakeholder/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Asset Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.stakeholder.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this stakeholder?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},ca=la,da=Object(l["a"])(ca,oa,ra,!1,null,null,null),ua=da.exports;_()(da,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.pestle,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("PESTLE as it affects FERMA")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Political"},model:{value:e.editedItem.political,callback:function(t){e.$set(e.editedItem,"political",t)},expression:"editedItem.political"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Economic"},model:{value:e.editedItem.economic,callback:function(t){e.$set(e.editedItem,"economic",t)},expression:"editedItem.economic"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Social"},model:{value:e.editedItem.social,callback:function(t){e.$set(e.editedItem,"social",t)},expression:"editedItem.social"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Technology"},model:{value:e.editedItem.technology,callback:function(t){e.$set(e.editedItem,"technology",t)},expression:"editedItem.technology"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Legal"},model:{value:e.editedItem.legal,callback:function(t){e.$set(e.editedItem,"legal",t)},expression:"editedItem.legal"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Environment"},model:{value:e.editedItem.environment,callback:function(t){e.$set(e.editedItem,"environment",t)},expression:"editedItem.environment"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},fa=[],va={name:"PESTLE",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Political",value:"political"},{text:"Economic",value:"economic"},{text:"Social",value:"social"},{text:"Technology",value:"technology"},{text:"Legal",value:"legal"},{text:"Environment",value:"environment"},{text:"Actions",value:"actions"}],pestle:[],editedIndex:-1,editedItem:{name:"",stake:"",address:"",phone:"",survey:""},defaultItem:{name:"",stake:"",address:"",phone:"",survey:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New PESTLE":"Edit PESTLE"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/pestle/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.pestle=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/pestle/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Asset Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/pestle/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Asset Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/pestle/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Asset Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.pestle.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this pestle?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},ha=va,pa=Object(l["a"])(ha,ma,fa,!1,null,null,null),ga=pa.exports;_()(pa,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var _a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.road_information,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Road Information")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Sources of Revenue for Road Fund"},model:{value:e.editedItem.revenue_source,callback:function(t){e.$set(e.editedItem,"revenue_source",t)},expression:"editedItem.revenue_source"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Number of tolled roads in the country"},model:{value:e.editedItem.tolled_road,callback:function(t){e.$set(e.editedItem,"tolled_road",t)},expression:"editedItem.tolled_road"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Total Length of the main road corridors network (Km)"},model:{value:e.editedItem.total_length_road_corridor,callback:function(t){e.$set(e.editedItem,"total_length_road_corridor",t)},expression:"editedItem.total_length_road_corridor"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Propotion of the main corridors(Good, fair, poor, bad)"},model:{value:e.editedItem.corridor_condition,callback:function(t){e.$set(e.editedItem,"corridor_condition",t)},expression:"editedItem.corridor_condition"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Total Length of secondary road network (Km)"},model:{value:e.editedItem.secondary_road_lenght,callback:function(t){e.$set(e.editedItem,"secondary_road_lenght",t)},expression:"editedItem.secondary_road_lenght"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Propotion of the secondary roads network (%) (Good, fair, poor, bad)"},model:{value:e.editedItem.secondary_road_propotion,callback:function(t){e.$set(e.editedItem,"secondary_road_propotion",t)},expression:"editedItem.secondary_road_propotion"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-checkbox",{attrs:{dense:"",label:"Is the road fund subject to periodic Audit?"},model:{value:e.editedItem.periodic_audit,callback:function(t){e.$set(e.editedItem,"periodic_audit",t)},expression:"editedItem.periodic_audit"}}),a("v-checkbox",{attrs:{dense:"",label:"Are Audits undertaken by an external Party?"},model:{value:e.editedItem.external_audit,callback:function(t){e.$set(e.editedItem,"external_audit",t)},expression:"editedItem.external_audit"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Total Length of unpaved road network"},model:{value:e.editedItem.unpaved_road_lenght,callback:function(t){e.$set(e.editedItem,"unpaved_road_lenght",t)},expression:"editedItem.unpaved_road_lenght"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Propotion of the unpaved roads in good or fair condition(%)"},model:{value:e.editedItem.unpaved_road_condition,callback:function(t){e.$set(e.editedItem,"unpaved_road_condition",t)},expression:"editedItem.unpaved_road_condition"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Number of roads per state"},model:{value:e.editedItem.no_road_per_state,callback:function(t){e.$set(e.editedItem,"no_road_per_state",t)},expression:"editedItem.no_road_per_state"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Number of roads Per zone"},model:{value:e.editedItem.no_road_per_zone,callback:function(t){e.$set(e.editedItem,"no_road_per_zone",t)},expression:"editedItem.no_road_per_zone"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Total road Network per state ( km)"},model:{value:e.editedItem.total_length_per_state,callback:function(t){e.$set(e.editedItem,"total_length_per_state",t)},expression:"editedItem.total_length_per_state"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Total road Network per Zone (km)"},model:{value:e.editedItem.total_length_per_zone,callback:function(t){e.$set(e.editedItem,"total_length_per_zone",t)},expression:"editedItem.total_length_per_zone"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Conditions of Federal road Network in Percentage"},model:{value:e.editedItem.condition_federal_road,callback:function(t){e.$set(e.editedItem,"condition_federal_road",t)},expression:"editedItem.condition_federal_road"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},xa=[],ba={name:"Road Information",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Revenue source",value:"revenue_source"},{text:"Number of tolled roads in the country",value:"tolled_road"},{text:"Total Length of the main road corridors network (Km)",value:"total_length_road_corridor"},{text:"Total Length of secondary road network (Km)",value:"secondary_road_lenght"},{text:"Propotion of the secondary roads network (%) (Good, fair, poor, bad)",value:"secondary_road_propotion"},{text:"Is the road fund subject to periodic Audit?",value:"periodic_audit"},{text:"Are Audits undertaken by an external Party?",value:"external_audit"},{text:"Total Length of unpaved road network",value:"unpaved_road_lenght"},{text:"Propotion of the unpaved roads in good or fair condition(%)",value:"unpaved_road_condition"},{text:"Number of roads per state",value:"no_road_per_state"},{text:"Number of roads Per zone",value:"no_road_per_zone"},{text:"Total road Network per state ( km)",value:"total_length_per_state"},{text:"Total road Network per Zone (km)",value:"total_length_per_zone"},{text:"Conditions of Federal road Network in Percentage",value:"condition_federal_road"},{text:"Length of the main road corridors network",value:"total_length_road_corridor"},{text:"Length of secondary road network (Km)",value:"secondary_road_lenght"},{text:"Length of unpaved road network",value:"unpaved_road_lenght"},{text:"Actions",value:"actions"}],road_information:[],editedIndex:-1,editedItem:{revenue_source:"",primary_road_propotion:"",secondary_road_propotion:"",periodic_audit:"",external_audit:"",unpaved_road_lenght:"",unpaved_road_condition:"",no_road_per_state:"",no_road_per_zone:"",total_length_per_state:"",total_length_per_zone:"",condition_federal_road:""},defaultItem:{revenue_source:"",primary_road_propotion:"",secondary_road_propotion:"",periodic_audit:"",external_audit:"",unpaved_road_lenght:"",unpaved_road_condition:"",no_road_per_state:"",no_road_per_zone:"",total_length_per_state:"",total_length_per_zone:"",condition_federal_road:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Road Information":"Edit Road Information"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/road_information/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.road_information=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/road_information/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Road Information Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/road_information/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Road Information Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/road_information/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Road Information Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.road_information.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this road information?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},wa=ba,Ca=a("ac7c"),Ia=Object(l["a"])(wa,_a,xa,!1,null,null,null),ya=Ia.exports;_()(Ia,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCheckbox:Ca["a"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.pbmc,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Performance Based Maintenance Contracts (PBMC)")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Road"},model:{value:e.editedItem.road,callback:function(t){e.$set(e.editedItem,"road",t)},expression:"editedItem.road"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Roads Maintained"},model:{value:e.editedItem.maintained_road,callback:function(t){e.$set(e.editedItem,"maintained_road",t)},expression:"editedItem.maintained_road"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Length of Roads Maintained"},model:{value:e.editedItem.road_length,callback:function(t){e.$set(e.editedItem,"road_length",t)},expression:"editedItem.road_length"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Cost of  the existing Performance Based Maintenance Contracts per year"},model:{value:e.editedItem.cost_of_road,callback:function(t){e.$set(e.editedItem,"cost_of_road",t)},expression:"editedItem.cost_of_road"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Capacity of road maitenance contractors with regards to PBM contract (Good /Fair /Poor/bad)"},model:{value:e.editedItem.capacity_of_contractor,callback:function(t){e.$set(e.editedItem,"capacity_of_contractor",t)},expression:"editedItem.capacity_of_contractor"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ba=[],$a={name:"PBMC",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Roads",value:"road"},{text:"Roads Maintained",value:"maintained_road"},{text:"Length of Roads Maintained",value:"road_length"},{text:"Cost of  the existing Performance Based Maintenance Contracts per year",value:"cost_of_road"},{text:"Capacity of road maitenance contractors with regards to PBM contract (Good /Fair /Poor/bad)",value:"capacity_of_contractor"},{text:"Actions",value:"actions",sortable:!1}],pbmc:[],editedIndex:-1,editedItem:{maintained_road:"",road_length:"",cost_of_road:"",capacity_of_contractor:""},defaultItem:{maintained_road:"",road_length:"",cost_of_road:"",capacity_of_contractor:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New PBMC":"Edit PBMC"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/pbmc/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.pbmc=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/pbmc/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"PBMC Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/pbmc/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"PBMC Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/pbmc/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"PBMC Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.pbmc.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this asset?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Va=$a,Aa=Object(l["a"])(Va,ka,Ba,!1,null,null,null),Sa=Aa.exports;_()(Aa,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.public_private,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Private Public Partnership")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Enabling legislation"},model:{value:e.editedItem.legislative_for_ppp,callback:function(t){e.$set(e.editedItem,"legislative_for_ppp",t)},expression:"editedItem.legislative_for_ppp"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-checkbox",{attrs:{dense:"",label:"Dedicated PPP Unit"},model:{value:e.editedItem.dedicated_ppp,callback:function(t){e.$set(e.editedItem,"dedicated_ppp",t)},expression:"editedItem.dedicated_ppp"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"The dedicated PPP unit falls under what Mininstry "},model:{value:e.editedItem.dedicated_ppp_ministry,callback:function(t){e.$set(e.editedItem,"dedicated_ppp_ministry",t)},expression:"editedItem.dedicated_ppp_ministry"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"How many road projects have been developed under a PPP scheme"},model:{value:e.editedItem.no_ppp_road,callback:function(t){e.$set(e.editedItem,"no_ppp_road",t)},expression:"editedItem.no_ppp_road"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"What is the length of road built under PPP scheme"},model:{value:e.editedItem.length_ppp_road,callback:function(t){e.$set(e.editedItem,"length_ppp_road",t)},expression:"editedItem.length_ppp_road"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ea=[],Ra={name:"Private Public Partnership",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Enabling legislation",value:"legislative_for_ppp"},{text:"Dedicated PPP Unit",value:"dedicated_ppp"},{text:"The dedicated PPP unit falls under what Mininstry ",value:"dedicated_ppp_ministry"},{text:"How many road projects have been developed under a PPP scheme",value:"no_ppp_road"},{text:"What is the length of road built under PPP scheme",value:"length_ppp_road"},{text:"Actions",value:"actions"}],public_private:[],editedIndex:-1,editedItem:{legislative_for_ppp:"",dedicated_ppp:"",dedicated_ppp_ministry:"",no_ppp_road:"",length_ppp_road:""},defaultItem:{legislative_for_ppp:"",dedicated_ppp:"",dedicated_ppp_ministry:"",no_ppp_road:"",length_ppp_road:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Private Public Partnership":"Edit Private Public Partnership"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/public_private/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.public_private=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/public_private/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Private Public Partnership Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/public_private/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Private Public Partnership Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/public_private/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Private Public Partnership Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.public_private.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this asset?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},za=Ra,qa=Object(l["a"])(za,Ta,Ea,!1,null,null,null),Pa=qa.exports;_()(qa,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCheckbox:Ca["a"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.road_project},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Road Project")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"East/West operations"},model:{value:e.editedItem.east_west,callback:function(t){e.$set(e.editedItem,"east_west",t)},expression:"editedItem.east_west"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Engineering"},model:{value:e.editedItem.engineering,callback:function(t){e.$set(e.editedItem,"engineering",t)},expression:"editedItem.engineering"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Diralables"},model:{value:e.editedItem.diralables,callback:function(t){e.$set(e.editedItem,"diralables",t)},expression:"editedItem.diralables"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Da=[],Oa={name:"Road Project",data:function(){return{dialog:!1,valid:!0,headers:[{text:"East/West Operations",value:"east_west"},{text:"Engineering",value:"engineering"},{text:"Diralables",value:"diralables"},{text:"Actions",value:"actions"}],road_project:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Road Project":"Edit Road Project"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/road_project/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.road_project=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/road_project/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Road Project Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/road_project/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Road Project Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/road_project/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Road Project Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.road_project.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this asset?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Na=Oa,Ma=Object(l["a"])(Na,La,Da,!1,null,null,null),ja=Ma.exports;_()(Ma,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.non_road_project},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Non Road Project")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Works"},model:{value:e.editedItem.works,callback:function(t){e.$set(e.editedItem,"works",t)},expression:"editedItem.works"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Goods and services"},model:{value:e.editedItem.good_services,callback:function(t){e.$set(e.editedItem,"good_services",t)},expression:"editedItem.good_services"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Consultancy"},model:{value:e.editedItem.consultancy,callback:function(t){e.$set(e.editedItem,"consultancy",t)},expression:"editedItem.consultancy"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ua=[],Ga={name:"Non Road Project",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Works",value:"works"},{text:"Goods and services",value:"good_services"},{text:"Consultancy",value:"consultancy"},{text:"Actions",value:"actions"}],non_road_project:[],editedIndex:-1,editedItem:{works:"",good_services:"",consultancy:""},defaultItem:{works:"",good_services:"",consultancy:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Non Road Project":"Edit Non Road Project"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/non_road_project/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.non_road_project=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/non_road_project/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Non Road Project Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/non_road_project/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Non Road Project Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/non_road_project/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Non Road Project Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.non_road_project.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this asset?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Qa=Ga,Ka=Object(l["a"])(Qa,Fa,Ua,!1,null,null,null),Wa=Ka.exports;_()(Ka,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.project_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Project on Maintenance Works")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"MDA"},model:{value:e.editedItem.mda,callback:function(t){e.$set(e.editedItem,"mda",t)},expression:"editedItem.mda"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"DESCRIPTION OF PROJECT"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"CONTRACT NO."},model:{value:e.editedItem.contract_no,callback:function(t){e.$set(e.editedItem,"contract_no",t)},expression:"editedItem.contract_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"CONTRACTOR"},model:{value:e.editedItem.contractor,callback:function(t){e.$set(e.editedItem,"contractor",t)},expression:"editedItem.contractor"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"CONTRACT SUM"},model:{value:e.editedItem.contract_sum,callback:function(t){e.$set(e.editedItem,"contract_sum",t)},expression:"editedItem.contract_sum"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"AMOUNT APPROPRIATED"},model:{value:e.editedItem.amount_appropriated,callback:function(t){e.$set(e.editedItem,"amount_appropriated",t)},expression:"editedItem.amount_appropriated"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"RELEASES"},model:{value:e.editedItem.release,callback:function(t){e.$set(e.editedItem,"release",t)},expression:"editedItem.release"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"AMOUNT CERTIFIED"},model:{value:e.editedItem.amount_certified,callback:function(t){e.$set(e.editedItem,"amount_certified",t)},expression:"editedItem.amount_certified"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"AMOUNT PAID"},model:{value:e.editedItem.amount_paid,callback:function(t){e.$set(e.editedItem,"amount_paid",t)},expression:"editedItem.amount_paid"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:" OUTSTANDING AMOUNT"},model:{value:e.editedItem.outstanding_amount,callback:function(t){e.$set(e.editedItem,"outstanding_amount",t)},expression:"editedItem.outstanding_amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"% COMPL"},model:{value:e.editedItem.compl,callback:function(t){e.$set(e.editedItem,"compl",t)},expression:"editedItem.compl"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",rules:e.rules.name,label:"REMARK"},model:{value:e.editedItem.remark,callback:function(t){e.$set(e.editedItem,"remark",t)},expression:"editedItem.remark"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ya=[],Ja={name:"Road Information",data:function(){return{dialog:!1,valid:!0,headers:[{text:"MDA",value:"mda"},{text:"Description",value:"description"},{text:"Contract No.",value:"contract_no"},{text:"Contractor",value:"contractor"},{text:"Contract Sum",value:"contract_sum"},{text:"Amount Appropriated",value:"amount_appropriated"},{text:"Releases",value:"release"},{text:"Amount Certified",value:"amount_certified"},{text:"Amount Paid",value:"amount_paid"},{text:"Outstanding Amount",value:"outstanding_amount"},{text:"Compl",value:"compl"},{text:"Remark",value:"remark"},{text:"Actions",value:"actions"}],project_maintenance:[],editedIndex:-1,editedItem:{mda:"",description:"",contract_no:"",contractor:"",contract_sum:"",amount_appropriated:"",release:"",amount_certified:"",amount_paid:"",outstanding_amount:"",compl:"",remark:""},defaultItem:{mda:"",description:"",contract_no:"",contractor:"",contract_sum:"",amount_appropriated:"",release:"",amount_certified:"",amount_paid:"",outstanding_amount:"",compl:"",remark:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Maintenance Works":"Edit Maintenance Works"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/project_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.project_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/project_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Maintenance Works Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/project_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Maintenance Works Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/project_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Maintenance Works Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.project_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this maintenance work?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Za=Ja,Xa=Object(l["a"])(Za,Ha,Ya,!1,null,null,null),ei=Xa.exports;_()(Xa,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VTextarea:K["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.inventory_road},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Inventory of Roads")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Route No"},model:{value:e.editedItem.route_no,callback:function(t){e.$set(e.editedItem,"route_no",t)},expression:"editedItem.route_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Total Length (Km)"},model:{value:e.editedItem.total_length,callback:function(t){e.$set(e.editedItem,"total_length",t)},expression:"editedItem.total_length"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"C'way Width"},model:{value:e.editedItem.cway_width,callback:function(t){e.$set(e.editedItem,"cway_width",t)},expression:"editedItem.cway_width"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Existing Shoulder width (M) "},model:{value:e.editedItem.shoulder_width,callback:function(t){e.$set(e.editedItem,"shoulder_width",t)},expression:"editedItem.shoulder_width"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"W.C"},model:{value:e.editedItem.wc,callback:function(t){e.$set(e.editedItem,"wc",t)},expression:"editedItem.wc"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"B.C"},model:{value:e.editedItem.bc,callback:function(t){e.$set(e.editedItem,"bc",t)},expression:"editedItem.bc"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"S.D"},model:{value:e.editedItem.sd,callback:function(t){e.$set(e.editedItem,"sd",t)},expression:"editedItem.sd"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Earth"},model:{value:e.editedItem.earth,callback:function(t){e.$set(e.editedItem,"earth",t)},expression:"editedItem.earth"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Sub-Base/Thickness(MM)"},model:{value:e.editedItem.sub_base,callback:function(t){e.$set(e.editedItem,"sub_base",t)},expression:"editedItem.sub_base"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Base/ Thickness (MM)"},model:{value:e.editedItem.base,callback:function(t){e.$set(e.editedItem,"base",t)},expression:"editedItem.base"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Shoulder"},model:{value:e.editedItem.shoulder,callback:function(t){e.$set(e.editedItem,"shoulder",t)},expression:"editedItem.shoulder"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Good"},model:{value:e.editedItem.good,callback:function(t){e.$set(e.editedItem,"good",t)},expression:"editedItem.good"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Fair"},model:{value:e.editedItem.fair,callback:function(t){e.$set(e.editedItem,"fair",t)},expression:"editedItem.fair"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Poor"},model:{value:e.editedItem.poor,callback:function(t){e.$set(e.editedItem,"poor",t)},expression:"editedItem.poor"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Bad"},model:{value:e.editedItem.bad,callback:function(t){e.$set(e.editedItem,"bad",t)},expression:"editedItem.bad"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},ai=[],ii={name:"Inventory of Road",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Name",value:"name"},{text:"Route No",value:"route_no"},{text:"Total Length (Km)",value:"total_length"},{text:"C'way Width",value:"cway_width"},{text:"Existing Shoulder width (M)",value:"shoulder_width"},{text:"W.C",value:"wc"},{text:"B.C",value:"bc"},{text:"S.D",value:"sd"},{text:"Earth",value:"earth"},{text:"Sub-Base/Thickness(MM)",value:"sub_base"},{text:"Base/ Thickness (MM)",value:"base"},{text:"Shoulder",value:"shoulder"},{text:"Good",value:"good"},{text:"Fair",value:"fair"},{text:"Poor",value:"poor"},{text:"Bad",value:"bad"},{text:"Actions",value:"actions"}],inventory_road:[],editedIndex:-1,editedItem:{name:"",route_no:"",wc:"",bc:"",sd:"",earth:"",sub_base:"",base:"",shoulder:"",good:"",fair:"",poor:"",bad:"",photo:""},defaultItem:{name:"",route_no:"",wc:"",bc:"",sd:"",earth:"",sub_base:"",base:"",shoulder:"",good:"",fair:"",poor:"",bad:"",photo:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Inventory":"Edit Inventory"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/inventory_road/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.inventory_road=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/inventory_road/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Inventory Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/inventory_road/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Inventory Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/inventory_road/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Inventory Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.inventory_road.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this inventory?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},si=ii,ni=Object(l["a"])(si,ti,ai,!1,null,null,null),oi=ni.exports;_()(ni,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.work_stream},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("RECOMMENDED WORK STREAMS FOR THE FEDERAL ROAD\n            NETWORK")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Good : Preventive  (OPRC) & Routine Maintenance"},model:{value:e.editedItem.good,callback:function(t){e.$set(e.editedItem,"good",t)},expression:"editedItem.good"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Fair: Special Repairs & Pavement Strenthening"},model:{value:e.editedItem.fair,callback:function(t){e.$set(e.editedItem,"fair",t)},expression:"editedItem.fair"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Poor: General Maintenance"},model:{value:e.editedItem.poor,callback:function(t){e.$set(e.editedItem,"poor",t)},expression:"editedItem.poor"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Bad: Paliative maintenance"},model:{value:e.editedItem.bad,callback:function(t){e.$set(e.editedItem,"bad",t)},expression:"editedItem.bad"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},li=[],ci={name:"WorkStream",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Good : Preventive  (OPRC) & Routine Maintenance",value:"good"},{text:"Fair: Special Repairs & Pavement Strenthening",value:"fair"},{text:"Poor: General Maintenance",value:"poor"},{text:"Bad: Paliative maintenance",value:"bad"},{text:"Actions",value:"actions"}],work_stream:[],editedIndex:-1,editedItem:{good:"",fair:"",poor:"",bad:""},defaultItem:{good:"",fair:"",poor:"",bad:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Work Stream":"Edit Work Stream"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/work_stream/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.work_stream=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/work_stream/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"WorkStream Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/work_stream/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"WorkStream Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/work_stream/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"WorkStream Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.work_stream.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this work stream?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},di=ci,ui=Object(l["a"])(di,ri,li,!1,null,null,null),mi=ui.exports;_()(ui,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var fi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.legend},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Legend")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.rules.name,label:"Asphaltic concrete( A.C)"},model:{value:e.editedItem.asphaltic_concrete,callback:function(t){e.$set(e.editedItem,"asphaltic_concrete",t)},expression:"editedItem.asphaltic_concrete"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Wearing course(W.C)"},model:{value:e.editedItem.wc,callback:function(t){e.$set(e.editedItem,"wc",t)},expression:"editedItem.wc"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Binder Course(B.C)"},model:{value:e.editedItem.bc,callback:function(t){e.$set(e.editedItem,"bc",t)},expression:"editedItem.bc"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Surface dressed (S.D)"},model:{value:e.editedItem.sd,callback:function(t){e.$set(e.editedItem,"sd",t)},expression:"editedItem.sd"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"EARTH"},model:{value:e.editedItem.earth,callback:function(t){e.$set(e.editedItem,"earth",t)},expression:"editedItem.earth"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},vi=[],hi={name:"Legend",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Asphaltic Concrete",value:"asphaltic_concrete"},{text:"Wearing Course",value:"wc"},{text:"Binder Course",value:"bc"},{text:"Surface Dressed",value:"sd"},{text:"EARTH",value:"earth"},{text:"Actions",value:"actions"}],legend:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Legend":"Edit Legend"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/legend/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.legend=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/legend/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Legend Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/legend/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Legend Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/legend/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Legend Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.legend.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this legend?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},pi=hi,gi=Object(l["a"])(pi,fi,vi,!1,null,null,null),_i=gi.exports;_()(gi,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var xi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.kpi},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("KEY PERFORMANCE INDICATORS, BASELINE AND TARGETS (FERMA)")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"KEY ACTIVITY"},model:{value:e.editedItem.activity,callback:function(t){e.$set(e.editedItem,"activity",t)},expression:"editedItem.activity"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"KPI"},model:{value:e.editedItem.kpi,callback:function(t){e.$set(e.editedItem,"kpi",t)},expression:"editedItem.kpi"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"BASELINE (Km)"},model:{value:e.editedItem.baseline,callback:function(t){e.$set(e.editedItem,"baseline",t)},expression:"editedItem.baseline"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"TARGET (kM)"},model:{value:e.editedItem.target,callback:function(t){e.$set(e.editedItem,"target",t)},expression:"editedItem.target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"ACHIEVEMENT (kM)"},model:{value:e.editedItem.achievement,callback:function(t){e.$set(e.editedItem,"achievement",t)},expression:"editedItem.achievement"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"FINANCIAL (N Bn)"},model:{value:e.editedItem.financial,callback:function(t){e.$set(e.editedItem,"financial",t)},expression:"editedItem.financial"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"JOBS CREATED"},model:{value:e.editedItem.job_created,callback:function(t){e.$set(e.editedItem,"job_created",t)},expression:"editedItem.job_created"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"NUMBER OF CONTRACTORS ENGAGED"},model:{value:e.editedItem.no_contractor,callback:function(t){e.$set(e.editedItem,"no_contractor",t)},expression:"editedItem.no_contractor"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",rules:e.rules.name,label:"CHALLENGES"},model:{value:e.editedItem.challenges,callback:function(t){e.$set(e.editedItem,"challenges",t)},expression:"editedItem.challenges"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},bi=[],wi={name:"KPI",data:function(){return{dialog:!1,valid:!0,headers:[{text:"KEY ACTIVITY",value:"activity"},{text:"KPI",value:"kpi"},{text:"BASELINE (Km)",value:"baseline"},{text:"TARGET (kM)",value:"target"},{text:"ACHIEVEMENT (kM)",value:"achievement"},{text:"FINANCIAL (N Bn)",value:"financial"},{text:"CHALLENGES",value:"challenges"},{text:"JOBS CREATED",value:"job_created"},{text:"NUMBER OF CONTRACTORS ENGAGED",value:"no_contractor"},{text:"Actions",value:"actions"}],kpi:[],editedIndex:-1,editedItem:{},defaultItem:{},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New KPI":"Edit KPI"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/kpi/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.kpi=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/kpi/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"KPI Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/kpi/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"KPI Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/kpi/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"KPI Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.kpi.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this kpi?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Ci=wi,Ii=Object(l["a"])(Ci,xi,bi,!1,null,null,null),yi=Ii.exports;_()(Ii,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VTextarea:K["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.activities},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("KEY ACTIVITIES & LEVEL OF IMPLEMENTATION ON MINISTERIAL\n            DELIVERABLES")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"STATES"},model:{value:e.editedItem.state,callback:function(t){e.$set(e.editedItem,"state",t)},expression:"editedItem.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"NUMBER OF CONTRACTS"},model:{value:e.editedItem.contractor_no,callback:function(t){e.$set(e.editedItem,"contractor_no",t)},expression:"editedItem.contractor_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"CONTRACT SUM (N)"},model:{value:e.editedItem.contract_sum,callback:function(t){e.$set(e.editedItem,"contract_sum",t)},expression:"editedItem.contract_sum"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"LENGTH RECOVERED"},model:{value:e.editedItem.length_recovered_1,callback:function(t){e.$set(e.editedItem,"length_recovered_1",t)},expression:"editedItem.length_recovered_1"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"LENGTH RECOVERED"},model:{value:e.editedItem.length_recovered_2,callback:function(t){e.$set(e.editedItem,"length_recovered_2",t)},expression:"editedItem.length_recovered_2"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Bi=[],$i={name:"Activities",data:function(){return{dialog:!1,valid:!0,headers:[{text:"STATES",value:"state"},{text:"NUMBER OF CONTRACTS",value:"contractor_no"},{text:"CONTRACT SUM (N)",value:"contract_sum"},{text:"LENGTH RECOVERED",value:"length_recovered_1"},{text:"LENGTH RECOVERED",value:"length_recovered_2"},{text:"ACTIONS",value:"actions",sortable:!1}],activities:[],editedIndex:-1,editedItem:{state:"",contractor_no:"",contract_sum:"",length_recovered_1:"",length_recovered_2:""},defaultItem:{state:"",contractor_no:"",contract_sum:"",length_recovered_1:"",length_recovered_2:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Work Stream":"Edit Work Stream"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/activities/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.activities=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/activities/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Activities Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/activities/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Activities Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/activities/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Activities Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.activities.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this work stream?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Vi=$i,Ai=Object(l["a"])(Vi,ki,Bi,!1,null,null,null),Si=Ai.exports;_()(Ai,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.summary_maintenance},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("SUMMARY OF MAINTENANCE")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"STATE"},model:{value:e.editedItem.state,callback:function(t){e.$set(e.editedItem,"state",t)},expression:"editedItem.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"NAME OF PROJECT "},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"PROJECT ID NUMBER"},model:{value:e.editedItem.project_id,callback:function(t){e.$set(e.editedItem,"project_id",t)},expression:"editedItem.project_id"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"NAME OF CONTRACTOR "},model:{value:e.editedItem.contractor_name,callback:function(t){e.$set(e.editedItem,"contractor_name",t)},expression:"editedItem.contractor_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"date",rules:e.rules.name,label:"DATE OF AWARD"},model:{value:e.editedItem.date_award,callback:function(t){e.$set(e.editedItem,"date_award",t)},expression:"editedItem.date_award"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"date",rules:e.rules.name,label:"DATE OF COMMENCEMENT"},model:{value:e.editedItem.date_commence,callback:function(t){e.$set(e.editedItem,"date_commence",t)},expression:"editedItem.date_commence"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"date",rules:e.rules.name,label:"DATE OF COMPLETION"},model:{value:e.editedItem.date_complete,callback:function(t){e.$set(e.editedItem,"date_complete",t)},expression:"editedItem.date_complete"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"CONTRACT SUM (N)"},model:{value:e.editedItem.contract_sum,callback:function(t){e.$set(e.editedItem,"contract_sum",t)},expression:"editedItem.contract_sum"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"%COMPL"},model:{value:e.editedItem.compl,callback:function(t){e.$set(e.editedItem,"compl",t)},expression:"editedItem.compl"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"LENGTH (KM) RECOVERED "},model:{value:e.editedItem.length_recovered,callback:function(t){e.$set(e.editedItem,"length_recovered",t)},expression:"editedItem.length_recovered"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"JOB CREATION"},model:{value:e.editedItem.job_created,callback:function(t){e.$set(e.editedItem,"job_created",t)},expression:"editedItem.job_created"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ei=[],Ri={name:"KPI",data:function(){return{dialog:!1,valid:!0,headers:[{text:"STATE",value:"state"},{text:"NAME OF PROJECT",value:"name"},{text:"PROJECT ID NUMBER",value:"project_id"},{text:"NAME OF CONTRACTOR",value:"contractor_name"},{text:"DATE OF AWARD",value:"date_award"},{text:"DATE OF COMMENCEMENT",value:"date_commence"},{text:"DATE OF COMPLETION",value:"date_complete"},{text:"CONTRACT SUM (N)",value:"contract_sum"},{text:"LENGTH (KM) RECOVERED",value:"length_recovered"},{text:"JOB CREATION",value:"job_created"},{text:"COMPL",value:"compl"},{text:"ACTION",value:"actions",sortable:!1}],summary_maintenance:[],editedIndex:-1,editedItem:{},defaultItem:{},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Summary":"Edit Summary"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/summary_maintenance/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.summary_maintenance=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/summary_maintenance/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"KPI Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/summary_maintenance/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"KPI Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/summary_maintenance/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"KPI Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.summary_maintenance.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this summary_maintenance?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},zi=Ri,qi=Object(l["a"])(zi,Ti,Ei,!1,null,null,null),Pi=qi.exports;_()(qi,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.deliverable_1},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("MWH Deliverables 1")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Deliverable No"},model:{value:e.editedItem.deliverable_no,callback:function(t){e.$set(e.editedItem,"deliverable_no",t)},expression:"editedItem.deliverable_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Year"},model:{value:e.editedItem.year,callback:function(t){e.$set(e.editedItem,"year",t)},expression:"editedItem.year"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Deliverable Description"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Supports Delivery Of (Driver)"},model:{value:e.editedItem.support,callback:function(t){e.$set(e.editedItem,"support",t)},expression:"editedItem.support"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Main Output"},model:{value:e.editedItem.main_output,callback:function(t){e.$set(e.editedItem,"main_output",t)},expression:"editedItem.main_output"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Baseline (per year)"},model:{value:e.editedItem.baseline,callback:function(t){e.$set(e.editedItem,"baseline",t)},expression:"editedItem.baseline"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Target (per year)"},model:{value:e.editedItem.target,callback:function(t){e.$set(e.editedItem,"target",t)},expression:"editedItem.target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Actual (per year)"},model:{value:e.editedItem.actual,callback:function(t){e.$set(e.editedItem,"actual",t)},expression:"editedItem.actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Perf. %"},model:{value:e.editedItem.perf,callback:function(t){e.$set(e.editedItem,"perf",t)},expression:"editedItem.perf"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q1 Target"},model:{value:e.editedItem.q1_target,callback:function(t){e.$set(e.editedItem,"q1_target",t)},expression:"editedItem.q1_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q1 Actual"},model:{value:e.editedItem.q1_actual,callback:function(t){e.$set(e.editedItem,"q1_actual",t)},expression:"editedItem.q1_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q1 Perf. %"},model:{value:e.editedItem.q1_perf,callback:function(t){e.$set(e.editedItem,"q1_perf",t)},expression:"editedItem.q1_perf"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q2 Target"},model:{value:e.editedItem.q2_target,callback:function(t){e.$set(e.editedItem,"q2_target",t)},expression:"editedItem.q2_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q2 Actual"},model:{value:e.editedItem.q2_actual,callback:function(t){e.$set(e.editedItem,"q2_actual",t)},expression:"editedItem.q2_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q2 Perf. %"},model:{value:e.editedItem.q2_perf,callback:function(t){e.$set(e.editedItem,"q2_perf",t)},expression:"editedItem.q2_perf"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q3 Target"},model:{value:e.editedItem.q3_target,callback:function(t){e.$set(e.editedItem,"q3_target",t)},expression:"editedItem.q3_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q3 Actual"},model:{value:e.editedItem.q3_actual,callback:function(t){e.$set(e.editedItem,"q3_actual",t)},expression:"editedItem.q3_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q3 Perf. %"},model:{value:e.editedItem.q3_perf,callback:function(t){e.$set(e.editedItem,"q3_perf",t)},expression:"editedItem.q3_perf"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Annual Target"},model:{value:e.editedItem.annual_target,callback:function(t){e.$set(e.editedItem,"annual_target",t)},expression:"editedItem.annual_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",rules:e.rules.name,label:"Challenges"},model:{value:e.editedItem.challenges,callback:function(t){e.$set(e.editedItem,"challenges",t)},expression:"editedItem.challenges"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",rules:e.rules.name,label:"Recommendations"},model:{value:e.editedItem.recommendations,callback:function(t){e.$set(e.editedItem,"recommendations",t)},expression:"editedItem.recommendations"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Di=[],Oi={name:"Deliverable",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Year",value:"year"},{text:"Deliverable No",value:"deliverable_no"},{text:"Deliverable Name",value:"deliverable_name"},{text:"Supports Delivery Of (Driver)",value:"support"},{text:"Main Output",value:"main_output"},{text:"Baseline (per year)",value:"baseline"},{text:"Q1 Target",value:"q1_target"},{text:"Q1 Actual",value:"q1_actual"},{text:"Q1 Perf. %",value:"q1_perf"},{text:"Q2 Target",value:"q2_target"},{text:"Q2 Actual",value:"q2_actual"},{text:"Q2 Perf. %",value:"q2_perf"},{text:"Q3 Target",value:"q3_target"},{text:"Q3 Actual",value:"q3_actual"},{text:"Q3 Perf. %",value:"q3_perf"},{text:"Annual Target",value:"annual_target"},{text:"Challenges",value:"challenges"},{text:"Recommendations",value:"recommendations"},{text:"ACTION",value:"actions",sortable:!1}],deliverable_1:[],editedIndex:-1,editedItem:{},defaultItem:{},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"New deliverable":"Edit deliverable"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/deliverable_1/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.deliverable_1=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/deliverable_1/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Deliverable Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/deliverable_1/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Deliverable Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/deliverable_1/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Deliverable Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.deliverable_1.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this deliverable?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Ni=Oi,Mi=Object(l["a"])(Ni,Li,Di,!1,null,null,null),ji=Mi.exports;_()(Mi,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VTextarea:K["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Fi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.deliverable_2},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("MWH Deliverables 2")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Deliverable No"},model:{value:e.editedItem.deliverable_no,callback:function(t){e.$set(e.editedItem,"deliverable_no",t)},expression:"editedItem.deliverable_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Year"},model:{value:e.editedItem.year,callback:function(t){e.$set(e.editedItem,"year",t)},expression:"editedItem.year"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Deliverable Description"},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Type of Deliverable"},model:{value:e.editedItem.types,callback:function(t){e.$set(e.editedItem,"types",t)},expression:"editedItem.types"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Main/Sub Output"},model:{value:e.editedItem.main_output,callback:function(t){e.$set(e.editedItem,"main_output",t)},expression:"editedItem.main_output"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Metrics(Out put Level)"},model:{value:e.editedItem.metric,callback:function(t){e.$set(e.editedItem,"metric",t)},expression:"editedItem.metric"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Baseline"},model:{value:e.editedItem.baseline,callback:function(t){e.$set(e.editedItem,"baseline",t)},expression:"editedItem.baseline"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Target"},model:{value:e.editedItem.target,callback:function(t){e.$set(e.editedItem,"target",t)},expression:"editedItem.target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Actual"},model:{value:e.editedItem.actual,callback:function(t){e.$set(e.editedItem,"actual",t)},expression:"editedItem.actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q1 Target"},model:{value:e.editedItem.q1_target,callback:function(t){e.$set(e.editedItem,"q1_target",t)},expression:"editedItem.q1_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q1 Actual"},model:{value:e.editedItem.q1_actual,callback:function(t){e.$set(e.editedItem,"q1_actual",t)},expression:"editedItem.q1_actual"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"12",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q2 Target"},model:{value:e.editedItem.q2_target,callback:function(t){e.$set(e.editedItem,"q2_target",t)},expression:"editedItem.q2_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q2 Actual"},model:{value:e.editedItem.q2_actual,callback:function(t){e.$set(e.editedItem,"q2_actual",t)},expression:"editedItem.q2_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q3 Target"},model:{value:e.editedItem.q3_target,callback:function(t){e.$set(e.editedItem,"q3_target",t)},expression:"editedItem.q3_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q3 Actual"},model:{value:e.editedItem.q3_actual,callback:function(t){e.$set(e.editedItem,"q3_actual",t)},expression:"editedItem.q3_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q4 Target"},model:{value:e.editedItem.q4_target,callback:function(t){e.$set(e.editedItem,"q4_target",t)},expression:"editedItem.q4_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q4 Actual"},model:{value:e.editedItem.q4_actual,callback:function(t){e.$set(e.editedItem,"q4_actual",t)},expression:"editedItem.q4_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Annual Target"},model:{value:e.editedItem.annual_target,callback:function(t){e.$set(e.editedItem,"annual_target",t)},expression:"editedItem.annual_target"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Annual Actual"},model:{value:e.editedItem.annual_actual,callback:function(t){e.$set(e.editedItem,"annual_actual",t)},expression:"editedItem.annual_actual"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",rules:e.rules.name,label:"Source of Data"},model:{value:e.editedItem.source_data,callback:function(t){e.$set(e.editedItem,"source_data",t)},expression:"editedItem.source_data"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{outlined:"",rules:e.rules.name,label:"Implementing Agency"},model:{value:e.editedItem.agency,callback:function(t){e.$set(e.editedItem,"agency",t)},expression:"editedItem.agency"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Ui=[],Gi={name:"Deliverable",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Deliverable No",value:"deliverable_no"},{text:"Year",value:"year"},{text:"Deliverable Description",value:"description"},{text:"Main/Sub Output",value:"main_output"},{text:"Metrics(Out put Level)",value:"metric"},{text:"Baseline",value:"baseline"},{text:"Target",value:"target"},{text:"Actual",value:"actual"},{text:"Q1 Target",value:"q1_target"},{text:"Q1 Actual",value:"q1_actual"},{text:"Q2 Target",value:"q2_target"},{text:"Q2 Actual",value:"q2_actual"},{text:"Q3 Target",value:"q3_target"},{text:"Q3 Actual",value:"q3_actual"},{text:"Q4 Target",value:"q4_target"},{text:"Q4 Actual",value:"q4_actual"},{text:"Annual Target",value:"annual_target"},{text:"Annual Actual",value:"annual_actual"},{text:"Source of Data",value:"source_data"},{text:"Implementing Agency",value:"agency"},{text:"ACTION",value:"actions",sortable:!1}],deliverable_2:[],editedIndex:-1,editedItem:{},defaultItem:{},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New deliverable":"Edit deliverable"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/deliverable_2/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.deliverable_2=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/deliverable_2/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Deliverable Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/deliverable_2/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Deliverable Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/deliverable_2/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Deliverable Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.deliverable_2.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this deliverable?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Qi=Gi,Ki=Object(l["a"])(Qi,Fi,Ui,!1,null,null,null),Wi=Ki.exports;_()(Ki,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VTextarea:K["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.summary_scorecard,"sort-by":"year"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Summary of Scorecard: Federal Ministry of Works and Housing")]),a("v-spacer"),"Admin"==e.staffuser.role||"Create"==e.staffuser.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}],null,!1,1139299927),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Range"},model:{value:e.editedItem.range,callback:function(t){e.$set(e.editedItem,"range",t)},expression:"editedItem.range"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Year"},model:{value:e.editedItem.year,callback:function(t){e.$set(e.editedItem,"year",t)},expression:"editedItem.year"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q1"},model:{value:e.editedItem.q1,callback:function(t){e.$set(e.editedItem,"q1",t)},expression:"editedItem.q1"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",type:"number",rules:e.rules.name,label:"Q2"},model:{value:e.editedItem.q2,callback:function(t){e.$set(e.editedItem,"q2",t)},expression:"editedItem.q2"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Q3"},model:{value:e.editedItem.q3,callback:function(t){e.$set(e.editedItem,"q3",t)},expression:"editedItem.q3"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,type:"number",label:"Q4"},model:{value:e.editedItem.q4,callback:function(t){e.$set(e.editedItem,"q4",t)},expression:"editedItem.q4"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")]):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},Yi=[],Ji={name:"Summary",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Range",value:"range"},{text:"Year",value:"year"},{text:"Q1",value:"q1"},{text:"Q2",value:"q2"},{text:"Q3",value:"q3"},{text:"Q4",value:"q4"},{text:"Actions",value:"actions"}],summary_scorecard:[],assets:["Rebuilding Cost","Road Furniture","Roads","Bridges","Tolled/Non-tolled","Consession/Non-consession"],editedIndex:-1,editedItem:{name:"",number:"",classes:"",value:"",rebuilding_cost:"",road_furniture_cost:"",roads:"",bridges:"",tolled:"",consession:""},defaultItem:{name:"",number:"",classes:"",value:"",rebuilding_cost:"",road_furniture_cost:"",roads:"",bridges:"",tolled:"",consession:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},staffuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Summary":"Edit Summary"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/summary_scorecard/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.summary_scorecard=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/summary_scorecard/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Summary Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/summary_scorecard/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Summary Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/summary_scorecard/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",type:"success",title:"Summary Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.summary_scorecard.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this summary?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Zi=Ji,Xi=Object(l["a"])(Zi,Hi,Yi,!1,null,null,null),es=Xi.exports;_()(Xi,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.folder},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Folders")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{outlined:"",rules:e.rules.name,label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"text-none",attrs:{text:"",color:"primary",to:"folder/"+i.name}},[e._v("\n          "+e._s(i.name)+"\n        ")])]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},as=[],is={name:"Folder",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Name",value:"name"},{text:"Actions",value:"actions"}],folder:[],editedIndex:-1,editedItem:{east_west:"",engineering:"",diralables:""},defaultItem:{east_west:"",engineering:"",diralables:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},careuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Folder":"Edit Folder"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;R.a.get("/api/folder/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.folder=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;this.$refs.form.validate()&&R.a.post("/api/folder/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"Folder Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},update:function(e){var t=this;R.a.put("/api/folder/"+e+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"Folder Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/folder/"+e+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"Folder Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.folder.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this folder?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},ss=is,ns=Object(l["a"])(ss,ts,as,!1,null,null,null),os=ns.exports;_()(ns,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:e.headers,items:e.folderfile},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v(e._s(e.folder.name))]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",s,!1),i),[e._v("Add New")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12",md:"12"}},[a("v-file-input",{attrs:{outlined:"",chips:"",rules:e.rules.name,value:e.editedItem.file,label:"File"},model:{value:e.editedItem.file,callback:function(t){e.$set(e.editedItem,"file",t)},expression:"editedItem.file"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.file",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"text-none",attrs:{text:"",color:"primary",target:"_blank",to:""+i.file}},[e._v("\n          "+e._s(i.file)+"\n        ")])]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v("Edit")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(t){return e.deleteItem(i)}}},[e._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])})],1)],1)},ls=[],cs=(a("b0c0"),{name:"FolderFile",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Name",value:"file"},{text:"Actions",value:"actions"}],folder:[],folderfile:[],editedIndex:-1,editedItem:{file:""},defaultItem:{file:""},rules:{name:[function(e){return!!e||"This field is required"}],description:[function(e){return!!e||"This field is required"}]},careuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New File":"Edit File"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.getFolder()},methods:{getFolder:function(){var e=this;R.a.get("/api/getfolder/".concat(this.$route.params.name,"/"),{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.folder=t.data,e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/folderfile/".concat(this.$route.params.name,"/"),{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.folderfile=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},create:function(){var e=this;if(this.$refs.form.validate()){var t=new FormData;t.append("file",this.editedItem.file),R.a.post("/api/folderfile/".concat(this.$route.params.name,"/"),t,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",title:"File Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}},update:function(e){var t=this,a=new FormData;a.append("file",this.editedItem.file),R.a.put("/api/folderfile_detail/".concat(e,"/"),a,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&q.a.fire({icon:"success",title:"File Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},delete:function(e){var t=this;R.a.delete("/api/folderfile_detail/".concat(e,"/"),{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&q.a.fire({icon:"success",title:"File Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},editItem:function(e){this.editedIndex=this.folderfile.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this file?")&&this.delete(e.id)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}}),ds=cs,us=a("23a7"),ms=Object(l["a"])(ds,rs,ls,!1,null,null,null),fs=ms.exports;_()(ms,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VFileInput:us["a"],VForm:M["a"],VRow:k["a"],VSpacer:B["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var vs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"d-inline-block ma-2"},[a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-img",{attrs:{height:"200",width:"200",src:e.staff.photo}})],1)],1)],1)],1)],1),a("v-flex",{attrs:{md9:""}},[a("v-card",{staticClass:"elevation=1 ma-2"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Profile")])],1),a("v-divider"),a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:150,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Personal Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"5",md:"6",sm:"12"}},[a("v-file-input",{attrs:{accept:"image/*",chips:"",label:"Photo"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),a("v-col",{attrs:{cols:"12",lg:"7",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:" Surname"},model:{value:e.staff.last_name,callback:function(t){e.$set(e.staff,"last_name",t)},expression:"staff.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"First name"},model:{value:e.staff.first_name,callback:function(t){e.$set(e.staff,"first_name",t)},expression:"staff.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"Middle name"},model:{value:e.staff.middle_name,callback:function(t){e.$set(e.staff,"middle_name",t)},expression:"staff.middle_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-select",{attrs:{items:e.gender,rules:e.rules.gender,label:"Gender"},model:{value:e.staff.gender,callback:function(t){e.$set(e.staff,"gender",t)},expression:"staff.gender"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{rules:e.rules.dob,readonly:"",label:"Date of Birth","prepend-icon":"event"},model:{value:e.staff.dob,callback:function(t){e.$set(e.staff,"dob",t)},expression:"staff.dob"}},i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{on:{input:function(t){e.menu=!1}},model:{value:e.staff.dob,callback:function(t){e.$set(e.staff,"dob",t)},expression:"staff.dob"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.phone,label:"Phone Number"},model:{value:e.staff.phone,callback:function(t){e.$set(e.staff,"phone",t)},expression:"staff.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{type:"email",rules:e.rules.email,label:"Email"},model:{value:e.staff.email,callback:function(t){e.$set(e.staff,"email",t)},expression:"staff.email"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Role Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:e.roles,rules:e.rules.role,readonly:"",label:"Role"},model:{value:e.staff.role,callback:function(t){e.$set(e.staff,"role",t)},expression:"staff.role"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.specialization,label:"Speciality"},model:{value:e.staff.specialization,callback:function(t){e.$set(e.staff,"specialization",t)},expression:"staff.specialization"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.qualification,label:"Qualification"},model:{value:e.staff.qualification,callback:function(t){e.$set(e.staff,"qualification",t)},expression:"staff.qualification"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Contact Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-textarea",{attrs:{rows:"1",rules:e.rules.address,label:"Address"},model:{value:e.staff.address,callback:function(t){e.$set(e.staff,"address",t)},expression:"staff.address"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:e.country,rules:e.rules.country,label:" Country"},model:{value:e.staff.country,callback:function(t){e.$set(e.staff,"country",t)},expression:"staff.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-combobox",{attrs:{items:e.state,rules:e.rules.state,label:" State"},model:{value:e.staff.state,callback:function(t){e.$set(e.staff,"state",t)},expression:"staff.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.city,label:" City"},model:{value:e.staff.city,callback:function(t){e.$set(e.staff,"city",t)},expression:"staff.city"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Additional Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:e.marital_status,rules:e.rules.marital_status,label:"Marital Status"},model:{value:e.staff.marital_status,callback:function(t){e.$set(e.staff,"marital_status",t)},expression:"staff.marital_status"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",disabled:!e.valid,depressed:""},on:{click:function(t){return e.addStaff()}}},[e._v("Update")])],1)],1)],1)],1)],1)},hs=[],ps={name:"Profile",data:function(){return{loading:!1,menu:!1,roles:["Doctor","Nurse","Accountant","Receptionist","Others"],gender:["Male","Female"],country:["Nigeria"],state:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],marital_status:["Single","Married","Divorced"],departments:[],file:"",staff:{},valid:!0,rules:{name:[function(e){return!!e||"Name is required"},function(e){return e&&e.length>=2||"A name must be more than 2 characters long"}],email:[function(e){return!!e||"Email is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],dob:[function(e){return!!e||"Date of Birth is required"}],gender:[function(e){return!!e||"Gender is required"}],address:[function(e){return!!e||"Address is required"}],role:[function(e){return!!e||"Role is required"}],department:[function(e){return!!e||"Department is required"}],specialization:[function(e){return!!e||"Specialization is required"}],qualification:[function(e){return!!e||"Qualification is required"}],marital_status:[function(e){return!!e||"Marital Status is required"}],city:[function(e){return!!e||"City is required"}],state:[function(e){return!!e||"State is required"}],country:[function(e){return!!e||"Country is required"}],phone:[function(e){return!!e||"Phone number is required"},function(e){return e&&e.length>=11||"A phon number must be 11 digit long"}]}}},created:function(){this.getPharmacyUser()},methods:{getPharmacyUser:function(){var e=this;R.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){return e.staff=t.data}))},addStaff:function(){var e=this;this.loading=!0;var t=new FormData;t.append("last_name",this.staff.last_name),t.append("first_name",this.staff.first_name),t.append("middle_name",this.staff.middle_name),t.append("gender",this.staff.gender),t.append("dob",this.staff.dob),t.append("email",this.staff.email),t.append("phone",this.staff.phone),t.append("address",this.staff.address),t.append("country",this.staff.country),t.append("state",this.staff.state),t.append("city",this.staff.city),t.append("marital_status",this.staff.marital_status),t.append("qualification",this.staff.qualification),t.append("specialization",this.staff.specialization),t.append("role",this.staff.role),t.append("is_admin",this.staff.is_admin),t.append("photo",this.file),R.a.put("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",t,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&(q.a.fire({icon:"success",type:"success",title:"Profile Updated",text:"Updated Successfully",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.loading=!1,e.getPharmacyUser())}))}}},gs=ps,_s=a("2b5d"),xs=a("2e4b"),bs=Object(l["a"])(gs,vs,hs,!1,null,null,null),ws=bs.exports;_()(bs,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VCombobox:_s["a"],VContainer:N["a"],VDatePicker:xs["a"],VDivider:Et["a"],VFileInput:us["a"],VFlex:Ne["a"],VForm:M["a"],VImg:j["a"],VLayout:F["a"],VMenu:Ee["a"],VProgressCircular:U["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VTextarea:K["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"pa-2"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Account Settings")])],1),a("v-divider"),a("v-card",{staticClass:"ma-2"},[a("v-card-title",[e._v("\n        Change Password\n      ")]),a("v-card-text",[e.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",outlined:"",label:"Old password",rules:e.rules.old_password,"prepend-icon":"mdi-lock"},model:{value:e.password.old_password,callback:function(t){e.$set(e.password,"old_password",t)},expression:"password.old_password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",outlined:"",label:"New password",rules:e.rules.old_password,"prepend-icon":"mdi-lock"},model:{value:e.password.new_password,callback:function(t){e.$set(e.password,"new_password",t)},expression:"password.new_password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{depressed:"",color:"success",disabled:!e.valid},on:{click:function(t){return e.change()}}},[e._v("\n          Change Password\n        ")])],1)],1)],1)],1)},Is=[],ys={name:"Setting",data:function(){return{password:{old_password:"",new_pawword:""},valid:!0,loading:!1,rules:{old_password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>7||"The password must be longer than 7 characters"}],new_password:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>7||"The password must be longer than 7 characters"}]}}},methods:{change:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,R.a.put("/"+sessionStorage.pharmacy_id+"/change_password/",this.password,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&(q.a.fire({icon:"success",type:"success",title:"Password Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.loading=!1,e.$session.clear(),e.$router.push("/login"))})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))})))}}},ks=ys,Bs=Object(l["a"])(ks,Cs,Is,!1,null,null,null),$s=Bs.exports;_()(Bs,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDivider:Et["a"],VForm:M["a"],VLayout:F["a"],VProgressCircular:U["a"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Vs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Budget")])],1),a("v-divider"),e.loading?a("Bar",{attrs:{"chart-options":e.chartOptions,"chart-data":e.barData(),"chart-id":"bar-chart","dataset-id-key":"label",width:400,height:400}}):e._e()],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Employees")])],1),a("v-divider"),a("Pie",{attrs:{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":"pie-chart2","dataset-id-key":"label",width:400,height:400}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Budget")])],1),a("v-divider"),e.loading?a("LineChartGenerator",{attrs:{"chart-options":e.chartOptions,"chart-data":e.lineData(),"chart-id":"line-chart","dataset-id-key":"label",width:400,height:400}}):e._e()],1)],1)],1)],1)},As=[],Ss=(a("d81d"),a("25f0"),a("7b97")),Ts=a("9b4a");Ts["f"].register(Ts["q"],Ts["r"],Ts["h"],Ts["a"],Ts["c"],Ts["k"],Ts["e"],Ts["j"],Ts["m"]);var Es={name:"PieChart",components:{Pie:Ss["c"],Bar:Ss["a"],LineChartGenerator:Ss["b"]},data:function(){return{budget:null,labels:null,loading:!1,chartData:{labels:["VueJs","EmberJs","ReactJs","AngularJs"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[40,20,80,10]}]},chartData1:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,20,12,39,10,40,39,80,40,20,12,11]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.loading=!1,R.a.get("/api/budget/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.budjet=t.data,e.loading=!0})).catch((function(t){"Request failed with status code 401"==t.message&&(q.a.fire({icon:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},barData:function(){return{datasets:[{label:"Yearly Budget",backgroundColor:"#f87979",data:this.budjet.map((function(e){return e.annual_budget}))}],labels:this.budjet.map((function(e){return e.year.toString()}))}},lineData:function(){return{datasets:[{label:"Yearly Budget",backgroundColor:"#f87979",data:this.budjet.map((function(e){return e.annual_budget}))}],labels:this.budjet.map((function(e){return e.year.toString()}))}}}},Rs=Es,zs=Object(l["a"])(Rs,Vs,As,!1,null,null,null),qs=zs.exports;_()(zs,{VCard:D["a"],VCol:C["a"],VContainer:N["a"],VDivider:Et["a"],VRow:k["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"elevation=1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Add New Staff")])],1),a("v-divider"),a("v-card-text",[e.overlay?a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):e._e(),a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Personal Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"12",sm:"12"}},[a("v-select",{attrs:{items:e.technical,rules:e.rules.technical,label:"Technical"},model:{value:e.staff.technical,callback:function(t){e.$set(e.staff,"technical",t)},expression:"staff.technical"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"12",sm:"12"}},[a("v-text-field",{attrs:{label:"Title"},model:{value:e.staff.title,callback:function(t){e.$set(e.staff,"title",t)},expression:"staff.title"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"First name"},model:{value:e.staff.first_name,callback:function(t){e.$set(e.staff,"first_name",t)},expression:"staff.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"Middle name"},model:{value:e.staff.middle_name,callback:function(t){e.$set(e.staff,"middle_name",t)},expression:"staff.middle_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:" Last name"},model:{value:e.staff.last_name,callback:function(t){e.$set(e.staff,"last_name",t)},expression:"staff.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.phone,label:"Phone Number"},model:{value:e.staff.phone,callback:function(t){e.$set(e.staff,"phone",t)},expression:"staff.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"Employee Number"},model:{value:e.staff.employee_no,callback:function(t){e.$set(e.staff,"employee_no",t)},expression:"staff.employee_no"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Role Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.role,label:"Level"},model:{value:e.staff.level,callback:function(t){e.$set(e.staff,"level",t)},expression:"staff.level"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.specialization,label:"Designation"},model:{value:e.staff.designation,callback:function(t){e.$set(e.staff,"designation",t)},expression:"staff.designation"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.qualification,label:"Position Management"},model:{value:e.staff.position_management,callback:function(t){e.$set(e.staff,"position_management",t)},expression:"staff.position_management"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-select",{attrs:{items:e.roles,rules:e.rules.role,label:"Role"},model:{value:e.staff.role,callback:function(t){e.$set(e.staff,"role",t)},expression:"staff.role"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",disabled:!e.valid,depressed:""},on:{click:function(t){return e.addStaff()}}},[e._v("Register")])],1)],1)],1)},Ls=[],Ds={name:"AddEmployee",data:function(){return{overlay:!1,menu:!1,technical:["Yes","No"],roles:["Create","View","Admin"],staff:{technical:"",title:"",first_name:"",middle_name:"",last_name:"",phone:"",employee_no:"",level:"",designation:"",qualification:"",position_management:"",role:""},valid:!0,rules:{name:[function(e){return!!e||"This field is required"}],email:[function(e){return!!e||"Email is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],dob:[function(e){return!!e||"Date of Birth is required"}],technical:[function(e){return!!e||"Technical is required"}],address:[function(e){return!!e||"Address is required"}],role:[function(e){return!!e||"Role is required"}],department:[function(e){return!!e||"Department is required"}],specialization:[function(e){return!!e||"Specialization is required"}],qualification:[function(e){return!!e||"Qualification is required"}],marital_status:[function(e){return!!e||"Marital status is required"}],city:[function(e){return!!e||"City is required"}],state:[function(e){return!!e||"State is required"}],country:[function(e){return!!e||"Country is required"}],phone:[function(e){return!!e||"Phone number is required"},function(e){return e&&e.length>=11||"A phone number must be 11 digit long"}]}}},created:function(){this.initialize()},methods:{addStaff:function(){var e=this;this.overlay=!0;var t=new FormData;t.append("technical",this.staff.technical),t.append("title",this.staff.title),t.append("first_name",this.staff.first_name),t.append("middle_name",this.staff.middle_name),t.append("last_name",this.staff.last_name),t.append("phone",this.staff.phone),t.append("employee_no",this.staff.employee_no),t.append("level",this.staff.level),t.append("designation",this.staff.designation),t.append("position_management",this.staff.position_management),t.append("role",this.staff.role),t.append("file",this.staff.file),R.a.post("api/employee/",t,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&q.a.fire({icon:"success",type:"success",title:"Employee Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.overlay=!1}))}}},Os=Ds,Ns=a("a797"),Ms=Object(l["a"])(Os,Ps,Ls,!1,null,null,null),js=Ms.exports;_()(Ms,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VDivider:Et["a"],VForm:M["a"],VOverlay:Ns["a"],VProgressCircular:U["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]});var Fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"elevation-1"},[a("v-card-title",[a("span",[e._v("Employee List")]),a("v-spacer"),a("div",[a("v-text-field",{staticStyle:{"max-width":"200px"},attrs:{"append-icon":"search",label:"Search","single-line":"",outlined:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-data-table",{attrs:{headers:e.headers,items:e.employees,search:e.search},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return["Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"success"},on:{click:function(t){return e.viewItem(i)}}},[a("v-icon",[e._v("mdi-arrow")]),e._v("View Details\n            ")],1):e._e(),"Admin"==e.staffuser.role?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(t){return e.updateItem(i)}}},[a("v-icon",[e._v("mdi-arrow")]),e._v("Update\n            ")],1):e._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Refresh")])]},proxy:!0}])}),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("View Staff Details")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"12"}},[a("v-card",{attrs:{elevation:"1"}},[a("v-list",[a("v-list-item",[a("v-list-item-title",[e._v("Title :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.title))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Name :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.last_name)+" "+e._s(e.info.first_name))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Technical :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.technical))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Phone Number :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.phone))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Employee Number :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.employee_no))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Level :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.level))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Designation:")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.designation))])],1),a("v-list-item",[a("v-list-item-title",[e._v("Role :")]),a("v-list-item-title",{staticClass:"align-end"},[e._v(e._s(e.info.role))])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)],1)},Us=[],Gs={name:"EmployeeList",data:function(){return{dialog:!1,search:"",headers:[{text:"First name",align:"start",value:"first_name"},{text:"Last name",align:"start",value:"last_name"},{text:"Phone",value:"phone"},{text:"Designation",value:"designation"},{text:"Level",value:"level"},{text:"Role",value:"role"},{text:"Action",value:"action"}],employees:[],info:[],staffuser:{}}},created:function(){this.getStaffUser(),this.initialize()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/staffuser",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.staffuser=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(Swal.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},initialize:function(){var e=this;R.a.get("/api/employee/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){return e.employees=t.data}))},viewItem:function(e){this.dialog=!0,this.info=e},updateItem:function(e){sessionStorage.staff_id=e.id,this.$router.push("/editemployee/"+e.id)}}},Qs=Gs,Ks=Object(l["a"])(Qs,Fs,Us,!1,null,null,null),Ws=Ks.exports;_()(Ks,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:C["a"],VContainer:N["a"],VDataTable:We["a"],VDialog:He["a"],VIcon:Be["a"],VList:$e["a"],VListItem:Ae["a"],VListItemTitle:Te["b"],VRow:k["a"],VSpacer:B["a"],VTextField:Q["a"]});var Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"elevation=1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Edit Employee")])],1),a("v-divider"),a("v-card-text",[e.overlay?a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):e._e(),a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Personal Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-select",{attrs:{items:e.technical,rules:e.rules.technical,label:"Technical"},model:{value:e.staff.technical,callback:function(t){e.$set(e.staff,"technical",t)},expression:"staff.technical"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Title"},model:{value:e.staff.title,callback:function(t){e.$set(e.staff,"title",t)},expression:"staff.title"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"First name"},model:{value:e.staff.first_name,callback:function(t){e.$set(e.staff,"first_name",t)},expression:"staff.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"Middle name"},model:{value:e.staff.middle_name,callback:function(t){e.$set(e.staff,"middle_name",t)},expression:"staff.middle_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:" Last name"},model:{value:e.staff.last_name,callback:function(t){e.$set(e.staff,"last_name",t)},expression:"staff.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.phone,label:"Phone Number"},model:{value:e.staff.phone,callback:function(t){e.$set(e.staff,"phone",t)},expression:"staff.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.name,label:"Employee Number"},model:{value:e.staff.employee_no,callback:function(t){e.$set(e.staff,"employee_no",t)},expression:"staff.employee_no"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[e._v("Role Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.role,label:"Level"},model:{value:e.staff.level,callback:function(t){e.$set(e.staff,"level",t)},expression:"staff.level"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.specialization,label:"Designation"},model:{value:e.staff.designation,callback:function(t){e.$set(e.staff,"designation",t)},expression:"staff.designation"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{rules:e.rules.qualification,label:"Position Management"},model:{value:e.staff.position_management,callback:function(t){e.$set(e.staff,"position_management",t)},expression:"staff.position_management"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-select",{attrs:{items:e.roles,rules:e.rules.role,label:"Role"},model:{value:e.staff.role,callback:function(t){e.$set(e.staff,"role",t)},expression:"staff.role"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",disabled:!e.valid,depressed:""},on:{click:function(t){return e.addStaff()}}},[e._v("Update")])],1)],1)],1)},Ys=[],Js={name:"Profile",data:function(){return{loading:!1,menu:!1,technical:["Yes","No"],roles:["Create","View","Admin"],staff:{technical:"",title:"",first_name:"",middle_name:"",last_name:"",phone:"",employee_no:"",level:"",designation:"",position_management:"",role:""},valid:!0,rules:{name:[function(e){return!!e||"Name is required"},function(e){return e&&e.length>=2||"A name must be more than 2 characters long"}],email:[function(e){return!!e||"Email is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],dob:[function(e){return!!e||"Date of Birth is required"}],gender:[function(e){return!!e||"Gender is required"}],address:[function(e){return!!e||"Address is required"}],role:[function(e){return!!e||"Role is required"}],department:[function(e){return!!e||"Department is required"}],specialization:[function(e){return!!e||"Specialization is required"}],qualification:[function(e){return!!e||"Qualification is required"}],marital_status:[function(e){return!!e||"Marital Status is required"}],city:[function(e){return!!e||"City is required"}],state:[function(e){return!!e||"State is required"}],country:[function(e){return!!e||"Country is required"}],phone:[function(e){return!!e||"Phone number is required"},function(e){return e&&e.length>=11||"A phon number must be 11 digit long"}]}}},created:function(){this.getStaffUser()},methods:{getStaffUser:function(){var e=this;R.a.get("/api/employee/"+sessionStorage.staff_id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){return e.staff=t.data}))},addStaff:function(){var e=this;this.loading=!0;var t=new FormData;t.append("technical",this.staff.technical),t.append("title",this.staff.title),t.append("first_name",this.staff.first_name),t.append("middle_name",this.staff.middle_name),t.append("last_name",this.staff.last_name),t.append("phone",this.staff.phone),t.append("employee_no",this.staff.employee_no),t.append("level",this.staff.level),t.append("designation",this.staff.designation),t.append("position_management",this.staff.position_management),t.append("role",this.staff.role),t.append("file",this.staff.file),R.a.put("/api/employee/"+sessionStorage.staff_id+"/",t,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&(q.a.fire({icon:"success",type:"success",title:"Profile Updated",text:"Updated Successfully",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.loading=!1,e.getPharmacyUser())}))},getStatus:function(){return 1==this.staff.active?"Active":"Inactive"}}},Zs=Js,Xs=Object(l["a"])(Zs,Hs,Ys,!1,null,null,null),en=Xs.exports;_()(Xs,{VBtn:w["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCol:C["a"],VContainer:N["a"],VDivider:Et["a"],VForm:M["a"],VOverlay:Ns["a"],VProgressCircular:U["a"],VRow:k["a"],VSelect:G["a"],VSpacer:B["a"],VTextField:Q["a"],VToolbar:Me["a"],VToolbarTitle:$["a"]}),i["a"].use(m["a"]);var tn,an=[{path:"/",name:"Index",component:A},{path:"/login",name:"Login",component:te},{path:"/staff_activation",name:"StaffActivation",component:re},{path:"/forget_password",name:"ForgetPassword",component:fe},{path:"/confirm_password",name:"ConfirmPassword",component:xe},{path:"/register",name:"Register",component:H},{path:"",name:"Home",component:qe,children:[{path:"/dashboard",name:"Dashboard",component:Fe},{path:"/budget",name:"Budget",component:Je},{path:"/federal_maintenance_cost",name:"FederalMaintenanceCost",component:it},{path:"/state_maintenance_cost",name:"StateMaintenanceCost",component:ct},{path:"/urban_maintenance_cost",name:"UrbanMaintenanceCost",component:ht},{path:"/rural_maintenance_cost",name:"RuralMaintenanceCost",component:wt},{path:"/village_maintenance_cost",name:"VillageMaintenanceCost",component:$t},{path:"/cost_report",name:"CostReport",component:qt},{path:"/maitenance_impact",name:"MaintenanceImpact",component:Mt},{path:"/management_plan",name:"ManagementPlan",component:Kt},{path:"/road_asset",name:"RoadAsset",component:Xt},{path:"/non_road_asset",name:"NonRoadAsset",component:na},{path:"/stakeholder",name:"Stakeholder",component:ua},{path:"/pestle",name:"PESTLE",component:ga},{path:"/road_information",name:"RoadInformation",component:ya},{path:"/pbmc",name:"PBMC",component:Sa},{path:"/public_private",name:"PublicPrivate",component:Pa},{path:"/project_maintenance",name:"ProjectMaintenanceWork",component:ei},{path:"/road_project",name:"RoadProject",component:ja},{path:"/non_road_project",name:"NonRoadProject",component:Wa},{path:"/inventory_road",name:"InventoryRoad",component:oi},{path:"/work_stream",name:"WorkStream",component:mi},{path:"/legend",name:"Legend",component:_i},{path:"/kpi",name:"KPI",component:yi},{path:"/activities",name:"Activities",component:Si},{path:"/summary_maintenance",name:"SummaryMaintenance",component:Pi},{path:"/deliverables1",name:"Deliverables1",component:ji},{path:"/deliverables2",name:"Deliverables2",component:Wi},{path:"/summary_scorecard",name:"SummaryScorecard",component:es},{path:"/folder",name:"Folder",component:os},{path:"/folder/:name",name:"FolderFile",component:fs},{path:"/addemployee",name:"AddEmployee",component:js},{path:"/employeelist",name:"EmployeeList",component:Ws},{path:"/editemployee/:id",name:"EditEmployee",component:en},{path:"/profile",name:"Profile",component:ws},{path:"/account_setting",name:"AccountSettings",component:$s},{path:"/insight",name:"Insight",component:qs}]}],sn=new m["a"]({mode:"hash",base:"/",routes:an}),nn=sn,on=(a("7db0"),a("13d5"),a("a434"),a("ade3")),rn=a("2f62");i["a"].use(rn["a"]);var ln=new rn["a"].Store((tn={state:{healthspace:{id:""},items:[],ems:[],checkoutStatus:null},mutations:{changeId:function(e,t){e.healthspace.id=t.id}},getters:{cartProducts:function(e,t,a,i){return e.items.map((function(e){var t=a.items.find((function(t){return t.product.id===e.product.id}));return{product:t.product,quantity:e.quantity}}))},cartTotal:function(e,t){return t.cartProducts.reduce((function(e,t){return e+t.product.sale_price*t.quantity}),0)},cartQuantity:function(e,t){return t.cartProducts.reduce((function(e,t){return e+t.quantity}),0)}}},Object(on["a"])(tn,"mutations",{changeId:function(e,t){e.healthspace.id=t.id},pushProductToCart:function(e,t){e.items.push({product:t,quantity:1})},removeProductFromCart:function(e,t){var a=e.items.indexOf(t);e.items.splice(a,1)},incrementItemQuantity:function(e,t){t.quantity++},decrementItemQuantity:function(e,t){t.quantity--},setCheckoutStatus:function(e,t){e.checkoutStatus=t},emptyCart:function(e){e.items=[]}}),Object(on["a"])(tn,"actions",{addProductToCart:function(e,t){var a=e.state,i=(e.getters,e.commit),s=(e.rootState,e.rootGetters,a.items.find((function(e){return e.product.id===t.id})));s?i("incrementItemQuantity",s):i("pushProductToCart",t)},removeProductFromCart:function(e,t){var a=e.state,i=(e.getters,e.commit),s=(e.rootState,e.rootGetters,a.items.find((function(e){return e.product.id===t.id})));s&&i("removeProductFromCart",s)},reduceProduct:function(e,t){var a=e.state,i=(e.getters,e.commit),s=(e.rootState,e.rootGetters,a.items.find((function(e){return e.product.id===t.id})));s.quantity>1&&i("decrementItemQuantity",s)},checkout:function(e){e.state;var t=e.commit;t("emptyCart"),t("setCheckoutStatus","success")}}),Object(on["a"])(tn,"modules",{}),tn)),cn=(a("15f5"),a("d1e78"),a("f309")),dn=a("fcf4");i["a"].use(cn["a"]);var un=new cn["a"]({icons:{iconfont:"md"},theme:{themes:{light:{background:dn["a"].grey.lighten5,primary:"#007D53"},dark:{background:dn["a"].shades.white}}}}),mn=a("0628"),fn=a.n(mn),vn=a("3730"),hn=a.n(vn),pn=a("67b0");i["a"].use(fn.a),i["a"].use(pn["a"]),i["a"].use(hn.a),i["a"].config.productionTip=!1,new i["a"]({router:nn,store:ln,vuetify:un,render:function(e){return e(d)}}).$mount("#app")},a161:function(e,t,a){},ed69:function(e,t,a){"use strict";var i=a("a161"),s=a.n(i);s.a}});