(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},r=[],n={name:"App"},o=n,l=a("2877"),c=Object(l["a"])(o,i,r,!1,null,null,null),d=c.exports,u=(a("4160"),a("d3b7"),a("159b"),a("ddb0"),a("9483"));Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){caches.keys().then((function(t){t.forEach((function(t){caches.delete(t)}))})),console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var m=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-app-bar",{attrs:{app:"",elevation:"1",color:"white"}},[a("v-toolbar-title",{staticClass:"text-no-wrap",staticStyle:{width:"480px"}},[t._v("\n      Document Management System\n    ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-1  text-capitalize",attrs:{outlined:"",router:"",color:"success",to:"/login"}},[t._v("\n      Sign in\n    ")])],1),a("v-main",[a("v-parallax",{staticClass:"fill-height",attrs:{height:"660",dark:"",src:"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("h1",{staticClass:"text-h3 font-weight-bold text-center"},[t._v("\n            Document Management System\n          ")]),a("h4",{staticClass:"subheading"},[t._v("\n            The easy way to manage your document\n          ")])])],1)],1)],1)],1)},h=[],f={name:"Index",data:function(){return{name:{},valid:!0,loading:!1,alert:!1}},mounted:function(){},methods:{}},p=f,g=a("6544"),b=a.n(g),_=a("7496"),y=a("40dc"),x=a("8336"),C=a("62ad"),w=a("f6c4"),k=a("8b9c"),V=a("0fd9"),S=a("2fa4"),$=a("2a7f"),B=Object(l["a"])(p,v,h,!1,null,null,null),I=B.exports;b()(B,{VApp:_["a"],VAppBar:y["a"],VBtn:x["a"],VCol:C["a"],VMain:w["a"],VParallax:k["a"],VRow:V["a"],VSpacer:S["a"],VToolbarTitle:$["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height"},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"8",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center text-capitalize ma-3"},[t._v("\n            SignUp Request\n          ")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("h3",{staticClass:"ma-2"},[t._v("Contact Details")]),a("v-text-field",{attrs:{name:"first_name","prepend-icon":"person",type:"text",counter:70,label:"First Name",rules:t.rules.name,maxlength:"70",outlined:"",required:""},model:{value:t.credentials.first_name,callback:function(e){t.$set(t.credentials,"first_name",e)},expression:"credentials.first_name"}}),a("v-text-field",{attrs:{name:"last_name","prepend-icon":"person",type:"text",counter:70,label:"Last Name",rules:t.rules.name,maxlength:"70",outlined:"",required:""},model:{value:t.credentials.last_name,callback:function(e){t.$set(t.credentials,"last_name",e)},expression:"credentials.last_name"}}),a("v-text-field",{attrs:{name:"last_name","prepend-icon":"person",type:"number",counter:70,label:"NIN",maxlength:"70",outlined:"",required:""},model:{value:t.credentials.nin,callback:function(e){t.$set(t.credentials,"nin",e)},expression:"credentials.nin"}}),a("v-text-field",{attrs:{name:"email","prepend-icon":"mdi-email",type:"email",counter:70,label:"Email",rules:t.rules.email,outlined:"",required:""},model:{value:t.credentials.email,callback:function(e){t.$set(t.credentials,"email",e)},expression:"credentials.email"}}),a("v-text-field",{attrs:{"prepend-icon":"phone",id:"password",label:"Phone Number",name:"phone",type:"number",counter:15,rules:t.rules.phone,outlined:"",maxlength:"15",required:""},model:{value:t.credentials.phone,callback:function(e){t.$set(t.credentials,"phone",e)},expression:"credentials.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("h3",{staticClass:"ma-2"},[t._v("Pharmacy Details")]),a("v-text-field",{attrs:{"prepend-icon":"local_hospital",type:"text",label:"Facility Name",rules:t.rules.facility,outlined:"",required:""},model:{value:t.credentials.name,callback:function(e){t.$set(t.credentials,"name",e)},expression:"credentials.name"}}),a("v-select",{attrs:{"prepend-icon":"flag",counter:70,label:"Country",items:t.countries,rules:t.rules.country,maxlength:"70",outlined:"",required:""},model:{value:t.credentials.country,callback:function(e){t.$set(t.credentials,"country",e)},expression:"credentials.country"}}),a("v-select",{attrs:{"prepend-icon":"location_on",type:"text",items:t.states,label:"State",rules:t.rules.state,outlined:"",required:""},model:{value:t.credentials.state,callback:function(e){t.$set(t.credentials,"state",e)},expression:"credentials.state"}}),a("v-text-field",{attrs:{name:"city","prepend-icon":"location_on",type:"text",label:"City",rules:t.rules.city,outlined:"",required:""},model:{value:t.credentials.city,callback:function(e){t.$set(t.credentials,"city",e)},expression:"credentials.city"}}),a("v-textarea",{attrs:{"prepend-icon":"location_on",label:"Address",rules:t.rules.address,outlined:"",rows:"1",required:""},model:{value:t.credentials.address,callback:function(e){t.$set(t.credentials,"address",e)},expression:"credentials.address"}})],1)],1)],1),a("p",{staticClass:"text-center"},[t._v("By submitting this form, you agree to our Terms of Service and Privacy Policy")])],1),a("v-card-actions",[a("v-btn",{attrs:{to:"/",text:"",color:"primary"}},[t._v("Back")]),a("v-spacer"),a("v-btn",{staticClass:"primary white--text",attrs:{disabled:!t.valid},on:{click:t.register}},[t._v("submit")])],1)],1)],1)],1)],1)],1)],1)},T=[],A=a("bc3a"),z=a.n(A),q=a("3d20"),D=a.n(q),E={name:"Login",data:function(){return{name:{},gender:["Female","Male"],credentials:{},valid:!0,loading:!1,alert:!1,countries:["Nigeria"],states:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],rules:{name:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>3||"A name must be more than 3 characters long"}],phone:[function(t){return!!t||"Phone  is required"},function(t){return t&&t.length>=11||"A phone number must be 11 digit long"}],email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],facility:[function(t){return!!t||"Facility Name is required"},function(t){return t&&t.length>3||"A name must be more than 3 characters long"}],country:[function(t){return!!t||"Country is required"},function(t){return t&&t.length>3||"A country must be more than 3 characters long"}],city:[function(t){return!!t||"City is required"}],state:[function(t){return!!t||"State is required"}],address:[function(t){return!!t||"Address is required"}]}}},mounted:function(){this.checkAuthUser()},methods:{checkAuthUser:function(){this.$session.has("access")&&null!=sessionStorage.pharmacy_id&&this.$router.push("dashboard")},register:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.post("/pharmacy_request/",this.credentials).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Registration Request Successful",text:"You will be contacted shortly",showConfirmButton:!1,showCloseButton:!0}),t.credentials={},t.loading=!1})).catch((function(e){t.loading=!1,e&&D.a.fire({type:"warning",title:"Invalid Credentials",text:e,showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},O=E,R=a("b0af"),j=a("99d9"),L=a("a523"),M=a("4bd4"),N=a("adda"),F=a("a722"),U=a("490a"),K=a("b974"),Q=a("8654"),G=a("a844"),W=Object(l["a"])(O,P,T,!1,null,null,null),H=W.exports;b()(W,{VApp:_["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VContainer:L["a"],VForm:M["a"],VImg:N["a"],VLayout:F["a"],VMain:w["a"],VProgressCircular:U["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VTextField:Q["a"],VTextarea:G["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("h3",{staticClass:"subheading text-center ma-3"},[t._v("Sign in to your account")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{name:"login","prepend-icon":"email",type:"email",label:"Email",rules:t.rules.email,outlined:"",required:""},model:{value:t.credentials.username,callback:function(e){t.$set(t.credentials,"username",e)},expression:"credentials.username"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:t.rules.password,outlined:"",required:""},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}})],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!t.valid},on:{click:t.login}},[t._v("SIGN IN")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/forget_password",text:"",color:"primary"}},[t._v("Forget your password?")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{attrs:{to:"/",text:"",color:"primary"}},[t._v("Back")])],1)],1)],1)],1)],1)],1)],1)},J=[],Y={name:"Login",data:function(){return{name:{},credentials:{},valid:!0,loading:!1,alert:!1,rules:{email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"The password must be longer than 6 characters"}]}}},mounted:function(){},methods:{login:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.post("/api/login/",this.credentials).then((function(e){t.$session.start(),t.$session.set("access",e.data.access),t.$session.set("refresh",e.data.refresh),t.$session.set("username",e.data.username),tr.push("/dashboard"),e.data.access||D.a.fire({icon:"error",type:"warning",title:"Error",text:JSON.stringify(e.data),showConfirmButton:!1,showCloseButton:!1,timer:5e3})})).catch((function(e){t.loading=!1,e&&D.a.fire({type:"warning",title:"Invalid Credentials",text:"Wrong username or password",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},X=Y,tt=Object(l["a"])(X,Z,J,!1,null,null,null),et=tt.exports;b()(tt,{VApp:_["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VContainer:L["a"],VForm:M["a"],VLayout:F["a"],VMain:w["a"],VProgressCircular:U["a"],VRow:V["a"],VTextField:Q["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center ma-3"},[t._v(t._s(t.careuser.pharmacy_name)+" Staff Activation")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{name:"email","prepend-icon":"mail",type:"email",label:"Email",rules:t.rules.email,outlined:"",readonly:"",required:""},model:{value:t.credentials.email,callback:function(e){t.$set(t.credentials,"email",e)},expression:"credentials.email"}}),a("div",[a("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",rules:t.rules.password,"append-icon":t.value?"visibility":"visibility_off",type:t.value?"password":"text",outlined:"",required:""},on:{"click:append":function(){return t.value=!t.value}},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}}),1!=t.email.email?a("v-text-field",{attrs:{label:"Confirm Password",name:"password","prepend-icon":"mdi-lock",rules:t.rules.confirm_password,"append-icon":t.value?"visibility":"visibility_off",type:t.value?"password":"text",outlined:"",required:""},on:{"click:append":function(){return t.value=!t.value}},model:{value:t.credentials.confirm_password,callback:function(e){t.$set(t.credentials,"confirm_password",e)},expression:"credentials.confirm_password"}}):t._e()],1)],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[1==t.email.email?a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!t.valid},on:{click:t.confirm}},[t._v("Submit")]):a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!t.valid},on:{click:t.createStaffUser}},[t._v("Submit")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/login",text:"",color:"primary"}},[t._v("Back")])],1)],1)],1)],1)],1)],1)],1)},st=[],it={name:"StaffActivation",data:function(){var t=this;return{name:{},email:[],value:String,careuser:[],credentials:{email:"",id:"",password:"",confirm_password:""},valid:!0,loading:!1,alert:!1,rules:{email:[function(t){return!!t||"Email is required"}],password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>7||"The password must be longer than 7 characters"},function(t){return/(?=.*[A-Z])/.test(t)||"Must have one uppercase character"},function(t){return/(?=.*\d)/.test(t)||"Must have one number"},function(t){return/([!@$%])/.test(t)||"Must have one special character [!@#$%]"}],confirm_password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>7||"The password must be longer than 7 characters"},function(e){return e===t.credentials.password||"Password must Match"},function(t){return/(?=.*[A-Z])/.test(t)||"Must have one uppercase character"},function(t){return/(?=.*\d)/.test(t)||"Must have one number"},function(t){return/([!@$%])/.test(t)||"Must have one special character [!@#$%]"}]}}},mounted:function(){this.getStaff()},methods:{getStaff:function(){var t=this;z.a.get("getstaff/"+this.$route.query.id+"/").then((function(e){t.careuser=e.data,t.credentials.email=t.careuser.email,t.getEmail()}))},getEmail:function(){var t=this;z.a.get("getemail/"+this.careuser.email+"/").then((function(e){t.email=e.data}))},confirm:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.post("staff_activation/"+this.$route.query.id+"/",this.credentials).then((function(e){e.data&&(D.a.fire({icon:"success",title:"Successfull",text:" ",showConfirmButton:!1,showCloseButton:!1,timer:5e3}),t.credentials={},t.loading=!1,t.$router.push("/login"))})).catch((function(e){t.loading=!1,e&&D.a.fire({icon:"warning",type:"warning",title:"Invalid Token",text:"Token Incorrect",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))},createStaffUser:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.post("create_staffuser/"+this.$route.query.id+"/",this.credentials).then((function(e){e.data&&(D.a.fire({icon:"success",title:"Successfull",text:" please login to your account",showConfirmButton:!1,showCloseButton:!1,timer:5e3}),t.credentials={},t.loading=!1,t.$router.push("/login"))})).catch((function(e){t.loading=!1,e&&D.a.fire({icon:"warning",type:"warning",title:"Invalid Token",text:"Token Incorrect",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},rt=it,nt=Object(l["a"])(rt,at,st,!1,null,null,null),ot=nt.exports;b()(nt,{VApp:_["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VContainer:L["a"],VForm:M["a"],VImg:N["a"],VLayout:F["a"],VMain:w["a"],VProgressCircular:U["a"],VRow:V["a"],VTextField:Q["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center ma-3"},[t._v("Reset Password")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{name:"email","prepend-icon":"email",type:"email",label:"Email",rules:t.rules.email,outlined:"",required:""},model:{value:t.credentials.email,callback:function(e){t.$set(t.credentials,"email",e)},expression:"credentials.email"}})],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!t.valid},on:{click:t.reset}},[t._v("Reset Password")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/login",text:"",color:"primary"}},[t._v("Back")])],1)],1)],1)],1)],1)],1)],1)},ct=[],dt={name:"ForgetPassword",data:function(){return{name:{},credentials:{},valid:!0,loading:!1,alert:!1,rules:{email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}}},mounted:function(){},methods:{reset:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.post("/password_reset/",this.credentials).then((function(e){e.data&&(D.a.fire({icon:"success",type:"Success",title:"Check your email for verification link",text:"",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.credentials={},t.loading=!1)})).catch((function(e){t.loading=!1,e&&D.a.fire({type:"warning",title:"Invalid Credentials",text:"Wrong Email",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},ut=dt,mt=Object(l["a"])(ut,lt,ct,!1,null,null,null),vt=mt.exports;b()(mt,{VApp:_["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VContainer:L["a"],VForm:M["a"],VImg:N["a"],VLayout:F["a"],VMain:w["a"],VProgressCircular:U["a"],VRow:V["a"],VTextField:Q["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-img",{staticClass:"mb-6",attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"60"}}),a("h3",{staticClass:"subheading text-center ma-3"},[t._v("Confirm Password Reset")]),a("v-card",{staticClass:"mt-3"},[a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{name:"token","prepend-icon":"mdi-lock",type:"text",label:"Token",rules:t.rules.token,outlined:"",required:""},model:{value:t.credentials.token,callback:function(e){t.$set(t.credentials,"token",e)},expression:"credentials.token"}}),a("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:t.rules.password,outlined:"",required:""},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}}),a("v-text-field",{attrs:{label:"Confirm Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:t.rules.confirm_password,outlined:"",required:""},model:{value:t.credentials.confirm_password,callback:function(e){t.$set(t.credentials,"confirm_password",e)},expression:"credentials.confirm_password"}})],1)],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"primary white--text",attrs:{block:"",disabled:!t.valid},on:{click:t.confirm}},[t._v("Submit")])],1),a("v-card-actions",{staticClass:"justify-center px-3"},[a("v-btn",{staticClass:"text-capitalize",attrs:{to:"/login",text:"",color:"primary"}},[t._v("Back")])],1)],1)],1)],1)],1)],1)],1)},ft=[],pt={name:"Login",data:function(){var t=this;return{name:{},credentials:{},valid:!0,loading:!1,alert:!1,rules:{token:[function(t){return!!t||"Token is required"}],password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>7||"The password must be longer than 7 characters"},function(t){return/(?=.*[A-Z])/.test(t)||"Must have one uppercase character"},function(t){return/(?=.*\d)/.test(t)||"Must have one number"},function(t){return/([!@$%])/.test(t)||"Must have one special character [!@#$%]"}],confirm_password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>7||"The password must be longer than 7 characters"},function(e){return e===t.credentials.password||"Password must Match"},function(t){return/(?=.*[A-Z])/.test(t)||"Must have one uppercase character"},function(t){return/(?=.*\d)/.test(t)||"Must have one number"},function(t){return/([!@$%])/.test(t)||"Must have one special character [!@#$%]"}]}}},mounted:function(){},methods:{confirm:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.post("/password_reset/confirm/",this.credentials).then((function(e){e.data&&(D.a.fire({icon:"success",type:"success",title:"Password Reset Successfully",text:" ",showConfirmButton:!1,showCloseButton:!1,timer:5e3}),t.credentials={},t.loading=!1)})).catch((function(e){t.loading=!1,e&&D.a.fire({icon:"warning",type:"warning",title:"Invalid Token",text:"Token Incorrect",showConfirmButton:!1,showCloseButton:!1,timer:3e3})})))}}},gt=pt,bt=Object(l["a"])(gt,ht,ft,!1,null,null,null),_t=bt.exports;b()(bt,{VApp:_["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VContainer:L["a"],VForm:M["a"],VImg:N["a"],VLayout:F["a"],VMain:w["a"],VProgressCircular:U["a"],VRow:V["a"],VTextField:Q["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background},attrs:{id:"inspire"}},[a("v-app-bar",{attrs:{app:"",elevation:"1",color:"white"}},[a("v-toolbar-title",{staticStyle:{width:"180px"}},[a("v-img",{attrs:{src:"/static/logo/taonethealth_logo.png",contain:"",height:"40",position:"left"}})],1)],1),a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-card",{attrs:{"min-width":"600","min-height":"300"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("\n               Choose your pharmacy\n             ")])],1),a("v-divider"),a("v-card-text",t._l(t.pharmacy,(function(e){return a("div",{key:e.id},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("\n                      "+t._s(e.pharmacy_name)+"\n                    ")]),a("v-spacer"),1==e.active?a("v-btn",{attrs:{color:"success",outlined:"",depressed:""},on:{click:function(a){return t.launch(e)}}},[t._v("\n                      Launch\n                    ")]):a("v-chip",{attrs:{color:"error"}},[t._v("Inactive")])],1),a("v-divider")],1)})),0)],1)],1)],1)],1)],1)},xt=[],Ct={name:"PharmaryList",data:function(){return{pharmacy:[]}},mounted:function(){this.checkLoggedIn(),this.getPharmacyList()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||router.push("/login")},getPharmacyList:function(){var t=this;z.a.get("/pharmacylist/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.pharmacy=e.data}))},launch:function(t){sessionStorage.pharmacy_id=t.pharmacy_id,sessionStorage.pharmacyuser_id=t.id,sessionStorage.pharmacyuser_role=t.role,sessionStorage.pharmacyuser_isAdmin=t.is_admin,this.$router.push("/dashboard")}}},wt=Ct,kt=a("cc20"),Vt=a("ce7e"),St=a("71d9"),$t=Object(l["a"])(wt,yt,xt,!1,null,null,null),Bt=$t.exports;b()($t,{VApp:_["a"],VAppBar:y["a"],VBtn:x["a"],VCard:R["a"],VCardText:j["b"],VChip:kt["a"],VContainer:L["a"],VDivider:Vt["a"],VImg:N["a"],VMain:w["a"],VRow:V["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{style:{background:t.$vuetify.theme.themes.light.background}},[a("v-app-bar",{attrs:{app:"","clipped-left":t.$vuetify.breakpoint.lgAndUp,elevation:"1",color:"white"}},[a("v-toolbar-title",[t._v("\n      Documuent Management System\n    ")]),a("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.draw()}}}),a("v-spacer"),a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{outlined:"",flat:"",color:"white",solo:"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",rounded:""}}),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"primary"}},[t._v("apps")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-bell")])],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",large:""}},"v-btn",i,!1),s),[a("v-avatar",{attrs:{size:"32px",item:""}},[a("v-img",{attrs:{src:t.pharmsuser.photo,alt:"CareUser Photo"}})],1)],1)]}}])},[a("v-list",[a("v-list-item",{attrs:{to:"/profile"}},[a("v-list-item-action",[a("v-icon",[t._v("person")])],1),a("v-list-item-title",[t._v("Profile")])],1),a("v-list-item",{attrs:{to:"/account_setting"}},[a("v-list-item-action",[a("v-icon",[t._v("settings")])],1),a("v-list-item-title",[t._v("Account Settings")])],1),a("v-list-item",{on:{click:function(e){return t.logout()}}},[a("v-list-item-action",[a("v-icon",[t._v("exit_to_app")])],1),a("v-list-item-title",[t._v("Logout")])],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,src:"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg",dark:"","mobile-breakpoint":"960",width:"300",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item",{attrs:{router:"",to:"/dashboard"}},[a("v-list-item-action",[a("v-icon",[t._v("home")])],1),a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"green"}},[t._v("Dashboard")])],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-web","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[t._v("Projects")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Project on maintainance")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Road Project")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Non-Road Project")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-hospital-building","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[t._v("Maintainance Cost")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Federal")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("State")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("LGA:Urban")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("LGA:Rural")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("LGA:Village")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-hospital-building","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[t._v("Extenal Structures")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Road Maintenance Impact")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Management Plan")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Asset Evaluation (Road Assets)")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Asset Evaluation (Non Road Assets)")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Shareholders Management")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("PESTLE as it affects FERMA")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Road Information")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("PBMC")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Private Public Partnership")])],1)],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-hospital-building","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[t._v("Road Inventory")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Inventory of Road")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Condition")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Work Stream")])],1)],1),a("v-list-item",{attrs:{to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Legend")])],1)],1)],1),a("v-list-group",{attrs:{nav:"",dark:"","prepend-icon":"person","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Performance")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("KPI")])],1)],1),a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Key Activities")])],1)],1),a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Summary of Maintainance")])],1)],1)],1),a("v-list-group",{attrs:{nav:"",dark:"","prepend-icon":"person","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Score Card")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("MWH Deliverables 1")])],1)],1),a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("MWH Deliverables 2")])],1)],1),a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Summary of Maintainance")])],1)],1)],1),a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-cash")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"white--text"},[t._v("Budget")])],1)],1),a("v-list-group",{attrs:{"prepend-icon":"people","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{attrs:{"active-class":"white--text"}},[t._v("Human Resources")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{to:"/addemployee"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Add Employee")])],1)],1),a("v-list-item",{attrs:{to:"/employeelist"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Employee List")])],1)],1)],1),a("v-list-item",{attrs:{router:"",to:"/task"}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-calendar-plus")])],1),a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"green"}},[t._v("My Tasks")])],1)],1),a("v-subheader",{attrs:{inset:t.inset}},[t._v("Manage")]),a("v-list-group",{attrs:{"prepend-icon":"dashboard","active-class":"white--text","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Adminstrations")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{router:"",to:"#"}},[a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"green"}},[t._v("Roles")])],1)],1)],1)],1)],1),a("v-main",[a("router-view")],1)],1)},Pt=[],Tt={name:"Home",data:function(){return{drawer:null,tab:null,inset:!0,pharmsuser:[],pharmacyuser:[]}},mounted:function(){this.checkLoggedIn(),this.getPharmacyUser()},methods:{draw:function(){this.drawer=!this.drawer},logout:function(){this.$session.clear(),sessionStorage.clear(),this.$router.push("/login")},checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmsuser=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))}}},At=Tt,zt=a("5bc1"),qt=a("8212"),Dt=a("132d"),Et=a("8860"),Ot=a("56b0"),Rt=a("da13"),jt=a("1800"),Lt=a("5d23"),Mt=a("e449"),Nt=a("f774"),Ft=a("e0c7"),Ut=Object(l["a"])(At,It,Pt,!1,null,null,null),Kt=Ut.exports;b()(Ut,{VApp:_["a"],VAppBar:y["a"],VAppBarNavIcon:zt["a"],VAvatar:qt["a"],VBtn:x["a"],VIcon:Dt["a"],VImg:N["a"],VList:Et["a"],VListGroup:Ot["a"],VListItem:Rt["a"],VListItemAction:jt["a"],VListItemContent:Lt["a"],VListItemTitle:Lt["c"],VMain:w["a"],VMenu:Mt["a"],VNavigationDrawer:Nt["a"],VSpacer:S["a"],VSubheader:Ft["a"],VTextField:Q["a"],VToolbarTitle:$["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"mt-4",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"8",md:"8",sm:"8"}},[a("div",{staticClass:"my-2"},[a("h2",{staticClass:"display-1 text-h4 font-weight-light gray--text"},[t._v("\n          Hello, Adamu Uche!\n        ")]),a("h4",{staticClass:"text-h6 font-weight-thin gray--text"},[t._v("Welcome back")])])])],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"8",md:"8",sm:"8"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm6:"",xm6:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"#",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Projects")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("mdi-point-of-sale")]),a("v-spacer")],1)],1)],1)],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"#",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Performance")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("home")]),a("v-spacer")],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"#",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Reports")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("mdi-web")]),a("v-spacer")],1)],1)],1)],1),a("v-flex",{attrs:{lg6:"",md6:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"#",elevation:"1","min-height":"120","max-height":"120"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Documents")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("mdi-file")]),a("v-spacer")],1)],1)],1)],1)],1)],1)],1),a("div")],1)},Gt=[],Wt={name:"Dashboard",data:function(){return{tab:null,pharmsuser:[]}},mounted:function(){this.checkLoggedIn(),this.getPharmUser()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},getPharmUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.pharmsuser=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(Swal.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))}}},Ht=Wt,Zt=a("0e8f"),Jt=Object(l["a"])(Ht,Qt,Gt,!1,null,null,null),Yt=Jt.exports;b()(Jt,{VCard:R["a"],VCardText:j["b"],VCol:C["a"],VContainer:L["a"],VFlex:Zt["a"],VIcon:Dt["a"],VLayout:F["a"],VRow:V["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",xs12:"",sm12:"",md8:""}},[a("v-snackbar",{attrs:{width:"10px",color:"success",top:"",centered:"",rounded:"xl",timeout:400},model:{value:t.snackbar1,callback:function(e){t.snackbar1=e},expression:"snackbar1"}},[t._v("\n        Add to cart\n      ")]),a("v-snackbar",{attrs:{width:"10px",color:"info",top:"",centered:"",rounded:"xl",timeout:400},model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[t._v("\n        Remove from cart\n      ")]),a("v-card",{attrs:{flat:"","min-height":"350"}},[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):a("div",[a("v-container",{attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:t.medicines,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e},"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{flat:""}},[a("v-toolbar-title",[t._v(" All Product ")]),a("v-spacer"),a("v-text-field",{staticClass:"hidden-sm-and-down",style:{width:"25px"},attrs:{clearable:"",flat:"",outlined:"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-badge",{staticClass:"hidden-md-and-up",attrs:{content:t.cartQuantity,value:t.cartQuantity,color:"error",overlap:""}},[a("v-avatar",{attrs:{tile:"",size:"60"}},[a("v-btn",{staticClass:"text-capitalize",attrs:{color:"info",depressed:"",dark:"",text:""},on:{click:function(e){return t.goto("cart")}}},[a("v-icon",[t._v("mdi-cart")]),t._v(" Cart\n                      ")],1)],1)],1)],1),a("v-divider"),a("v-text-field",{staticClass:"hidden-md-and-up",attrs:{clearable:"",flat:"",outlined:"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-divider")]},proxy:!0},{key:"default",fn:function(e){return[a("v-row",{staticClass:"mt-4"},t._l(e.items,(function(e){return a("v-col",{key:e.name,attrs:{sm:"6",md:"4",lg:"3",cols:"6"}},[a("v-card",{staticClass:"d-flex flex-column",attrs:{height:"250",width:"100%"}},[a("v-img",{staticClass:"mt-2",attrs:{height:"70",contain:"",alt:e.medicines_name,src:e.medicines_photo}}),a("v-card-text",{staticClass:"pt-4",staticStyle:{position:"relative"}},[a("h3",{staticClass:"text-h6 font-weight-light primary--text mb-1"},[t._v("\n                          "+t._s(e.medicines_name)+"\n                        ")]),a("v-chip",{attrs:{small:""}},[t._v(" ₦"+t._s(e.sale_price)+" ")])],1),a("v-spacer"),a("v-card-actions",[a("v-btn",{staticClass:"justify-center",attrs:{color:"primary",outlined:"",block:""},on:{click:function(a){return t.addToCart(e)}}},[t._v("Add to cart")])],1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"ma-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"grey--text"},[t._v("Items per page")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",i,!1),s),[t._v("\n                        "+t._s(t.itemsPerPage)+"\n                        "),a("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[a("v-list",t._l(t.itemsPerPageArray,(function(e,s){return a("v-list-item",{key:s,on:{click:function(a){return t.updateItemsPerPage(e)}}},[a("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1),a("v-spacer"),a("span",{staticClass:"mr-4 grey--text"},[t._v("\n                    Page "+t._s(t.page)+" of "+t._s(t.numberOfPages)+"\n                  ")]),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",small:"",depressed:"",color:"blue darken-3"},on:{click:t.formerPage}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",small:"",depressed:"",color:"blue darken-3"},on:{click:t.nextPage}},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)],1)],1)],1),a("v-flex",{ref:"cart",attrs:{xs12:"",sm12:"",lg4:"",md4:""}},[a("v-card",{staticClass:"mx-2",attrs:{height:"100vh"}},[a("v-card-title",{staticClass:"white--text info darken-2"},[t._v("\n          Shopping Cart\n\n          "),a("v-spacer"),a("v-btn",{staticClass:"text--primary",attrs:{color:"white",fab:"",small:""}},[t._v("\n            "+t._s(t.cartQuantity)+"\n          ")])],1),a("v-virtual-scroll",{attrs:{items:t.cartProduct,"item-height":120,height:"300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-avatar",{attrs:{size:"80"}},[a("v-img",{attrs:{contain:"",src:s.product.medicines_photo}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"title my-1 text-h6"},[t._v(t._s(s.product.medicines_name))]),a("v-list-item-subtitle",{staticClass:"my-1"},[t._v("\n                  ₦"+t._s(s.product.sale_price)+"\n                ")]),a("v-list-item-subtitle",[a("v-btn",{attrs:{fab:"","x-small":"",depressed:"",disabled:s.quantity<=1,color:"primary"},on:{click:function(e){return t.removeProduct(s.product)}}},[a("v-icon",[t._v("mdi-minus")])],1),a("v-btn",{staticClass:"ma-1",attrs:{fab:"",depressed:"","x-small":"",color:"grey"}},[t._v("\n                    "+t._s(s.quantity)+"\n                  ")]),a("v-btn",{attrs:{fab:"","x-small":"",depressed:"",color:"primary"},on:{click:function(e){return t.addToCart(s.product)}}},[a("v-icon",[t._v("mdi-plus")])],1)],1)],1),a("v-list-item-icon",[a("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return t.deleteProduct(s.product)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1),a("v-divider")]}}])}),a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"mr-4"},[t._v("\n            (Subtotal) "+t._s(t.cartQuantity)+" items\n          ")]),a("v-toolbar-title",{staticClass:"title error--text"},[t._v("\n            ₦"+t._s(t.cartTotal)+"\n          ")])],1),a("v-card-actions",[a("v-btn",{staticClass:"text-capitalize",attrs:{disabled:t.cartQuantity<1,depressed:"",width:"50%",color:"success"},on:{click:function(e){return t.create()}}},[t._v("Cash Payment")]),a("v-btn",{staticClass:"text-capitalize",attrs:{disabled:t.cartQuantity<1,width:"50%",depressed:"",color:"primary"},on:{click:function(e){t.dialog=!0}}},[t._v("Online Payment")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" Email Address ")]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",{staticClass:"mt-2"},[a("v-text-field",{attrs:{outlined:"",label:"Email",rules:t.rules.email},model:{value:t.editedItem.customer_email,callback:function(e){t.$set(t.editedItem,"customer_email",e)},expression:"editedItem.customer_email"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",disabled:!t.valid,text:""},on:{click:function(e){return t.payWithMonnify()}}},[t._v("Confirm")])],1)],1)],1)],1)},te=[],ee=(a("4de4"),a("c975"),a("a434"),{name:"Sale",data:function(){var t=this;return{itemsPerPageArray:[4,8,12,16,20,24,28,32,36,40],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:20,sortBy:"name",keys:["Name","Price"],snackbar1:!1,snackbar2:!1,dialog:!1,loading:!1,valid:!0,headers1:[{text:"Medicine",align:"start",sortable:!1,value:"medicines_name"},{text:"Quantity",value:"quantity"},{text:"Amount",value:"amount"},{text:"Actions",value:"actions"}],medicines:[],select:[],items:{medicines_name:"",medicines:"",amount:1,quantity:1},payment_type:["Cash","Online Payment"],editedItem:{customer_name:"",customer_email:"",total_amount:0,sale_items:[]},rules:{email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],quantity:[function(t){return t>0||"Quantity"},function(e){return e<parseInt(t.select.quantity)+1||"Quantity must be less than available stock"}]}}},computed:{numberOfPages:function(){return Math.ceil(this.medicines.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(t){return"Name"!==t}))},cartProduct:function(){var t=this.$store.getters.cartProducts;return this.editedItem.sale_items=t,this.$store.getters.cartProducts},cartTotal:function(){return this.editedItem.total_amount=this.$store.getters.cartTotal,this.$store.getters.cartTotal},cartQuantity:function(){return this.$store.getters.cartQuantity},shipPrice:function(){return this.editedItem.shipping=this.ship_price.id,this.ship_price.price?this.ship_price.price:0},allTotal:function(){return this.total=(this.ship_price.price?this.ship_price.price:0)+this.cartTotal,this.total}},created:function(){this.getMedicine()},methods:{goto:function(t){var e=this.$refs[t],a=e.offsetTop;window.scrollTo(0,a)},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t},getMedicine:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicine_stock/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.medicines=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},create:function(){var t=this;z.a.post("/"+sessionStorage.pharmacy_id+"/sales_cashpay/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Successfully Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.clearCart(),t.initialize()}))},calculate:function(){this.items.amount=this.select.sale_price*this.items.quantity},dot:function(t){this.calculate(),this.items.medicines=t.id,this.items.medicines_name=t.medicines_name,this.editedItem.sale_items.push(Object.assign({},this.items)),this.addTotal(),this.select=[]},remove:function(t){this.removeTotal(t);var e=this.editedItem.sale_items.indexOf(t);this.editedItem.sale_items.splice(e,1)},addTotal:function(){this.editedItem.total_amount=this.editedItem.total_amount+this.items.amount},removeTotal:function(t){this.editedItem.total_amount=this.editedItem.total_amount-t.amount},clear:function(){this.select=[],this.dialog=!1,this.editedItem={},this.editedItem.sale_items=[]},payWithMonnify:function(){var t=this;MonnifySDK.initialize({amount:this.editedItem.total_amount,currency:"NGN",reference:""+Math.floor(1e9*Math.random()+1),customerName:this.editedItem.customer_name,customerEmail:this.editedItem.customer_email,customerMobileNumber:this.editedItem.phone_no,apiKey:"MK_PROD_JVQZQ6YXS7",contractCode:"332884593433",paymentDescription:"Pharmacy Bill Payment",isTestMode:!1,onComplete:function(e){e.transactionReference&&t.cardCreate(e.transactionReference)},onClose:function(t){}})},cardCreate:function(t){var e=this;z.a.post("/"+sessionStorage.pharmacy_id+"/sales_onlinepay/"+t+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Successfully Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.clearCart(),e.clear(),e.initialize()}))},addToCart:function(t){this.snackbar1=!0,this.$store.dispatch("addProductToCart",t)},removeProduct:function(t){this.snackbar2=!0,this.$store.dispatch("reduceProduct",t)},deleteProduct:function(t){this.$store.dispatch("removeProductFromCart",t)},clearCart:function(t){this.$store.dispatch("checkout",t)}}}),ae=ee,se=a("4ca6"),ie=a("c377"),re=a("169a"),ne=a("8270"),oe=a("34c3"),le=a("2db4"),ce=a("0de5"),de=Object(l["a"])(ae,Xt,te,!1,null,null,null),ue=de.exports;b()(de,{VAvatar:qt["a"],VBadge:se["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VChip:kt["a"],VCol:C["a"],VContainer:L["a"],VDataIterator:ie["a"],VDialog:re["a"],VDivider:Vt["a"],VFlex:Zt["a"],VForm:M["a"],VIcon:Dt["a"],VImg:N["a"],VLayout:F["a"],VList:Et["a"],VListItem:Rt["a"],VListItemAvatar:ne["a"],VListItemContent:Lt["a"],VListItemIcon:oe["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"],VMenu:Mt["a"],VProgressCircular:U["a"],VRow:V["a"],VSnackbar:le["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"],VVirtualScroll:ce["a"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Today Sales")])],1),a("v-data-table",{attrs:{headers:t.headers,items:t.sales},scopedSlots:t._u([{key:"item.name",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.customer_name)+" "+t._s(a.patient_name)+"\n      ")]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.viewItem(s)}}},[t._v("view")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("View Detail")]),a("v-spacer"),null!=t.info.visit?a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.addItem()}}},[t._v("\n          Add Item\n        ")]):t._e()],1),a("v-card-text",[a("v-container",[a("v-sheet",{attrs:{id:"invoice"}},[a("v-divider"),a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-toolbar-title",[t._v("Sale Detail")]),a("v-spacer")],1),a("v-divider"),a("v-layout",{staticClass:"pa-6 ma-4",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mt-1",attrs:{lg4:"",md4:"",sm12:""}},[a("h4",{staticClass:"title"},[t._v("From:")]),a("h5",[t._v(t._s(t.info.pharmacy_name))])]),a("v-flex",{staticClass:"mt-1",attrs:{lg4:"",md4:"",sm12:""}},[a("h4",{staticClass:"title"},[t._v("To:")]),a("h5",[t._v(t._s(t.info.customer_name)+" "+t._s(t.info.patient_name))]),a("h5",[t._v(t._s(t.info.phone_no))])]),a("v-flex",{staticClass:"mt-1",attrs:{lg4:"",md4:"",sm12:""}},[a("h5",[t._v("Date : "+t._s(t.info.date_created))])])],1),a("v-divider"),a("v-data-table",{attrs:{headers:t.headers1,"hide-default-footer":"",items:t.items}}),a("v-divider"),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),a("div",[a("v-divider"),a("v-col",{attrs:{cols:"12",lg:"12"}},[a("h3",[t._v("Total: ₦"+t._s(t.info.total_amount))])]),a("v-divider")],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("close")])],1)],1)],1)],1)},ve=[],he={name:"Sale",data:function(){return{dialog:!1,menu:!1,loading:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"date_created"},{text:"Name",value:"name"},{text:"Payment Type",value:"payment_type"},{text:"Total Amount",value:"total_amount"},{text:"Actions",value:"actions"}],headers1:[{text:"Medicine",align:"start",sortable:!1,value:"medicine_name"},{text:"Quantity",value:"quantity"},{text:"Amount",value:"amount"}],sales:[],info:[],items:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/today_sales/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.sales=e.data}))},viewItem:function(t){var e=this;this.dialog=!0,this.loading=!0,z.a.get("/"+sessionStorage.pharmacy_id+"/items/"+t.id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(a){e.items=a.data,e.info=t,e.loading=!1})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({icon:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}}},fe=he,pe=a("8fea"),ge=a("8dd9"),be=Object(l["a"])(fe,me,ve,!1,null,null,null),_e=be.exports;b()(be,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VFlex:Zt["a"],VLayout:F["a"],VRow:V["a"],VSheet:ge["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("All Sales")])],1),a("v-data-table",{attrs:{headers:t.headers,items:t.sales},scopedSlots:t._u([{key:"item.name",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.customer_name)+" "+t._s(a.patient_name)+"\n      ")]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.viewItem(s)}}},[t._v("view")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("View Detail")]),a("v-spacer"),null!=t.info.visit?a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.addItem()}}},[t._v("\n          Add Item\n        ")]):t._e()],1),a("v-card-text",[a("v-container",[a("v-sheet",{attrs:{id:"invoice"}},[a("v-divider"),a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-toolbar-title",[t._v("Sale Detail")]),a("v-spacer")],1),a("v-divider"),a("v-layout",{staticClass:"pa-6 ma-4",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mt-1",attrs:{lg4:"",md4:"",sm12:""}},[a("h4",{staticClass:"title"},[t._v("From:")]),a("h5",[t._v(t._s(t.info.pharmacy_name))])]),a("v-flex",{staticClass:"mt-1",attrs:{lg4:"",md4:"",sm12:""}},[a("h4",{staticClass:"title"},[t._v("To:")]),a("h5",[t._v(t._s(t.info.customer_name)+t._s(t.info.patient_name))]),a("h5",[t._v(t._s(t.info.phone_no))])]),a("v-flex",{staticClass:"mt-1",attrs:{lg4:"",md4:"",sm12:""}},[a("h5",[t._v("Date : "+t._s(t.info.date_created))])])],1),a("v-divider"),a("v-data-table",{attrs:{headers:t.headers1,"hide-default-footer":"",items:t.items}}),a("v-divider"),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),a("div",[a("v-divider"),a("v-col",{attrs:{cols:"12",lg:"12"}},[a("h3",[t._v("Total: ₦"+t._s(t.info.total_amount))])]),a("v-divider")],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("close")])],1)],1)],1)],1)},xe=[],Ce={name:"Sale",data:function(){return{dialog:!1,menu:!1,loading:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"date_created"},{text:"Name",value:"name"},{text:"Payment Type",value:"payment_type"},{text:"Total Amount",value:"total_amount"},{text:"Actions",value:"actions"}],headers1:[{text:"Medicine",align:"start",sortable:!1,value:"medicine_name"},{text:"Quantity",value:"quantity"},{text:"Amount",value:"amount"}],sales:[],info:[],items:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicine_sales/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.sales=e.data}))},viewItem:function(t){var e=this;this.dialog=!0,this.loading=!0,z.a.get("/"+sessionStorage.pharmacy_id+"/items/"+t.id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(a){e.items=a.data,e.info=t,e.loading=!1})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({icon:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}}},we=Ce,ke=Object(l["a"])(we,ye,xe,!1,null,null,null),Ve=ke.exports;b()(ke,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VFlex:Zt["a"],VLayout:F["a"],VRow:V["a"],VSheet:ge["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"d-inline-block ma-2"},[a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-img",{attrs:{height:"200",width:"200",src:t.staff.photo}})],1)],1)],1)],1)],1),a("v-flex",{attrs:{md9:""}},[a("v-card",{staticClass:"elevation=1 ma-2"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Profile")])],1),a("v-divider"),a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:150,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Personal Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"5",md:"6",sm:"12"}},[a("v-file-input",{attrs:{accept:"image/*",chips:"",label:"Photo"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-col",{attrs:{cols:"12",lg:"7",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:" Surname"},model:{value:t.staff.last_name,callback:function(e){t.$set(t.staff,"last_name",e)},expression:"staff.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"First name"},model:{value:t.staff.first_name,callback:function(e){t.$set(t.staff,"first_name",e)},expression:"staff.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Middle name"},model:{value:t.staff.middle_name,callback:function(e){t.$set(t.staff,"middle_name",e)},expression:"staff.middle_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.gender,rules:t.rules.gender,label:"Gender"},model:{value:t.staff.gender,callback:function(e){t.$set(t.staff,"gender",e)},expression:"staff.gender"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{rules:t.rules.dob,readonly:"",label:"Date of Birth","prepend-icon":"event"},model:{value:t.staff.dob,callback:function(e){t.$set(t.staff,"dob",e)},expression:"staff.dob"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.staff.dob,callback:function(e){t.$set(t.staff,"dob",e)},expression:"staff.dob"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.phone,label:"Phone Number"},model:{value:t.staff.phone,callback:function(e){t.$set(t.staff,"phone",e)},expression:"staff.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{type:"email",rules:t.rules.email,label:"Email"},model:{value:t.staff.email,callback:function(e){t.$set(t.staff,"email",e)},expression:"staff.email"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Role Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.roles,rules:t.rules.role,readonly:"",label:"Role"},model:{value:t.staff.role,callback:function(e){t.$set(t.staff,"role",e)},expression:"staff.role"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.specialization,label:"Speciality"},model:{value:t.staff.specialization,callback:function(e){t.$set(t.staff,"specialization",e)},expression:"staff.specialization"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.qualification,label:"Qualification"},model:{value:t.staff.qualification,callback:function(e){t.$set(t.staff,"qualification",e)},expression:"staff.qualification"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Contact Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-textarea",{attrs:{rows:"1",rules:t.rules.address,label:"Address"},model:{value:t.staff.address,callback:function(e){t.$set(t.staff,"address",e)},expression:"staff.address"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.country,rules:t.rules.country,label:" Country"},model:{value:t.staff.country,callback:function(e){t.$set(t.staff,"country",e)},expression:"staff.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-combobox",{attrs:{items:t.state,rules:t.rules.state,label:" State"},model:{value:t.staff.state,callback:function(e){t.$set(t.staff,"state",e)},expression:"staff.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.city,label:" City"},model:{value:t.staff.city,callback:function(e){t.$set(t.staff,"city",e)},expression:"staff.city"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Additional Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.marital_status,rules:t.rules.marital_status,label:"Marital Status"},model:{value:t.staff.marital_status,callback:function(e){t.$set(t.staff,"marital_status",e)},expression:"staff.marital_status"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",disabled:!t.valid,depressed:""},on:{click:function(e){return t.addStaff()}}},[t._v("Update")])],1)],1)],1)],1)],1)},$e=[],Be={name:"Profile",data:function(){return{loading:!1,menu:!1,roles:["Doctor","Nurse","Accountant","Receptionist","Others"],gender:["Male","Female"],country:["Nigeria"],state:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],marital_status:["Single","Married","Divorced"],departments:[],file:"",staff:{},valid:!0,rules:{name:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>=2||"A name must be more than 2 characters long"}],email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],dob:[function(t){return!!t||"Date of Birth is required"}],gender:[function(t){return!!t||"Gender is required"}],address:[function(t){return!!t||"Address is required"}],role:[function(t){return!!t||"Role is required"}],department:[function(t){return!!t||"Department is required"}],specialization:[function(t){return!!t||"Specialization is required"}],qualification:[function(t){return!!t||"Qualification is required"}],marital_status:[function(t){return!!t||"Marital Status is required"}],city:[function(t){return!!t||"City is required"}],state:[function(t){return!!t||"State is required"}],country:[function(t){return!!t||"Country is required"}],phone:[function(t){return!!t||"Phone number is required"},function(t){return t&&t.length>=11||"A phon number must be 11 digit long"}]}}},created:function(){this.getPharmacyUser()},methods:{getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.staff=e.data}))},addStaff:function(){var t=this;this.loading=!0;var e=new FormData;e.append("last_name",this.staff.last_name),e.append("first_name",this.staff.first_name),e.append("middle_name",this.staff.middle_name),e.append("gender",this.staff.gender),e.append("dob",this.staff.dob),e.append("email",this.staff.email),e.append("phone",this.staff.phone),e.append("address",this.staff.address),e.append("country",this.staff.country),e.append("state",this.staff.state),e.append("city",this.staff.city),e.append("marital_status",this.staff.marital_status),e.append("qualification",this.staff.qualification),e.append("specialization",this.staff.specialization),e.append("role",this.staff.role),e.append("is_admin",this.staff.is_admin),e.append("photo",this.file),z.a.put("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",e,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&(D.a.fire({icon:"success",type:"success",title:"Profile Updated",text:"Updated Successfully",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.loading=!1,t.getPharmacyUser())}))}}},Ie=Be,Pe=a("2b5d"),Te=a("2e4b"),Ae=a("23a7"),ze=Object(l["a"])(Ie,Se,$e,!1,null,null,null),qe=ze.exports;b()(ze,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDatePicker:Te["a"],VDivider:Vt["a"],VFileInput:Ae["a"],VFlex:Zt["a"],VForm:M["a"],VImg:N["a"],VLayout:F["a"],VMenu:Mt["a"],VProgressCircular:U["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"pa-2"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Account Settings")])],1),a("v-divider"),a("v-card",{staticClass:"ma-2"},[a("v-card-title",[t._v("\n        Change Password\n      ")]),a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",outlined:"",label:"Old password",rules:t.rules.old_password,"prepend-icon":"mdi-lock"},model:{value:t.password.old_password,callback:function(e){t.$set(t.password,"old_password",e)},expression:"password.old_password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",outlined:"",label:"New password",rules:t.rules.old_password,"prepend-icon":"mdi-lock"},model:{value:t.password.new_password,callback:function(e){t.$set(t.password,"new_password",e)},expression:"password.new_password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{depressed:"",color:"success",disabled:!t.valid},on:{click:function(e){return t.change()}}},[t._v("\n          Change Password\n        ")])],1)],1)],1)],1)},Ee=[],Oe={name:"Setting",data:function(){return{password:{old_password:"",new_pawword:""},valid:!0,loading:!1,rules:{old_password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>7||"The password must be longer than 7 characters"}],new_password:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>7||"The password must be longer than 7 characters"}]}}},methods:{change:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,z.a.put("/"+sessionStorage.pharmacy_id+"/change_password/",this.password,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&(D.a.fire({icon:"success",type:"success",title:"Password Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.loading=!1,t.$session.clear(),t.$router.push("/login"))})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))})))}}},Re=Oe,je=Object(l["a"])(Re,De,Ee,!1,null,null,null),Le=je.exports;b()(je,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDivider:Vt["a"],VForm:M["a"],VLayout:F["a"],VProgressCircular:U["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"todayappointment",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Today's Appointment")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("event")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1),a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/waiting_room",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Patient In Office")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("home")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1),a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/outpatient",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Outpatient")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("person")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1),a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/inpatient",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Inpatient")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("person")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/prescription",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Prescriptions")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("fas fa-medkit")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1),a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/labresult",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Labs Results")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("fas fa-flask")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1),a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{to:"/imageresult",elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Imagings")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("fas fa-phone")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1),a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"ma-1",attrs:{elevation:"1","min-height":"150","max-height":"150"}},[a("v-toolbar",{attrs:{flat:"",height:"40"}},[a("v-toolbar-title",[t._v("Clinical Documents")])],1),a("v-card-text",[a("v-row",{staticClass:"ma-2"},[a("v-icon",{attrs:{left:"",color:"primary","x-large":"",size:"100"}},[t._v("note")]),a("v-spacer"),a("h1",{staticClass:"subheading display-3"},[t._v("5")])],1)],1)],1)],1)],1)],1)},Ne=[],Fe={name:"Dashboard",data:function(){return{tab:null,careuser:[]}},mounted:function(){this.checkLoggedIn(),this.getCareUser()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},getCareUser:function(){var t=this;z.a.get("/"+sessionStorage.healthcare_id+"/careuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.careuser=e.data}))}}},Ue=Fe,Ke=Object(l["a"])(Ue,Me,Ne,!1,null,null,null),Qe=Ke.exports;b()(Ke,{VCard:R["a"],VCardText:j["b"],VContainer:L["a"],VFlex:Zt["a"],VIcon:Dt["a"],VLayout:F["a"],VRow:V["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"pa-2",attrs:{"min-height":"600",flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Facility Detail")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2 text-capitalize",attrs:{color:"success",small:"",dark:"",depressed:""}},"v-btn",i,!1),s),[t._v("Edit Detail")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edit Detail")]),a("v-spacer")],1),a("v-card-text",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Name",rules:t.rules.name},model:{value:t.pharmacy.name,callback:function(e){t.$set(t.pharmacy,"name",e)},expression:"pharmacy.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"First Name",rules:t.rules.first_name},model:{value:t.pharmacy.first_name,callback:function(e){t.$set(t.pharmacy,"first_name",e)},expression:"pharmacy.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Last Name",rules:t.rules.last_name},model:{value:t.pharmacy.last_name,callback:function(e){t.$set(t.pharmacy,"last_name",e)},expression:"pharmacy.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Email",rules:t.rules.email},model:{value:t.pharmacy.email,callback:function(e){t.$set(t.pharmacy,"email",e)},expression:"pharmacy.email"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Phone Number",rules:t.rules.phone},model:{value:t.pharmacy.phone,callback:function(e){t.$set(t.pharmacy,"phone",e)},expression:"pharmacy.phone"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Contact NIN",rules:t.rules.nin},model:{value:t.pharmacy.nin,callback:function(e){t.$set(t.pharmacy,"nin",e)},expression:"pharmacy.nin"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-file-input",{attrs:{accept:"image/*",chips:"",label:"Photo"},model:{value:t.pharmacy.logo,callback:function(e){t.$set(t.pharmacy,"logo",e)},expression:"pharmacy.logo"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Address",rules:t.rules.address},model:{value:t.pharmacy.address,callback:function(e){t.$set(t.pharmacy,"address",e)},expression:"pharmacy.address"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"4",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"City",rules:t.rules.city},model:{value:t.pharmacy.city,callback:function(e){t.$set(t.pharmacy,"city",e)},expression:"pharmacy.city"}})],1),a("v-col",{attrs:{cols:"12",lg:"4",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.states,label:"State",rules:t.rules.state},model:{value:t.pharmacy.state,callback:function(e){t.$set(t.pharmacy,"state",e)},expression:"pharmacy.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"4",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Country",items:t.countries,rules:t.rules.country},model:{value:t.pharmacy.country,callback:function(e){t.$set(t.pharmacy,"country",e)},expression:"pharmacy.country"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",small:"",text:"",disabled:!t.valid},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)],1)],1),a("v-divider"),a("div",[a("v-card",{staticClass:"d-none d-lg-block mx-2 mb-2",attrs:{"min-height":"200","max-height":"400"}},[a("v-row",{staticClass:"pa-4"},[a("v-col",{attrs:{cols:"12",lg:"4"}},[a("div",{staticClass:"mt-8 text-center"},[a("v-avatar",{staticClass:"mt-n7",attrs:{size:"150",elevation:"10"}},[a("v-img",{staticClass:"my-3",attrs:{src:t.pharmacy.logo,contain:"",height:"100"}})],1)],1)]),a("v-col",{attrs:{cols:"12",lg:"8"}},[a("div",[a("h3",{staticClass:"display-1"},[t._v(t._s(t.pharmacy.name))]),a("p",[t._v(t._s(t.pharmacy.address)+",")]),a("p",[t._v(t._s(t.pharmacy.city)+",")]),a("p",[t._v(t._s(t.pharmacy.state))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("p",{attrs:{color:"primary"}},[t._v("Verified Pharmacy")])],1)],1)],1)],1),a("v-card",{staticClass:"hidden-md-and-up ma-1",attrs:{"min-height":"200","max-height":"400"}},[a("v-row",{staticClass:"pa-4"},[a("v-col",{attrs:{cols:"12",lg:"4"}},[a("div",{staticClass:"mt-4 text-center"},[a("v-avatar",{staticClass:"mt-n7",attrs:{size:"150",elevation:"10"}},[a("v-img",{staticClass:"my-3",attrs:{src:t.pharmacy.logo,contain:"",height:"100"}})],1)],1)]),a("v-col",{attrs:{cols:"12",lg:"8"}},[a("div",{staticClass:"text-center"},[a("h3",{staticClass:"display-1"},[t._v(t._s(t.pharmacy.name))]),a("p",[t._v(t._s(t.pharmacy.city)+",")]),a("p",[t._v(t._s(t.pharmacy.state))])])])],1)],1)],1)],1)],1)},We=[],He=(a("b0c0"),a("ade3")),Ze={name:"Pharmacy",data:function(){var t;return t={dialog:!1,step:1,focus:"",pharmacy:[],slots:[],countries:["Nigeria"],valid:!0,loading:!1,states:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],pharmacyuser:[]},Object(He["a"])(t,"valid",!0),Object(He["a"])(t,"rules",{name:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>=3||"A name must be more than 3 characters long"}],email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],uid:[function(t){return!!t||"Facility UID of Birth is required"}],code:[function(t){return!!t||"Facility Code is required"}],address:[function(t){return!!t||"Address is required"}],first_name:[function(t){return!!t||"Contact Firstname is required"}],last_name:[function(t){return!!t||"Contact Lastname is required"}],nin:[function(t){return!!t||"NIN is required"}],ownership:[function(t){return!!t||"Ownership is required"}],level:[function(t){return!!t||"Level is required"}],city:[function(t){return!!t||"City is required"}],state:[function(t){return!!t||"State is required"}],country:[function(t){return!!t||"Country is required"}],phone:[function(t){return!!t||"Phone number is required"},function(t){return t&&t.length>=11||"A phone number must be 11 digit long"}]}),t},beforeMount:function(){this.checkLoggedIn(),this.getPharmacyUser()},mounted:function(){this.checkLoggedIn(),this.getPharmacyUser(),this.getPharmacy()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},checkPermission:function(){1!=this.pharmacyuser.is_admin&&this.$router.push("/dashboard")},getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacyuser=e.data,t.checkPermission()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getPharmacy:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/facility/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacy=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},save:function(){var t=this,e=new FormData;e.append("name",this.pharmacy.name),e.append("level",this.pharmacy.level),e.append("ownership",this.pharmacy.ownership),e.append("code",this.pharmacy.code),e.append("uid",this.pharmacy.uid),e.append("email",this.pharmacy.email),e.append("phone",this.pharmacy.phone),e.append("address",this.pharmacy.address),e.append("country",this.pharmacy.country),e.append("state",this.pharmacy.state),e.append("city",this.pharmacy.city),e.append("first_name",this.pharmacy.first_name),e.append("last_name",this.pharmacy.last_name),e.append("nin",this.pharmacy.nin),e.append("logo",this.pharmacy.logo),z.a.put("/"+sessionStorage.pharmacy_id+"/facility/",e,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&(D.a.fire({icon:"success",type:"success",title:"Facility Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.getPharmacy(),t.dialog=!1)})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))}}},Je=Ze,Ye=Object(l["a"])(Je,Ge,We,!1,null,null,null),Xe=Ye.exports;b()(Ye,{VAvatar:qt["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDialog:re["a"],VDivider:Vt["a"],VFileInput:Ae["a"],VImg:N["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"pa-1",attrs:{elevation:"1",flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Connections")])],1),a("v-divider"),a("v-card",{attrs:{"min-height":"460",flat:""}},[a("v-tabs",{staticClass:"mt-2",attrs:{grow:"","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{key:"care",staticClass:"text-capitalize"},[t._v("Healthcare")]),a("v-tab",{key:"pharmacy",staticClass:"text-capitalize"},[t._v("Pharmacy")])],1),a("v-divider"),a("v-tabs-items",{staticClass:"pa-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"care"},[a("Healthcare")],1),a("v-tab-item",{key:"pharmacy"},[a("Pharmacy")],1)],1)],1)],1)],1)},ea=[],aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Pharmacy Connection")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2 text-capitalize",attrs:{color:"success",small:"",dark:"",depressed:""}},"v-btn",i,!1),s),[t._v("Connect to More")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:t.pharmacies,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.$vuetify.breakpoint.mdAndUp?[a("v-spacer"),a("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1}},[a("v-icon",[t._v("mdi-arrow-up")])],1),a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[a("v-icon",[t._v("mdi-arrow-down")])],1)],1)]:t._e()],2)]},proxy:!0},{key:"default",fn:function(e){return[a("v-row",t._l(e.items,(function(e){return a("v-col",{key:e.id,attrs:{cols:"12",sm:"6",md:"4",lg:"4"}},[a("v-card",[a("v-card-title",{staticClass:"layout justify-center primary--text subheading font-weight-bold"},[t._v(t._s(e.name))]),a("v-list",[a("v-list-item",[a("v-list-item-content",{staticClass:"layout justify-center"},[t._v(t._s(e.state))])],1),a("v-list-item",[a("v-list-item-title",{staticClass:"layout justify-center"},[t._v(t._s(e.city))])],1),a("v-list-item",[a("v-list-item-content",{staticClass:"layout justify-center"},[t._v(t._s(e.address))])],1),a("v-list-item",[a("v-list-item-content",{staticClass:"layout justify-center"},[t._v(t._s(e.phone))])],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"success"},on:{click:function(a){return t.connect(e.id)}}},[t._v("Connect")]),a("v-spacer")],1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"ma-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"grey--text"},[t._v("Items per page")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",i,!1),s),[t._v("\n                        "+t._s(t.itemsPerPage)+"\n                        "),a("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[a("v-list",t._l(t.itemsPerPageArray,(function(e,s){return a("v-list-item",{key:s,on:{click:function(a){return t.updateItemsPerPage(e)}}},[a("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1),a("v-spacer"),a("span",{staticClass:"mr-4 grey--text"},[t._v("Page "+t._s(t.page)+" of "+t._s(t.numberOfPages))]),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.formerPage}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.nextPage}},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])}),t.overlay?a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):t._e()],1)],1)],1)],1),a("v-divider"),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.connections},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.disconnect(s)}}},[t._v("Disconnect")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1)},sa=[],ia={name:"Pharmacy",data:function(){return{overlay:!1,dialog:!1,itemsPerPageArray:[3,6,9,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:6,sortBy:"name",keys:["Name","State","City","Address","Phone"],headers:[{text:"Date Connected",align:"start",value:"date_created"},{text:"Pharmacy",value:"pharmacy_name"},{text:"Action",value:"action"}],pagination:[],connections:[],pharmacies:[]}},created:function(){this.initialize(),this.getPharmacy()},computed:{numberOfPages:function(){return Math.ceil(this.pharmacies.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(t){return"Name"!==t}))}},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.healthcare_id+"/get_pharmacies/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.connections=e.data}))},getPharmacy:function(){var t=this;z.a.get("/"+sessionStorage.healthcare_id+"/all_pharmacies/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.pharmacies=e.data}))},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t},connect:function(t){var e=this;this.overlay=!0,z.a.get("/"+sessionStorage.healthcare_id+"/connect_pharmacy/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Successfully",text:"Successfully",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.dialog=!1,e.overlay=!1,e.initialize()}))},disconnect:function(t){var e=this;z.a.delete("/"+sessionStorage.healthcare_id+"/disconnect_pharmacy/"+t.id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Disconnected",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()}))}}},ra=ia,na=a("a609"),oa=a("a797"),la=Object(l["a"])(ra,aa,sa,!1,null,null,null),ca=la.exports;b()(la,{VBtn:x["a"],VBtnToggle:na["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataIterator:ie["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VIcon:Dt["a"],VList:Et["a"],VListItem:Rt["a"],VListItemContent:Lt["a"],VListItemTitle:Lt["c"],VMenu:Mt["a"],VOverlay:oa["a"],VProgressCircular:U["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("\n              Healthcare Connection\n          ")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2 text-capitalize",attrs:{color:"success",small:"",dark:"",depressed:""}},"v-btn",i,!1),s),[t._v("Connect to More")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:t.cares,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.$vuetify.breakpoint.mdAndUp?[a("v-spacer"),a("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1}},[a("v-icon",[t._v("mdi-arrow-up")])],1),a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!0}},[a("v-icon",[t._v("mdi-arrow-down")])],1)],1)]:t._e()],2)]},proxy:!0},{key:"default",fn:function(e){return[a("v-row",t._l(e.items,(function(e){return a("v-col",{key:e.id,attrs:{cols:"12",sm:"6",md:"4",lg:"4"}},[a("v-card",[a("v-card-title",{staticClass:"layout justify-center primary--text subheading font-weight-bold"},[t._v(t._s(e.name))]),a("v-list",[a("v-list-item",[a("v-list-item-content",{staticClass:"layout justify-center"},[t._v(t._s(e.state))])],1),a("v-list-item",[a("v-list-item-title",{staticClass:"layout justify-center"},[t._v(t._s(e.city))])],1),a("v-list-item",[a("v-list-item-content",{staticClass:"layout justify-center"},[t._v(t._s(e.address))])],1),a("v-list-item",[a("v-list-item-content",{staticClass:"layout justify-center"},[t._v(t._s(e.phone))])],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"success"},on:{click:function(a){return t.connect(e.id)}}},[t._v("Connect")]),a("v-spacer")],1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"ma-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"grey--text"},[t._v("Items per page")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",i,!1),s),[t._v("\n                        "+t._s(t.itemsPerPage)+"\n                        "),a("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[a("v-list",t._l(t.itemsPerPageArray,(function(e,s){return a("v-list-item",{key:s,on:{click:function(a){return t.updateItemsPerPage(e)}}},[a("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1),a("v-spacer"),a("span",{staticClass:"mr-4 grey--text"},[t._v("Page "+t._s(t.page)+" of "+t._s(t.numberOfPages))]),a("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.formerPage}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.nextPage}},[a("v-icon",[t._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])}),t.overlay?a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):t._e()],1)],1)],1)],1),a("v-divider"),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.connections},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.disconnect(s)}}},[t._v("Disconnect")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1)},ua=[],ma={name:"Healthcare",data:function(){return{overlay:!1,dialog:!1,itemsPerPageArray:[3,6,9,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:6,sortBy:"name",headers:[{text:"Date Connected",align:"start",value:"date_created"},{text:"Healthcare",value:"healthcare_name"},{text:"Action",value:"action"}],connections:[],cares:[]}},created:function(){this.initialize(),this.getCare()},computed:{numberOfPages:function(){return Math.ceil(this.cares.length/this.itemsPerPage)},filteredKeys:function(){return this.keys.filter((function(t){return"Name"!==t}))}},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/get_cares/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.connections=e.data}))},getCare:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/all_cares/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.cares=e.data}))},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t},editItem:function(t){sessionStorage.visit_id=t.id,this.$router.push("/patientvisit/"+t.id)},connect:function(t){var e=this;this.overlay=!0,z.a.get("/"+sessionStorage.pharmacy_id+"/connect_care/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Successfully",text:"Successfully",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.dialog=!1,e.overlay=!1,e.initialize()}))},disconnect:function(t){var e=this;confirm("Are you sure you want to disconnect from this Healthcare")&&z.a.delete("/"+sessionStorage.pharmacy_id+"/disconnect_care/"+t.id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Disconnected",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()}))}}},va=ma,ha=Object(l["a"])(va,da,ua,!1,null,null,null),fa=ha.exports;b()(ha,{VBtn:x["a"],VBtnToggle:na["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataIterator:ie["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VIcon:Dt["a"],VList:Et["a"],VListItem:Rt["a"],VListItemContent:Lt["a"],VListItemTitle:Lt["c"],VMenu:Mt["a"],VOverlay:oa["a"],VProgressCircular:U["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var pa={name:"Connections",components:{Pharmacy:ca,Healthcare:fa},data:function(){return{tab:null}}},ga=pa,ba=a("71a3"),_a=a("c671"),ya=a("fe57"),xa=a("aac8"),Ca=Object(l["a"])(ga,ta,ea,!1,null,null,null),wa=Ca.exports;b()(Ca,{VCard:R["a"],VContainer:L["a"],VDivider:Vt["a"],VTab:ba["a"],VTabItem:_a["a"],VTabs:ya["a"],VTabsItems:xa["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("All Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders,"sort-by":"created"},scopedSlots:t._u([{key:"top",fn:function(){},proxy:!0},{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("Dispense")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},Va=[],Sa={name:"AllOders",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Prescribed By",value:"doctor_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/all_orders/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense/"+t.id)}}},$a=Sa,Ba=Object(l["a"])($a,ka,Va,!1,null,null,null),Ia=Ba.exports;b()(Ba,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Today's Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders,"sort-by":"created"},scopedSlots:t._u([{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("Dispense")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},Ta=[],Aa={name:"TodayOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Prescribed By",value:"doctor_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/today_orders/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense/"+t.id)}}},za=Aa,qa=Object(l["a"])(za,Pa,Ta,!1,null,null,null),Da=qa.exports;b()(qa,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Requested Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders,"sort-by":"created"},scopedSlots:t._u([{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("Dispense")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},Oa=[],Ra={name:"RequestedOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Prescribed By",value:"doctor_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/requested_orders/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense/"+t.id)}}},ja=Ra,La=Object(l["a"])(ja,Ea,Oa,!1,null,null,null),Ma=La.exports;b()(La,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Completed Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders,"sort-by":"created"},scopedSlots:t._u([{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("Dispense")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},Fa=[],Ua={name:"CompletedOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Prescribed By",value:"doctor_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/completed_orders/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense/"+t.id)}}},Ka=Ua,Qa=Object(l["a"])(Ka,Na,Fa,!1,null,null,null),Ga=Qa.exports;b()(Qa,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation=1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{attrs:{color:"error",icon:""},on:{click:t.back}},[a("v-icon",[t._v("arrow-left")])],1),a("v-toolbar-title",[t._v("Dispense Medication")])],1),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",md8:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Prescription Order")]),a("v-spacer"),1==t.order.paid?a("v-chip",{attrs:{color:"success"}},[t._v("Paid")]):t._e(),0==t.order.paid?a("v-chip",{attrs:{color:"warning"}},[t._v("Unpaid")]):t._e()],1),a("v-divider"),a("v-card-text",[a("v-container",[a("v-expansion-panels",t._l(t.order_items,(function(e){return a("v-expansion-panel",{key:e.id},[a("v-expansion-panel-header",{attrs:{color:"primary"},on:{click:function(e){t.select=[]}},scopedSlots:t._u([{key:"actions",fn:function(){return[a("v-icon",{attrs:{color:"white"}},[t._v(" $expand ")])]},proxy:!0}],null,!0)},[a("h3",{staticClass:"subheading white--text",attrs:{color:"white"}},[t._v("\n                        "+t._s(e.medicine_name)+"\n                      ")])]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"4",md:"4",sm:"12"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("p",[a("b",[t._v("Dosage:")]),t._v(" "+t._s(e.dose))])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("p",[a("b",[t._v("Frequency:")]),t._v(" "+t._s(e.frequency))])])],1),a("v-col",{attrs:{cols:"12",lg:"4",md:"4",sm:"12"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("p",[a("b",[t._v("Strength:")]),t._v(" "+t._s(e.strenght))])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("p",[a("b",[t._v("Route:")]),t._v(" "+t._s(e.route))])])],1),a("v-col",{attrs:{cols:"12",lg:"4",md:"4",sm:"12"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("p",[a("b",[t._v("Duration:")]),t._v(" "+t._s(e.dose))])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("p",[a("b",[t._v("Route:")]),t._v(" "+t._s(e.route))])])],1),a("v-divider"),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",lg:"5",md:"5",sm:"12"}},[a("v-combobox",{attrs:{flat:"",outlined:"",label:"Select Medication",items:t.medicines,"item-text":"medicines_name","item-value":"id"},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",{attrs:{cols:"12",lg:"2"}},[a("v-text-field",{attrs:{readonly:"",flat:"","background-color":"white",outlined:"",label:"Batch No"},model:{value:t.select.batch_no,callback:function(e){t.$set(t.select,"batch_no",e)},expression:"select.batch_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{readonly:"",flat:"",outlined:"",type:"date",label:"Expiry Date"},model:{value:t.select.expiry_date,callback:function(e){t.$set(t.select,"expiry_date",e)},expression:"select.expiry_date"}})],1),a("v-col",{attrs:{cols:"12",lg:"2"}},[a("v-text-field",{attrs:{readonly:"",flat:"",outlined:"",type:"number",label:"Available Qty",min:"0"},model:{value:t.select.quantity,callback:function(e){t.$set(t.select,"quantity",e)},expression:"select.quantity"}})],1)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{readonly:"",flat:"",outlined:"",type:"number",label:"Sale Price",min:"0"},model:{value:t.select.sale_price,callback:function(e){t.$set(t.select,"sale_price",e)},expression:"select.sale_price"}})],1),a("v-col",{attrs:{cols:"12",lg:"2"}},[a("v-text-field",{attrs:{flat:"",outlined:"",rules:t.rules.quantity,max:t.select.quantity,type:"number",label:"Quantity"},on:{input:function(e){return t.calculate()},change:function(e){return t.calculate()}},model:{value:t.items.quantity,callback:function(e){t.$set(t.items,"quantity",e)},expression:"items.quantity"}})],1),a("v-col",{attrs:{cols:"12",lg:"2"}},[a("v-text-field",{attrs:{outlined:"",readonly:"",type:"number",label:"Amount"},model:{value:t.items.amount,callback:function(e){t.$set(t.items,"amount",e)},expression:"items.amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"2"}},[a("v-btn",{staticClass:"mb-6",attrs:{disabled:t.items.quantity>t.select.quantity,color:"success",depressed:""},on:{click:function(e){return t.dot(t.select)}}},[t._v("\n                                  Add item\n                                ")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)],1)],1)],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Bills")])],1),a("v-divider"),a("v-card",{staticClass:"mt-2",attrs:{flat:"","min-height":"300"}},[a("v-container",[a("v-data-table",{attrs:{headers:t.headers1,items:t.editedItem.sale_items,"sort-by":"medicines"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Items")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",icon:"",color:"error"},on:{click:function(e){return t.remove(s)}}},[a("v-icon",[t._v("delete")])],1)]}}])}),a("v-divider"),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-textarea",{attrs:{outlined:"",rows:"2",label:"Note"},model:{value:t.editedItem.note,callback:function(e){t.$set(t.editedItem,"note",e)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[t._v(" Total ")]),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("h3",[t._v("₦ "+t._s(t.editedItem.total_amount))])])],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),t.editedItem.sale_items.length>0?a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",rounded:"",depressed:""},on:{click:function(e){return t.cashOrderPay()}}},[t._v("Submit bill")]):t._e()],1)],1)],1)],1)],1)],1)],1)],1)},Ha=[],Za={name:"Dispense",data:function(){var t=this;return{headers1:[{text:"Medicine",align:"start",sortable:!1,value:"medicines_name"},{text:"Quantity",value:"quantity"},{text:"Amount",value:"amount"},{text:"Actions",value:"actions"}],order_items:[],order:[],medicines:[],select:[],total:0,items:{medicines_name:"",medicines:"",amount:1,quantity:1},payment_type:["Cash","Card","Bank Transfer"],editedItem:{total_amount:0,sale_items:[]},rules:{quantity:[function(e){return e<t.select.quantity||"Quantity must be less than available stock"}]}}},created:function(){this.initialize(),this.getOrder(),this.getMedicine()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/order_items/"+sessionStorage.order_id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.order_items=e.data}))},getOrder:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/order/"+sessionStorage.order_id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.order=e.data}))},getMedicine:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicine_stock/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.medicines=e.data}))},cashOrderPay:function(){var t=this;z.a.post("/"+sessionStorage.pharmacy_id+"/order_cashpay/"+sessionStorage.order_id,this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Successfully Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.clear(),t.initialize()}))},calculate:function(){this.items.amount=this.select.sale_price*this.items.quantity},dot:function(t){this.calculate(),this.items.medicines=t.id,this.items.medicines_name=t.medicines_name,this.editedItem.sale_items.push(Object.assign({},this.items)),this.addTotal()},remove:function(t){this.removeTotal(t);var e=this.editedItem.sale_items.indexOf(t);this.editedItem.sale_items.splice(e,1)},addTotal:function(){this.editedItem.total_amount=this.editedItem.total_amount+this.items.amount},removeTotal:function(t){this.editedItem.total_amount=this.editedItem.total_amount-t.amount},clear:function(){this.select={},this.editedItem={},this.editedItem.sale_items=[]},back:function(){window.history.back()}}},Ja=Za,Ya=a("cd55"),Xa=a("49e2"),ts=a("c865"),es=a("0393"),as=Object(l["a"])(Ja,Wa,Ha,!1,null,null,null),ss=as.exports;b()(as,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VChip:kt["a"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDataTable:pe["a"],VDivider:Vt["a"],VExpansionPanel:Ya["a"],VExpansionPanelContent:Xa["a"],VExpansionPanelHeader:ts["a"],VExpansionPanels:es["a"],VFlex:Zt["a"],VIcon:Dt["a"],VLayout:F["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("All Online Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders,"sort-by":"created"},scopedSlots:t._u([{key:"top",fn:function(){},proxy:!0},{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("View")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},rs=[],ns={name:"OnlineOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/all_online/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense_online/"+t.id)}}},os=ns,ls=Object(l["a"])(os,is,rs,!1,null,null,null),cs=ls.exports;b()(ls,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Today's Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders},scopedSlots:t._u([{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("View")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},us=[],ms={name:"TodayOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/today_online/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense_online/"+t.id)}}},vs=ms,hs=Object(l["a"])(vs,ds,us,!1,null,null,null),fs=hs.exports;b()(hs,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Requested Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders},scopedSlots:t._u([{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("View")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},gs=[],bs={name:"RequestedOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/requested_online/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense_online/"+t.id)}}},_s=bs,ys=Object(l["a"])(_s,ps,gs,!1,null,null,null),xs=ys.exports;b()(ys,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Completed Online Orders")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.orders},scopedSlots:t._u([{key:"item.status",fn:function(e){var s=e.item;return["Completed"==s.status?a("v-chip",{attrs:{color:"success"}},[t._v("Completed")]):t._e(),"Processing"==s.status?a("v-chip",{attrs:{color:"primary"}},[t._v("Processing")]):t._e(),"Pending"==s.status?a("v-chip",{attrs:{color:"warning"}},[t._v("Pending")]):t._e()]}},{key:"item.actions",fn:function(e){var s=e.item;return["Completed"!=s.status?a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.dispenceItem(s)}}},[t._v("Dispense")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},ws=[],ks={name:"CompletedOrder",data:function(){return{dialog:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"created"},{text:"Patient",value:"patient_name"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],orders:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/completed_online/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.orders=e.data}))},dispenceItem:function(t){sessionStorage.order_id=t.id,this.$router.push("/dispense/"+t.id)}}},Vs=ks,Ss=Object(l["a"])(Vs,Cs,ws,!1,null,null,null),$s=Ss.exports;b()(Ss,{VBtn:x["a"],VCard:R["a"],VChip:kt["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation=1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{attrs:{color:"primary",icon:""},on:{click:t.back}},[a("v-icon",[t._v("arrow-left")])],1),a("v-toolbar-title",[t._v("Dispense Medication")])],1),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",md8:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1",attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Order Details")]),a("v-spacer"),1==t.order.paid?a("v-chip",{attrs:{color:"success"}},[t._v("Paid")]):t._e(),0==t.order.paid?a("v-chip",{attrs:{color:"warning"}},[t._v("Unpaid")]):t._e()],1),a("v-divider"),a("v-card-text",[a("v-container",[a("v-list",{attrs:{"two-line":"",dense:""}},t._l(t.order_items,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-avatar",{attrs:{size:"80"}},[a("v-img",{attrs:{contain:"",src:e.medicine_photo}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"title my-1 text-h6"},[t._v(t._s(e.medicine_name))]),a("v-list-item-subtitle",{staticClass:"my-1"},[t._v("\n                        ₦"+t._s(e.medicine.sale_price)+"\n                      ")])],1),a("v-list-item-icon",[a("v-btn",{staticClass:"ma-1",attrs:{fab:"",depressed:"","x-small":"",color:"grey"}},[t._v("\n                        "+t._s(e.quantity)+"\n                      ")])],1)],1)})),1)],1)],1)],1)],1),a("v-flex",{attrs:{lg4:"",md4:"",sm12:"",xs12:""}},[a("v-card",{staticClass:"ma-1 px-2"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Shipping Details")])],1),a("v-divider"),a("v-card-text",{staticClass:"px-2"},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",[t._v("Name")]),a("td",[t._v(t._s(t.order.patient_name))])]),a("tr",[a("td",[t._v("Email")]),a("td",[t._v(t._s(t.order.patient_email))])]),a("tr",[a("td",[t._v("Phone")]),a("td",[t._v(t._s(t.order.patient_phone))])]),a("tr",[a("td",[t._v("Shipping Region")]),a("td",[t._v(t._s(t.order.shipping_region))])]),a("tr",[a("td",[t._v("Address")]),a("td",[t._v(t._s(t.order.address))])]),a("tr",[a("td",[t._v("Shipping Price")]),a("td",[t._v("₦"+t._s(t.order.shipping_price))])])])]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{depressed:"",color:"success"},on:{click:function(e){return t.completeSale()}}},[t._v("\n                Complete Order\n              ")])],1)],1)],1)],1)],1)],1)],1)},Is=[],Ps={name:"DispenseOnline",data:function(){var t=this;return{headers1:[{text:"Medicine",align:"start",sortable:!1,value:"medicines_name"},{text:"Quantity",value:"quantity"},{text:"Amount",value:"amount"},{text:"Actions",value:"actions"}],order_items:[],order:[],medicines:[],select:[],total:0,items:{medicines_name:"",medicines:"",amount:1,quantity:1},payment_type:["Cash","Card","Bank Transfer"],editedItem:{total_amount:0,sale_items:[]},rules:{quantity:[function(e){return e<t.select.quantity||"Quantity must be less than available stock"}]}}},created:function(){this.initialize(),this.getOrder(),this.getMedicine()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/online_items/"+sessionStorage.order_id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.order_items=e.data}))},getOrder:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/online_order/"+sessionStorage.order_id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.order=e.data}))},getMedicine:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicine_stock/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.medicines=e.data}))},completeSale:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/online_sale/"+sessionStorage.order_id,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",title:"Successful",text:"Successful",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.$router.push("/todaysales")}))},back:function(){window.history.back()}}},Ts=Ps,As=a("1f4f"),zs=Object(l["a"])(Ts,Bs,Is,!1,null,null,null),qs=zs.exports;b()(zs,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VChip:kt["a"],VContainer:L["a"],VDivider:Vt["a"],VFlex:Zt["a"],VIcon:Dt["a"],VImg:N["a"],VLayout:F["a"],VList:Et["a"],VListItem:Rt["a"],VListItemAvatar:ne["a"],VListItemContent:Lt["a"],VListItemIcon:oe["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"],VSimpleTable:As["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"elevation=1"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Add New Staff")])],1),a("v-divider"),a("v-card-text",[t.overlay?a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):t._e(),a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Personal Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"4",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Title"}})],1),a("v-col",{attrs:{cols:"12",lg:"8",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:" Surname"},model:{value:t.staff.last_name,callback:function(e){t.$set(t.staff,"last_name",e)},expression:"staff.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"First name"},model:{value:t.staff.first_name,callback:function(e){t.$set(t.staff,"first_name",e)},expression:"staff.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Middle name"},model:{value:t.staff.middle_name,callback:function(e){t.$set(t.staff,"middle_name",e)},expression:"staff.middle_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.gender,rules:t.rules.gender,label:"Gender"},model:{value:t.staff.gender,callback:function(e){t.$set(t.staff,"gender",e)},expression:"staff.gender"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{value:t.staff.dob,rules:t.rules.dob,readonly:"",label:"Date of Birth","prepend-icon":"event"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.staff.dob,callback:function(e){t.$set(t.staff,"dob",e)},expression:"staff.dob"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.phone,label:"Phone Number"},model:{value:t.staff.phone,callback:function(e){t.$set(t.staff,"phone",e)},expression:"staff.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{type:"email",rules:t.rules.email,label:"Email"},model:{value:t.staff.email,callback:function(e){t.$set(t.staff,"email",e)},expression:"staff.email"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Role Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.roles,rules:t.rules.role,label:"Role"},model:{value:t.staff.role,callback:function(e){t.$set(t.staff,"role",e)},expression:"staff.role"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.specialization,label:"Speciality"},model:{value:t.staff.specialization,callback:function(e){t.$set(t.staff,"specialization",e)},expression:"staff.specialization"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.qualification,label:"Qualification"},model:{value:t.staff.qualification,callback:function(e){t.$set(t.staff,"qualification",e)},expression:"staff.qualification"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Contact Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-textarea",{attrs:{rows:"1",rules:t.rules.address,label:"Address"},model:{value:t.staff.address,callback:function(e){t.$set(t.staff,"address",e)},expression:"staff.address"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.country,rules:t.rules.country,label:" Country"},model:{value:t.staff.country,callback:function(e){t.$set(t.staff,"country",e)},expression:"staff.country"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-combobox",{attrs:{items:t.state,rules:t.rules.state,label:" State"},model:{value:t.staff.state,callback:function(e){t.$set(t.staff,"state",e)},expression:"staff.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.city,label:" City"},model:{value:t.staff.city,callback:function(e){t.$set(t.staff,"city",e)},expression:"staff.city"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Additional Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.marital_status,rules:t.rules.marital_status,label:"Marital Status"},model:{value:t.staff.marital_status,callback:function(e){t.$set(t.staff,"marital_status",e)},expression:"staff.marital_status"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",disabled:!t.valid,depressed:""},on:{click:function(e){return t.addStaff()}}},[t._v("Register")])],1)],1)],1)},Es=[],Os={name:"AddEmployee",data:function(){return{overlay:!1,menu:!1,roles:["Accountant","Dispensing Assistants","Pharmacist","Technician","Receptionist","Others"],gender:["Male","Female"],country:["Nigeria"],states:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],marital_status:["Single","Married","Divorced"],departments:[],staff:{last_name:"",first_name:"",middle_name:"",gender:"",dob:"",email:"",phone:"",address:"",country:"",state:"",city:"",marital_status:"",qualification:"",specialization:"",department:"",role:""},valid:!0,rules:{name:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>=3||"A name must be more than 3 characters long"}],email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],dob:[function(t){return!!t||"Date of Birth is required"}],gender:[function(t){return!!t||"Gender is required"}],address:[function(t){return!!t||"Address is required"}],role:[function(t){return!!t||"Role is required"}],department:[function(t){return!!t||"Department is required"}],specialization:[function(t){return!!t||"Specialization is required"}],qualification:[function(t){return!!t||"Qualification is required"}],marital_status:[function(t){return!!t||"Marital status is required"}],city:[function(t){return!!t||"City is required"}],state:[function(t){return!!t||"State is required"}],country:[function(t){return!!t||"Country is required"}],phone:[function(t){return!!t||"Phone number is required"},function(t){return t&&t.length>=11||"A phone number must be 11 digit long"}]}}},created:function(){this.initialize()},methods:{addStaff:function(){var t=this;this.overlay=!0,z.a.post("/"+sessionStorage.pharmacy_id+"/pharmacyuser_list/",this.staff,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Employee Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.overlay=!1}))}}},Rs=Os,js=Object(l["a"])(Rs,Ds,Es,!1,null,null,null),Ls=js.exports;b()(js,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDatePicker:Te["a"],VDivider:Vt["a"],VForm:M["a"],VMenu:Mt["a"],VOverlay:oa["a"],VProgressCircular:U["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"elevation-1"},[a("v-card-title",[a("span",[t._v("Staff List")]),a("v-spacer"),a("div",[a("v-text-field",{staticStyle:{"max-width":"200px"},attrs:{"append-icon":"search",label:"Search","single-line":"",outlined:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.employees,search:t.search},scopedSlots:t._u([{key:"item.active",fn:function(e){var s=e.item;return[1==s.active?a("v-chip",{attrs:{color:"success"}},[t._v("Active")]):t._e(),0==s.active?a("v-chip",{attrs:{color:"warning"}},[t._v("Inactive")]):t._e()]}},{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"success"},on:{click:function(e){return t.viewItem(s)}}},[a("v-icon",[t._v("mdi-arrow")]),t._v("View Details\n            ")],1),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.updateItem(s)}}},[a("v-icon",[t._v("mdi-arrow")]),t._v("Update\n            ")],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])}),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("View Staff Details")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-card",{staticClass:"d-inline-block",attrs:{elevation:"1"}},[a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-img",{attrs:{height:"200",width:"200",src:""+t.info.photo}})],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"9"}},[a("v-card",{attrs:{elevation:"1"}},[a("v-list",[a("v-list-item",[a("v-list-item-title",[t._v("Name :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.name))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Gender :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.gender))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Date of Birth :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.dob))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Marital Status :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.marital_status))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Phone Number :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.phone))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Email :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.email))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Role :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.role))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Department:")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.department_name))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Specialization :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.specialization))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Qualification :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.qualification))])],1),a("v-list-item",[a("v-list-item-title",[t._v("Address :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.address)+","+t._s(t.info.city))])],1),a("v-list-item",[a("v-list-item-title",[t._v("State, Country :")]),a("v-list-item-title",{staticClass:"align-end"},[t._v(t._s(t.info.state)+","+t._s(t.info.country))])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},Ns=[],Fs={name:"EmployeeList",data:function(){return{dialog:!1,search:"",headers:[{text:"Name",align:"start",value:"name"},{text:"Gender",value:"gender"},{text:"Role",value:"role"},{text:"Status",value:"active"},{text:"Action",value:"action"}],employees:[],info:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser_list/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.employees=e.data}))},viewItem:function(t){this.dialog=!0,this.info=t},updateItem:function(t){sessionStorage.staff_id=t.id,this.$router.push("/editemployee/"+t.id)}}},Us=Fs,Ks=Object(l["a"])(Us,Ms,Ns,!1,null,null,null),Qs=Ks.exports;b()(Ks,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VChip:kt["a"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VIcon:Dt["a"],VImg:N["a"],VList:Et["a"],VListItem:Rt["a"],VListItemTitle:Lt["c"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"]});var Gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("v-card",{staticClass:"d-inline-block ma-2"},[a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-img",{attrs:{height:"200",width:"200",src:t.staff.photo}})],1)],1)],1)],1)],1),a("v-flex",{attrs:{md9:""}},[a("v-card",{staticClass:"elevation=1 ma-2"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Profile")])],1),a("v-divider"),a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:150,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Personal Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"5",md:"6",sm:"12"}},[a("v-file-input",{attrs:{accept:"image/*",chips:"",label:"Photo"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-col",{attrs:{cols:"12",lg:"7",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:" Surname"},model:{value:t.staff.last_name,callback:function(e){t.$set(t.staff,"last_name",e)},expression:"staff.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"First name"},model:{value:t.staff.first_name,callback:function(e){t.$set(t.staff,"first_name",e)},expression:"staff.first_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Middle name"},model:{value:t.staff.middle_name,callback:function(e){t.$set(t.staff,"middle_name",e)},expression:"staff.middle_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.gender,rules:t.rules.gender,label:"Gender"},model:{value:t.staff.gender,callback:function(e){t.$set(t.staff,"gender",e)},expression:"staff.gender"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{rules:t.rules.dob,readonly:"",label:"Date of Birth","prepend-icon":"event"},model:{value:t.staff.dob,callback:function(e){t.$set(t.staff,"dob",e)},expression:"staff.dob"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.staff.dob,callback:function(e){t.$set(t.staff,"dob",e)},expression:"staff.dob"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.phone,label:"Phone Number"},model:{value:t.staff.phone,callback:function(e){t.$set(t.staff,"phone",e)},expression:"staff.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{type:"email",rules:t.rules.email,label:"Email"},model:{value:t.staff.email,callback:function(e){t.$set(t.staff,"email",e)},expression:"staff.email"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Role Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.roles,rules:t.rules.role,readonly:"",label:"Role"},model:{value:t.staff.role,callback:function(e){t.$set(t.staff,"role",e)},expression:"staff.role"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.specialization,label:"Speciality"},model:{value:t.staff.specialization,callback:function(e){t.$set(t.staff,"specialization",e)},expression:"staff.specialization"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.qualification,label:"Qualification"},model:{value:t.staff.qualification,callback:function(e){t.$set(t.staff,"qualification",e)},expression:"staff.qualification"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Contact Information")])]),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-textarea",{attrs:{rows:"1",rules:t.rules.address,label:"Address"},model:{value:t.staff.address,callback:function(e){t.$set(t.staff,"address",e)},expression:"staff.address"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.country,rules:t.rules.country,label:" Country"},model:{value:t.staff.country,callback:function(e){t.$set(t.staff,"country",e)},expression:"staff.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-combobox",{attrs:{items:t.state,rules:t.rules.state,label:" State"},model:{value:t.staff.state,callback:function(e){t.$set(t.staff,"state",e)},expression:"staff.state"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{rules:t.rules.city,label:" City"},model:{value:t.staff.city,callback:function(e){t.$set(t.staff,"city",e)},expression:"staff.city"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("h3",{staticClass:"subheading"},[t._v("Additional Information")])]),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.marital_status,rules:t.rules.marital_status,label:"Marital Status"},model:{value:t.staff.marital_status,callback:function(e){t.$set(t.staff,"marital_status",e)},expression:"staff.marital_status"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"12"}},[a("v-switch",{attrs:{label:"Status: "+t.getStatus(),color:"primary",value:"","input-value":"true"},model:{value:t.staff.active,callback:function(e){t.$set(t.staff,"active",e)},expression:"staff.active"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"success",disabled:!t.valid,depressed:""},on:{click:function(e){return t.addStaff()}}},[t._v("Update")])],1)],1)],1)],1)],1)},Ws=[],Hs={name:"Profile",data:function(){return{loading:!1,menu:!1,roles:["Doctor","Nurse","Accountant","Receptionist","Others"],gender:["Male","Female"],country:["Nigeria"],state:["Abuja","Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],marital_status:["Single","Married","Divorced"],departments:[],file:"",staff:{},valid:!0,rules:{name:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>=2||"A name must be more than 2 characters long"}],email:[function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],dob:[function(t){return!!t||"Date of Birth is required"}],gender:[function(t){return!!t||"Gender is required"}],address:[function(t){return!!t||"Address is required"}],role:[function(t){return!!t||"Role is required"}],department:[function(t){return!!t||"Department is required"}],specialization:[function(t){return!!t||"Specialization is required"}],qualification:[function(t){return!!t||"Qualification is required"}],marital_status:[function(t){return!!t||"Marital Status is required"}],city:[function(t){return!!t||"City is required"}],state:[function(t){return!!t||"State is required"}],country:[function(t){return!!t||"Country is required"}],phone:[function(t){return!!t||"Phone number is required"},function(t){return t&&t.length>=11||"A phon number must be 11 digit long"}]}}},created:function(){this.getPharmacyUser()},methods:{getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/"+sessionStorage.staff_id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.staff=e.data}))},addStaff:function(){var t=this;this.loading=!0;var e=new FormData;e.append("last_name",this.staff.last_name),e.append("first_name",this.staff.first_name),e.append("middle_name",this.staff.middle_name),e.append("gender",this.staff.gender),e.append("dob",this.staff.dob),e.append("email",this.staff.email),e.append("phone",this.staff.phone),e.append("address",this.staff.address),e.append("country",this.staff.country),e.append("state",this.staff.state),e.append("city",this.staff.city),e.append("marital_status",this.staff.marital_status),e.append("qualification",this.staff.qualification),e.append("specialization",this.staff.specialization),e.append("role",this.staff.role),e.append("is_admin",this.staff.is_admin),e.append("photo",this.file),z.a.put("/"+sessionStorage.pharmacy_id+"/pharmacyuser/"+sessionStorage.staff_id+"/",e,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&(D.a.fire({icon:"success",type:"success",title:"Profile Updated",text:"Updated Successfully",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.loading=!1,t.getPharmacyUser())}))},getStatus:function(){return 1==this.staff.active?"Active":"Inactive"}}},Zs=Hs,Js=a("b73d"),Ys=Object(l["a"])(Zs,Gs,Ws,!1,null,null,null),Xs=Ys.exports;b()(Ys,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDatePicker:Te["a"],VDivider:Vt["a"],VFileInput:Ae["a"],VFlex:Zt["a"],VForm:M["a"],VImg:N["a"],VLayout:F["a"],VMenu:Mt["a"],VProgressCircular:U["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VSwitch:Js["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1",attrs:{height:"100vh"}},[a("v-tabs",{attrs:{grow:"","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v("My Task")]),a("v-tab",[t._v("Assinged Task")]),a("v-tabs-items",{staticClass:"pa-3",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-data-table",{attrs:{headers:t.headers,items:t.mytasks,"sort-by":"description"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-2",attrs:{dark:"",small:"",color:"primary",depressed:""},on:{click:function(e){return t.updateItem(s)}}},[t._v("Update")]),a("v-btn",{staticClass:"ma-2",attrs:{dark:"",small:"",color:"success",depressed:""},on:{click:function(e){return t.viewItem(s)}}},[t._v("View")])]}},{key:"item.status",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.status),dark:""}},[t._v(t._s(s.status))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.myTask}},[t._v("Reset")])]},proxy:!0}])})],1),a("v-tab-item",[a("v-data-table",{attrs:{headers:t.headers,items:t.assign_tasks,"sort-by":"description"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Tasks")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("New Tasks")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-combobox",{attrs:{outlined:"",items:t.pharmacy_users,"item-text":"name","item-value":"id",label:"Assign to",rules:t.rules.user},model:{value:t.editedItem.to_name,callback:function(e){t.$set(t.editedItem,"to_name",e)},expression:"editedItem.to_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",label:"Title",rules:t.rules.title},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{outlined:"",label:"Detail",rules:t.rules.detail},model:{value:t.editedItem.detail,callback:function(e){t.$set(t.editedItem,"detail",e)},expression:"editedItem.detail"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",type:"date",label:"Due date",rules:t.rules.date},model:{value:t.editedItem.due_date,callback:function(e){t.$set(t.editedItem,"due_date",e)},expression:"editedItem.due_date"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",type:"time",label:"Due time",rules:t.rules.time},model:{value:t.editedItem.due_time,callback:function(e){t.$set(t.editedItem,"due_time",e)},expression:"editedItem.due_time"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",disabled:!t.valid,text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.status",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.status),dark:""}},[t._v(t._s(s.status))])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editItem(s)}}},[t._v("Edit")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(e){return t.deleteItem(s)}}},[t._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.assignedTask}},[t._v("Reset")])]},proxy:!0}])}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Veiw Task")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-combobox",{attrs:{readonly:"",outlined:"",items:t.care_users,"item-text":"name","item-value":"id",label:"Assign to"},model:{value:t.editedItem.to_name,callback:function(e){t.$set(t.editedItem,"to_name",e)},expression:"editedItem.to_name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",readonly:"",label:"Title"},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{outlined:"",readonly:"",label:"Detail"},model:{value:t.editedItem.detail,callback:function(e){t.$set(t.editedItem,"detail",e)},expression:"editedItem.detail"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",readonly:"",type:"date",label:"Due date"},model:{value:t.editedItem.due_date,callback:function(e){t.$set(t.editedItem,"due_date",e)},expression:"editedItem.due_date"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",readonly:"",type:"time",label:"Due time"},model:{value:t.editedItem.due_time,callback:function(e){t.$set(t.editedItem,"due_time",e)},expression:"editedItem.due_time"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",[a("v-card-title",[t._v("\n            Update Item\n          ")]),a("v-card-text",[a("v-row",{staticClass:"mt-2"},[a("v-select",{attrs:{outlined:"",items:t.item_status,label:"Status"},model:{value:t.status.status,callback:function(e){t.$set(t.status,"status",e)},expression:"status.status"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.updateStatus(t.info)}}},[t._v("Update")])],1)],1)],1)],1)],1)],1)},ei=[],ai={name:"Task",data:function(){return{tab:null,dialog:!1,dialog1:!1,dialog2:!1,valid:!0,headers:[{text:"Date created",align:"start",sortable:!1,value:"date_created"},{text:"Title",value:"title"},{text:"From",value:"from_name"},{text:"To",value:"to_name"},{text:"Due date",value:"due_date"},{text:"Due time",value:"due_time"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],mytasks:[],assign_tasks:[],pharmacy_users:[],selected_user:"",editedIndex:-1,user_id:sessionStorage.pharmacyuser_id,editedItem:{id:"",title:"",detail:"",due_date:"",due_time:"",to_name:"",assign_to:""},defaultItem:{id:"",title:"",detail:"",due_date:"",due_time:"",to_name:"",assign_to:""},item_status:["Ongoing","Completed"],status:{status:""},rules:{user:[function(t){return!!t||"User is required"}],title:[function(t){return!!t||"Title is required"}],detail:[function(t){return!!t||"Detail is required"}],date:[function(t){return!!t||"Date is required"}],time:[function(t){return!!t||"Time is required"}]},info:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New Task":"Edit Task"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.myTask(),this.assignedTask(),this.getPharmacyUser()},methods:{myTask:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/mytask/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.mytasks=e.data}))},assignedTask:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/assign_task/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.assign_tasks=e.data}))},getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacy_users=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getID:function(){this.editedItem.to_name.id&&(this.editedItem.assign_to=this.editedItem.to_name.id)},create:function(){var t=this;this.$refs.form.validate()?z.a.post("/"+sessionStorage.pharmacy_id+"/mytask/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Task Created",text:"Successfully Created",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.assignedTask()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))})):D.a.fire({icon:"warning",type:"success",title:"Invalid Form",text:"Please check again",showConfirmButton:!1,showCloseButton:!1,timer:2e3})},update:function(t){var e=this;z.a.put("/"+sessionStorage.pharmacy_id+"/task/"+t+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Task Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.myTask(),e.assignedTask()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},updateStatus:function(t){var e=this;z.a.put("/"+sessionStorage.pharmacy_id+"/task/"+t+"/",this.status,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Task Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.myTask(),e.assignedTask(),e.dialog2=!1})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},delete:function(t){var e=this;z.a.delete("/"+sessionStorage.pharmacy_id+"/task/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Task Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.myTask(),e.assignedTask()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},editItem:function(t){this.editedIndex=this.assign_tasks.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},viewItem:function(t){this.editedIndex=this.mytasks.indexOf(t),this.editedItem=Object.assign({},t),this.dialog1=!0},updateItem:function(t){this.info=t.id,this.dialog2=!0},deleteItem:function(t){confirm("Are you sure you want to delete this task?")&&this.delete(t.id)},getColor:function(t){return"Pendind"==t?"red":"Completed"==t?"green":"Ongoing"==t?"blue":"orange"},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?(this.getID(),this.update(this.editedItem.id)):(this.getID(),this.create()),this.close()}}},si=ai,ii=Object(l["a"])(si,ti,ei,!1,null,null,null),ri=ii.exports;b()(ii,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VChip:kt["a"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VForm:M["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VTab:ba["a"],VTabItem:_a["a"],VTabs:ya["a"],VTabsItems:xa["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"pb-4"},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Online Store")])],1),a("v-divider"),a("v-card-text",{staticClass:"text-center"},[t._v("\n      Personalize your online link and share it with your customer. "),a("br"),t._v("\n      Let them buy their medication anytime, anywhere they want.\n    ")]),a("v-card-text",{staticClass:"text-center"},[a("h3",{staticClass:"my-2"},[t._v("Online Store Link")]),a("a",{attrs:{href:"https://taonethealth.com/pharmacy/"+t.pharmacy.id,target:"_blank",rel:"noopener noreferrer"}},[t._v("https://taonethealth.com/pharmacy/"+t._s(t.pharmacy.id))])])],1),a("v-card",{staticClass:"mt-4"},[a("v-card-title",[t._v(" Shipping Preference ")]),a("v-card-title",[a("v-radio-group",{attrs:{column:""},on:{change:function(e){return t.preferenceUpdate()}},model:{value:t.delivery.delivery,callback:function(e){t.$set(t.delivery,"delivery",e)},expression:"delivery.delivery"}},[a("v-radio",{attrs:{label:"Turn off shipping",value:"off"}}),a("v-radio",{attrs:{label:"I’ll handle my shipping",value:"on"}})],1)],1)],1),a("v-card",{staticClass:"mt-4",attrs:{disabled:"off"==t.delivery.delivery}},[a("v-data-table",{attrs:{headers:t.headers,items:t.shipping,"sort-by":"region"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Shipping Regions & Rates")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("Add Shipping fee")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",rules:t.rules.region,label:"Region/Area"},model:{value:t.editedItem.region,callback:function(e){t.$set(t.editedItem,"region",e)},expression:"editedItem.region"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:t.rules.price,label:"Price"},model:{value:t.editedItem.price,callback:function(e){t.$set(t.editedItem,"price",e)},expression:"editedItem.price"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.valid},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editItem(s)}}},[t._v("Edit")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(e){return t.deleteItem(s)}}},[t._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},oi=[],li={name:"OnlineStore",data:function(){var t;return t={dialog:!1,valid:!0,headers:[{text:"Region",align:"start",sortable:!1,value:"region"},{text:"Price",value:"price"},{text:"Actions",value:"actions"}]},Object(He["a"])(t,"dialog",!1),Object(He["a"])(t,"loading",!1),Object(He["a"])(t,"delivery",{delivery:""}),Object(He["a"])(t,"shipping",[]),Object(He["a"])(t,"editedIndex",-1),Object(He["a"])(t,"editedItem",{id:"",region:"",price:""}),Object(He["a"])(t,"defaultItem",{id:"",region:"",price:""}),Object(He["a"])(t,"rules",{region:[function(t){return!!t||"Region is required"}],price:[function(t){return!!t||"Price is required"}]}),Object(He["a"])(t,"pharmacy",[]),t},computed:{formTitle:function(){return-1===this.editedIndex?"Add New Shipping fee":"Edit Shipping fee"}},watch:{dialog:function(t){t||this.close()}},beforeMount:function(){this.checkLoggedIn()},created:function(){this.getPharmacy(),this.preference()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},checkPermission:function(){"Pharmcist"!=this.careuser.role&&this.$router.push("/dashboard")},getPharmacy:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/facility/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacy=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},preference:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/preference/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.delivery=e.data,t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},preferenceUpdate:function(){var t=this;z.a.put("/"+sessionStorage.pharmacy_id+"/preference/",this.delivery,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Shipping Preference Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.preference()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/shipping/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.shipping=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},create:function(){var t=this;this.$refs.form.validate()&&z.a.post("/"+sessionStorage.pharmacy_id+"/shipping/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Shipping Created",text:"Successfully Created",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},update:function(t){var e=this;z.a.put("/"+sessionStorage.pharmacy_id+"/shipping/"+t+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Shipping Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},delete:function(t){var e=this;z.a.delete("/"+sessionStorage.pharmacy_id+"/shipping/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Shipping Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},editItem:function(t){this.editedIndex=this.shipping.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm("Are you sure you want to delete this shipping fee?")&&this.delete(t.id)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()},copyTestingCode:function(){var t=document.querySelector("#testing-code");t.setAttribute("type","text"),t.select();try{var e=document.execCommand("copy"),a=e?"successful":"unsuccessful";alert("Testing code was copied "+a)}catch(s){alert("Oops, unable to copy")}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}}},ci=li,di=a("67b6"),ui=a("43a6"),mi=Object(l["a"])(ci,ni,oi,!1,null,null,null),vi=mi.exports;b()(mi,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VForm:M["a"],VRadio:di["a"],VRadioGroup:ui["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-data-table",{attrs:{headers:t.headers,items:t.purchases,"sort-by":"created"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Medicine Purchase")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",small:"",depressed:"",dark:""}},"v-btn",i,!1),s),[t._v("New Purchase")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("New Purchase")])]),a("v-divivder"),a("v-card-text",[a("v-container",[a("v-card",{attrs:{color:"primary","min-height":"80"}},[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",lg:"4",md:"4",sm:"12"}},[a("v-text-field",{attrs:{flat:"",color:"white",solo:"","hide-details":"",label:"Invoice No"},model:{value:t.editedItem.invoice_no,callback:function(e){t.$set(t.editedItem,"invoice_no",e)},expression:"editedItem.invoice_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"4",md:"4",sm:"12"}},[a("v-select",{attrs:{flat:"",color:"white",solo:"","hide-details":"",label:"Select Supplier",items:t.suppliers,"item-text":"name","item-value":"id"},model:{value:t.editedItem.supplier,callback:function(e){t.$set(t.editedItem,"supplier",e)},expression:"editedItem.supplier"}})],1),a("v-col",{attrs:{cols:"12",lg:"4",md:"4",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{flat:"",color:"white",solo:"","hide-details":"",value:t.editedItem.purchase_date,readonly:"",label:"Purchase Date"}},s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.editedItem.purchase_date,callback:function(e){t.$set(t.editedItem,"purchase_date",e)},expression:"editedItem.purchase_date"}})],1)],1)],1)],1)],1)],1)],1),a("v-card",{attrs:{flat:"","min-height":"300"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"3",md:"6",sm:"12"}},[a("v-combobox",{attrs:{label:"Select Medication",items:t.medicines,"item-text":"name","item-value":"id"},model:{value:t.select.medicine,callback:function(e){t.$set(t.select,"medicine",e)},expression:"select.medicine"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{label:"Batch No"},model:{value:t.select.batch_no,callback:function(e){t.$set(t.select,"batch_no",e)},expression:"select.batch_no"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{value:t.select.expiry_date,readonly:"",label:"Expiry Date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.select.expiry_date,callback:function(e){t.$set(t.select,"expiry_date",e)},expression:"select.expiry_date"}})],1)],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{type:"number",label:"Sale Price",min:"0"},model:{value:t.select.sale_price,callback:function(e){t.$set(t.select,"sale_price",e)},expression:"select.sale_price"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{type:"number",label:"Purchase Price"},model:{value:t.select.purchase_price,callback:function(e){t.$set(t.select,"purchase_price",e)},expression:"select.purchase_price"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{type:"number",label:"Quantity"},on:{change:function(e){return t.calculate()}},model:{value:t.select.quantity,callback:function(e){t.$set(t.select,"quantity",e)},expression:"select.quantity"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{readonly:"",type:"number",label:"Amount"},model:{value:t.select.amount,callback:function(e){t.$set(t.select,"amount",e)},expression:"select.amount"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-btn",{staticClass:"mt-4",attrs:{small:"",disabled:""==t.select.medicines,depressed:"",color:"primary"},on:{click:function(e){return t.dot(t.select)}}},[t._v("\n                            Add\n                          ")])],1)],1),a("v-data-table",{attrs:{headers:t.headers2,items:t.editedItem.purchase_items,"sort-by":"medicines"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Purchase Items")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",icon:"",color:"error"},on:{click:function(e){return t.remove(s)}}},[a("v-icon",[t._v("delete")])],1)]}}])}),a("v-divider"),a("v-col",{attrs:{cols:"12",lg:"12",md:"12",sm:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-textarea",{attrs:{outlined:"",rows:"2",label:"Note"},model:{value:t.editedItem.note,callback:function(e){t.$set(t.editedItem,"note",e)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[t._v("\n                                Total\n                              ")]),a("v-col",{attrs:{cols:"12",lg:"6",md:"6",sm:"12"}},[a("h3",[t._v("₦ "+t._s(t.editedItem.total_amount))])])],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{staticClass:"text-capitalize",attrs:{disabled:0==t.editedItem.purchase_items.length,depressed:"",color:"success"},on:{click:function(e){return t.create()}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.viewItem(s)}}},[t._v("view")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",[a("v-card-text",[a("v-container",[a("v-sheet",{attrs:{id:"invoice"}},[a("v-divider"),a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-toolbar-title",[t._v("Purchase Detail")]),a("v-spacer")],1),a("v-divider"),a("v-layout",{staticClass:"pa-6 ma-4",attrs:{"justify-center":"","align-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{lg4:"",md4:"",sm12:""}},[a("h4",[t._v("Supplier:")]),a("h5",[t._v(t._s(t.info.supplier_name))]),a("h5",[t._v(t._s(t.info.phone_no))])]),a("v-flex",{attrs:{lg4:"",md4:"",sm12:""}},[a("h4",[t._v("Invoice:")]),a("h5",[t._v(t._s(t.info.invoice_no))])]),a("v-flex",{attrs:{lg4:"",md4:"",sm12:""}},[a("h3",[t._v("Date.: "+t._s(t.info.purchase_date))])])],1),a("v-divider"),a("v-data-table",{attrs:{headers:t.headers1,"hide-default-footer":"",items:t.purchase_items},scopedSlots:t._u([{key:"item.amount",fn:function(e){var a=e.item;return[t._v(" \n                "+t._s(t.getAmount(a))+"\n              ")]}}])}),a("v-divider"),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),a("div",[a("v-divider"),a("v-col",{attrs:{cols:"12",lg:"12"}},[a("h3",[t._v("Total: ₦"+t._s(t.info.total_amount))])]),a("v-divider")],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v("close")]),a("v-btn",{attrs:{color:"success",depressed:""},on:{click:t.print}},[t._v("Print")])],1)],1)],1)],1)},fi=[],pi={name:"Purchase",data:function(){return{dialog:!1,dialog1:!1,menu:!1,menu2:!1,loading:!1,headers:[{text:"Date",align:"start",sortable:!1,value:"purchase_date"},{text:"Invoice No",value:"invoice_no"},{text:"Supplier Name",value:"supplier_name"},{text:"Total Amount",value:"total_amount"},{text:"Actions",value:"actions"}],headers1:[{text:"Medicine",align:"start",sortable:!1,value:"medicines_name"},{text:"Batch No",value:"batch_no"},{text:"Expiry Date",value:"expiry_date"},{text:"Sale Price",value:"sale_price"},{text:"Quantity",value:"quantity"},{text:"Purchase Price",value:"purchase_price"},{text:"Amount",value:"amount"}],headers2:[{text:"Medicine",align:"start",sortable:!1,value:"medicine.name"},{text:"Batch No",value:"batch_no"},{text:"Expiry Date",value:"expiry_date"},{text:"Sale Price",value:"sale_price"},{text:"Quantity",value:"quantity"},{text:"Purchase Price",value:"purchase_price"},{text:"Amount",value:"amount"},{text:"Actions",value:"actions"}],purchases:[],purchase_items:[],info:[],select:{medicine:"",quantity:1,min_level:0,expiry_date:"",purchase_price:"",sale_price:"",amount:"",vat:0},suppliers:[],editedItem:{total_amount:0,purchase_items:[]}}},created:function(){this.initialize(),this.getMedicine(),this.getSupplier()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicine_purchase/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.purchases=e.data}))},getMedicine:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicines/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.medicines=e.data}))},getSupplier:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/suppliers/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.suppliers=e.data}))},create:function(){var t=this;z.a.post("/"+sessionStorage.pharmacy_id+"/medicine_purchase/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Successfully Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.clear(),t.initialize()}))},calculate:function(){this.select.amount=this.select.purchase_price*this.select.quantity},dot:function(t){this.editedItem.purchase_items.push(Object.assign({},t)),this.addTotal(t),this.select=[]},remove:function(t){this.removeTotal(t);var e=this.editedItem.purchase_items.indexOf(t);this.editedItem.purchase_items.splice(e,1)},addTotal:function(t){this.editedItem.total_amount=this.editedItem.total_amount+t.amount},removeTotal:function(t){this.editedItem.total_amount=this.editedItem.total_amount-t.amount},clear:function(){this.select={},this.editedItem={},this.editedItem.purchase_items=[]},viewItem:function(t){var e=this;this.dialog1=!0,this.loading=!0,z.a.get("/"+sessionStorage.pharmacy_id+"/purchase_items/"+t.id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(a){e.purchase_items=a.data,e.info=t,e.loading=!1})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({icon:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},getAmount:function(t){var e=t.quantity*t.purchase_price;return e}}},gi=pi,bi=Object(l["a"])(gi,hi,fi,!1,null,null,null),_i=bi.exports;b()(bi,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDataTable:pe["a"],VDatePicker:Te["a"],VDialog:re["a"],VDivider:Vt["a"],VFlex:Zt["a"],VIcon:Dt["a"],VLayout:F["a"],VMenu:Mt["a"],VRow:V["a"],VSelect:K["a"],VSheet:ge["a"],VSpacer:S["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Medicines Stock")]),a("v-spacer")],1),a("v-data-table",{attrs:{headers:t.headers,items:t.stocks},scopedSlots:t._u([{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},xi=[],Ci={name:"MedicineStock",data:function(){return{dialog:!1,headers:[{text:"Medicine name",value:"medicines_name"},{text:"Medicine Company",value:"medicines_company"},{text:"Medicine Composition",value:"medicines_composition"},{text:"Medicine Category",value:"medicines_category"},{text:"Quantity",value:"quantity"},{text:"Available Qty",value:"available_qty"},{text:"Action",value:"actions"}],stocks:[]}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicine_stock/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){return t.stocks=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},deleteItem:function(t){var e=this;confirm("Are you sure want to delete this item")&&z.a.delete("/"+sessionStorage.pharmacy_id+"/medicine_stock/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Item Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))}}},wi=Ci,ki=Object(l["a"])(wi,yi,xi,!1,null,null,null),Vi=ki.exports;b()(ki,{VBtn:x["a"],VCard:R["a"],VContainer:L["a"],VDataTable:pe["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1"},[a("v-data-table",{attrs:{headers:t.headers,items:t.suppliers,"sort-by":"description"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Supplier list")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("Add Supplier")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Supplier name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Supplier address"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Supplier phone"},model:{value:t.editedItem.phone,callback:function(e){t.$set(t.editedItem,"phone",e)},expression:"editedItem.phone"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Supplier email"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Supplier note"},model:{value:t.editedItem.note,callback:function(e){t.$set(t.editedItem,"note",e)},expression:"editedItem.note"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.valid},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editItem(s)}}},[t._v("Edit")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(e){return t.deleteItem(s)}}},[t._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},$i=[],Bi={name:"Supplier",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Address",value:"address"},{text:"Phone",value:"phone"},{text:"Email",value:"email"},{text:"Note",value:"note"},{text:"Actions",value:"actions"}],suppliers:[],editedIndex:-1,editedItem:{},defaultItem:{},rules:{name:[function(t){return!!t||"This field is required"}],description:[function(t){return!!t||"This field is required"}]},careuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Supplier":"Edit Supplier"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/suppliers/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.suppliers=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},create:function(){var t=this;this.$refs.form.validate()&&z.a.post("/"+sessionStorage.pharmacy_id+"/suppliers/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Supplier Created",text:"Successfully Created",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},update:function(t){var e=this;z.a.put("/"+sessionStorage.pharmacy_id+"/suppliers/"+t+"/",this.editedItem,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Supplier Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},delete:function(t){var e=this;z.a.delete("/"+sessionStorage.pharmacy_id+"/suppliers/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Supplier Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},editItem:function(t){this.editedIndex=this.suppliers.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm("Are you sure you want to delete this supplier?")&&this.delete(t.id)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}},Ii=Bi,Pi=Object(l["a"])(Ii,Si,$i,!1,null,null,null),Ti=Pi.exports;b()(Pi,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VForm:M["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"elevation-1 mt-4"},[a("v-data-table",{attrs:{headers:t.headers,items:t.medicines,"sort-by":"description"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Medicine list")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("New Medicine")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",staticClass:"px-3 pt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Medicine name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Medicine company"},model:{value:t.editedItem.company,callback:function(e){t.$set(t.editedItem,"company",e)},expression:"editedItem.company"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:t.rules.name,label:"Medicine composition"},model:{value:t.editedItem.composition,callback:function(e){t.$set(t.editedItem,"composition",e)},expression:"editedItem.composition"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.category,rules:t.rules.name,label:"Medicine category"},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-file-input",{attrs:{outlined:"",accept:"image/*",chips:"",label:"Photo"},model:{value:t.editedItem.photo,callback:function(e){t.$set(t.editedItem,"photo",e)},expression:"editedItem.photo"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{outlined:"",rules:t.rules.description,label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.valid},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.photo",fn:function(t){var e=t.item;return[a("v-avatar",{staticClass:"my-4",attrs:{tile:"",size:"100"}},[a("v-img",{attrs:{contain:"",src:e.photo}})],1)]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editItem(s)}}},[t._v("Edit")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"error"},on:{click:function(e){return t.deleteItem(s)}}},[t._v("Delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},zi=[],qi=(a("a4d3"),a("e01a"),{name:"Medicine",data:function(){return{dialog:!1,valid:!0,headers:[{text:"Photo",align:"start",sortable:!1,value:"photo"},{text:"Name",value:"name"},{text:"Company",value:"company"},{text:"Composition",value:"composition"},{text:"Category",value:"category"},{text:"Description",value:"description"},{text:"Actions",value:"actions"}],medicines:[],category:["Syrup","Capsule","Injection","Ointment","Cream","Surgical","Drops","Inhalers","Inplants/Patches","Liquid","Preparations","Diaper","Tablet"],editedIndex:-1,editedItem:{photo:"",name:"",company:"",category:"",composition:"",description:""},defaultItem:{},rules:{name:[function(t){return!!t||"This field is required"}],description:[function(t){return!!t||"This field is required"}]},careuser:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Medicine":"Edit Medicine"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/medicines/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.medicines=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},create:function(){var t=this;if(this.$refs.form.validate()){var e=new FormData;e.append("name",this.editedItem.name),e.append("company",this.editedItem.company),e.append("composition",this.editedItem.composition),e.append("category",this.editedItem.category),e.append("photo",this.editedItem.photo),e.append("description",this.editedItem.description),z.a.post("/"+sessionStorage.pharmacy_id+"/medicines/",e,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e.data&&D.a.fire({icon:"success",type:"success",title:"Medicine Added",text:"Successfully Added",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),t.initialize()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))}},update:function(t){var e=this,a=new FormData;a.append("name",this.editedItem.name),a.append("company",this.editedItem.company),a.append("composition",this.editedItem.composition),a.append("category",this.editedItem.category),a.append("photo",this.editedItem.photo),a.append("description",this.editedItem.description),z.a.put("/"+sessionStorage.pharmacy_id+"/medicines/"+t+"/",a,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t.data&&D.a.fire({icon:"success",type:"success",title:"Medicine Updated",text:"Successfully Updated",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},delete:function(t){var e=this;z.a.delete("/"+sessionStorage.pharmacy_id+"/medicines/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&D.a.fire({icon:"success",type:"success",title:"Medicine Deleted",text:"Successfully Deleted",showConfirmButton:!1,showCloseButton:!1,timer:2e3}),e.initialize()})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},editItem:function(t){this.editedIndex=this.medicines.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm("Are you sure you want to delete this medicines?")&&this.delete(t.id)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?this.update(this.editedItem.id):this.create(),this.close()}}}),Di=qi,Ei=Object(l["a"])(Di,Ai,zi,!1,null,null,null),Oi=Ei.exports;b()(Ei,{VAvatar:qt["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VFileInput:Ae["a"],VForm:M["a"],VImg:N["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VTextField:Q["a"],VTextarea:G["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"pa-1",attrs:{elevation:"1",flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Subscription")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"success",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("Subscribe")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Buy more credit")])]),a("v-card-text",[a("v-container",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{chips:"",outlined:"",label:"Credit",items:t.subscription_price,"item-text":"label","item-value":"id"},on:{change:function(e){return t.getPrice(t.id)}},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.price.length<1},on:{click:t.payWithMonnify}},[t._v("confirm")])],1)],1)],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"6"}},[a("v-card",{staticClass:"text-center mt-8",attrs:{flat:""}},[a("v-card-title",{staticClass:"layout justify-center"},[a("h3",{staticClass:"primary--text text--darken-1"},[t._v("Available Credits")])]),a("v-card-title",{staticClass:"layout justify-center"},[a("p",{staticClass:"display-1"},[t._v("₦"+t._s(t.subscription.amount))])])],1)],1)],1),a("v-divider"),a("v-card",{attrs:{"min-height":"100",flat:""}},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.subscription_history},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editItem(s)}}},[t._v("View")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1)],1)},ji=[],Li={name:"Subscription",data:function(){return{price:[],id:"",subscription_price:[],subscription:[],pharmacy:[],dialog:!1,loading:!1,headers:[{text:"Date",value:"date_created"},{text:"Reference No",value:"ref_no"},{text:"Subscription",value:"sub_type"},{text:"Billing Cycle",value:"billing_cycle"}],subscription_history:[],pharmacyuser:[]}},beforeMount:function(){this.checkLoggedIn(),this.getPharmacyUser()},created:function(){this.getPharmacy(),this.getSubscriptionPrice(),this.getSubscription(),this.initialize()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},checkPermission:function(){1!=this.pharmacyuser.is_admin&&this.$router.push("/dashboard")},getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacyuser=e.data,t.checkPermission()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getPharmacy:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/facility/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacy=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getSubscription:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/subscription/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.subscription=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/subscription_history/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.subscription_history=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getSubscriptionPrice:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/subscription_price/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.subscription_price=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getPrice:function(t){var e=this;z.a.get("/"+sessionStorage.pharmacy_id+"/subscription_price/"+t+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){e.price=t.data})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},subscribe:function(t){var e=this;this.loading=!0,z.a.get("/"+sessionStorage.pharmacy_id+"/subscribe/"+t+"/"+this.price.id+"/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(t){t&&(D.a.fire({icon:"success",title:"Transaction Successful",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.price="",e.dialog=!1,e.getSubscription())})).catch((function(t){"Request failed with status code 401"==t.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.$session.clear(),e.$router.push("/login"))}))},payWithMonnify:function(){var t=this;MonnifySDK.initialize({amount:this.price.price,currency:"NGN",reference:""+Math.floor(1e9*Math.random()+1),customerName:this.pharmacy.name,customerEmail:this.pharmacy.email,customerMobileNumber:this.pharmacy.phone,apiKey:"MK_PROD_JVQZQ6YXS7",contractCode:"332884593433",paymentDescription:"Pharmacy Subscription",isTestMode:!1,feeBearer:!0,onComplete:function(e){e.paymentReference&&t.subscribe(e.paymentReference)},onClose:function(t){}})}}},Mi=Li,Ni=Object(l["a"])(Mi,Ri,ji,!1,null,null,null),Fi=Ni.exports;b()(Ni,{VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VLayout:F["a"],VProgressCircular:U["a"],VRow:V["a"],VSelect:K["a"],VSpacer:S["a"],VToolbar:St["a"],VToolbarTitle:$["a"]});var Ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"pa-1",attrs:{elevation:"1",flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Wallet")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"success",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("Bank Account")])]}}]),model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Bank Account")])]),a("v-card-text",[a("v-container",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-combobox",{attrs:{outlined:"",items:t.banklist,"item-text":"bank_name",label:"Bank Name"},on:{change:function(e){return t.addBank()}},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",label:"Account Number",maxlength:"10",counter:10},on:{change:function(e){return t.getAccountName()}},model:{value:t.account.account_number,callback:function(e){t.$set(t.account,"account_number",e)},expression:"account.account_number"}})],1),a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{readonly:"",outlined:"",label:"Account Name"},model:{value:t.account.account_name,callback:function(e){t.$set(t.account,"account_name",e)},expression:"account.account_name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog1=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"success",dark:"",small:"",depressed:""}},"v-btn",i,!1),s),[t._v("Withdraw")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Withdraw fund")])]),a("v-card-text",[a("v-container",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",label:"Amount",type:"number"},model:{value:t.amount.amount,callback:function(e){t.$set(t.amount,"amount",e)},expression:"amount.amount"}})],1)],1),t.amount.amount<1e3||t.amount.amount>t.wallet.balance?a("v-row",{attrs:{"align-content":"center",justify:"center"}},[a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[t._v("\n                  Please enter amount between "),a("strong",[t._v("₦1000")]),t._v(" and\n                  "),a("strong",[t._v("₦"+t._s(t.wallet.balance))])])],1):t._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.amount.amount<1e3||t.amount.amount>t.wallet.balance},on:{click:t.withdraw}},[t._v("confirm")])],1)],1)],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"12",md:"6",sm:"6"}},[a("v-card",{staticClass:"text-center mt-8",attrs:{flat:""}},[a("v-card-title",{staticClass:"layout justify-center"},[a("h3",{staticClass:"primary--text text--darken-1"},[t._v("Wallet Balance")])]),a("v-card-title",{staticClass:"layout justify-center"},[a("p",{staticClass:"display-1"},[t._v("₦ "+t._s(t.wallet.balance))])])],1)],1)],1),a("v-divider"),a("v-card",{attrs:{"min-height":"100",flat:""}},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.transactions,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"ma-1",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.editItem(s)}}},[t._v("View")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1)],1)},Ki=[],Qi={name:"Wallet",data:function(){return{search:"",pharmacy:[],dialog:!1,dialog1:!1,loading:!1,headers:[{text:"Date",value:"date_created"},{text:"By",value:"by"},{text:"Amount",value:"amount"},{text:"Type",value:"status"}],wallet:[],amount:{amount:""},name:[],bank:[],banklist:[],account:{bank:"",bank_name:"",bank_code:"",account_number:"",account_name:""},transactions:[],pharmacyuser:[]}},beforeMount:function(){this.checkLoggedIn(),this.getPharmacyUser()},created:function(){this.getPharmacy(),this.getWallet(),this.initialize(),this.getBankAccount(),this.getBankList()},methods:{checkLoggedIn:function(){this.$session.start(),this.$session.has("access")||this.$router.push("/login")},checkPermission:function(){"Accountant"==this.pharmacyuser.role||1==this.pharmacyuser.is_admin||this.$router.push("/dashboard")},getPharmacyUser:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacyuser/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacyuser=e.data,t.checkPermission()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getPharmacy:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/facility/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.pharmacy=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired ",text:"Back to Login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login")),t.initialize()}))},getWallet:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/pharmacy_wallet/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.wallet=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},withdraw:function(){var t=this;this.loading=!0,z.a.post("/"+sessionStorage.pharmacy_id+"/pharmacy_wallet/",this.amount,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&(D.a.fire({icon:"success",title:"Withdraw Request Successfully",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.loading=!1,t.dialog=!1,t.getWallet())})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},initialize:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/wallet_transaction/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.transactions=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},addBank:function(){this.account.bank_name=this.bank.bank_name,this.account.bank_code=this.bank.bank_code},getID:function(){this.bank=this.account.bank_name},getBankList:function(){var t=this;z.a.get("/banklist/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.banklist=e.data})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},getAccountName:function(){var t=this;10==this.account.account_number.length&&z.a.get("https://api.monnify.com/api/v1/disbursements/account/validate?accountNumber="+this.account.account_number+"&bankCode="+this.account.bank_code).then((function(e){t.name=e.data,t.account.account_name=t.name.responseBody.accountName}))},getBankAccount:function(){var t=this;z.a.get("/"+sessionStorage.pharmacy_id+"/bank_acount/",{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){t.account=e.data,t.getID()})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))},save:function(){var t=this;this.loading=!0,z.a.put("/"+sessionStorage.pharmacy_id+"/bank_acount/",this.account,{headers:{Authorization:"Bearer ".concat(this.$session.get("access"))}}).then((function(e){e&&(D.a.fire({icon:"success",title:"Bank Account Updated Successfully",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.loading=!1,t.dialog=!1,t.getWallet())})).catch((function(e){"Request failed with status code 401"==e.message&&(D.a.fire({type:"warning",title:"Session Expired",text:"Back to login",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.$session.clear(),t.$router.push("/login"))}))}}},Gi=Qi,Wi=a("0798"),Hi=Object(l["a"])(Gi,Ui,Ki,!1,null,null,null),Zi=Hi.exports;b()(Hi,{VAlert:Wi["a"],VBtn:x["a"],VCard:R["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VCombobox:Pe["a"],VContainer:L["a"],VDataTable:pe["a"],VDialog:re["a"],VDivider:Vt["a"],VLayout:F["a"],VProgressCircular:U["a"],VRow:V["a"],VSpacer:S["a"],VTextField:Q["a"],VToolbar:St["a"],VToolbarTitle:$["a"]}),s["a"].use(m["a"]);var Ji,Yi=[{path:"/",name:"Index",component:I},{path:"/login",name:"Login",component:et},{path:"/staff_activation",name:"StaffActivation",component:ot},{path:"/forget_password",name:"ForgetPassword",component:vt},{path:"/confirm_password",name:"ConfirmPassword",component:_t},{path:"/register",name:"Register",component:H},{path:"/your_pharmacy",name:"PharmacyList",component:Bt},{path:"",name:"Home",component:Kt,children:[{path:"/dashboard",name:"Dashboard",component:Yt},{path:"/pos",name:"PointOfSale",component:ue},{path:"/todaysales",name:"TodaySale",component:_e},{path:"/allsales",name:"AllSales",component:Ve},{path:"/dispense/:id",name:"Dispense",component:ss},{path:"/subscription",name:"Subscription",component:Fi},{path:"/all_orders",name:"AllOrders",component:Ia},{path:"/today_order",name:"TodayOrder",component:Da},{path:"/requested_order",name:"RequestedOrder",component:Ma},{path:"/completed_order",name:"CompletedOrder",component:Ga},{path:"/all_online",name:"AllOnline",component:cs},{path:"/today_online",name:"TodayOnline",component:fs},{path:"/requested_online",name:"RequestedOnline",component:xs},{path:"/completed_online",name:"CompletedOnline",component:$s},{path:"/dispense_online/:id",name:"DispenseOnline",component:qs},{path:"/addemployee",name:"AddEmployee",component:Ls},{path:"/employeelist",name:"EmployeeList",component:Qs},{path:"/editemployee/:id",name:"EditEmployee",component:Xs},{path:"/purchases",name:"MedicinePurchase",component:_i},{path:"/stocks",name:"MedicineStock",component:Vi},{path:"/medicine",name:"Medicine",component:Oi},{path:"/supplier",name:"Supplier",component:Ti},{path:"/task",name:"Task",component:ri},{path:"/profile",name:"Profile",component:qe},{path:"/account_setting",name:"AccountSettings",component:Le},{path:"/insight",name:"Insight",component:Qe},{path:"/wallet",name:"Wallet",component:Zi},{path:"/facility",name:"Facility",component:Xe},{path:"/connections",name:"Connections",component:wa},{path:"/online_page",name:"OnlinePage",component:vi}]}],Xi=new m["a"]({mode:"hash",base:"/",routes:Yi}),tr=Xi,er=(a("7db0"),a("d81d"),a("13d5"),a("2f62"));s["a"].use(er["a"]);var ar=new er["a"].Store((Ji={state:{healthspace:{id:""},items:[],ems:[],checkoutStatus:null},mutations:{changeId:function(t,e){t.healthspace.id=e.id}},getters:{cartProducts:function(t,e,a,s){return t.items.map((function(t){var e=a.items.find((function(e){return e.product.id===t.product.id}));return{product:e.product,quantity:t.quantity}}))},cartTotal:function(t,e){return e.cartProducts.reduce((function(t,e){return t+e.product.sale_price*e.quantity}),0)},cartQuantity:function(t,e){return e.cartProducts.reduce((function(t,e){return t+e.quantity}),0)}}},Object(He["a"])(Ji,"mutations",{changeId:function(t,e){t.healthspace.id=e.id},pushProductToCart:function(t,e){t.items.push({product:e,quantity:1})},removeProductFromCart:function(t,e){var a=t.items.indexOf(e);t.items.splice(a,1)},incrementItemQuantity:function(t,e){e.quantity++},decrementItemQuantity:function(t,e){e.quantity--},setCheckoutStatus:function(t,e){t.checkoutStatus=e},emptyCart:function(t){t.items=[]}}),Object(He["a"])(Ji,"actions",{addProductToCart:function(t,e){var a=t.state,s=(t.getters,t.commit),i=(t.rootState,t.rootGetters,a.items.find((function(t){return t.product.id===e.id})));i?s("incrementItemQuantity",i):s("pushProductToCart",e)},removeProductFromCart:function(t,e){var a=t.state,s=(t.getters,t.commit),i=(t.rootState,t.rootGetters,a.items.find((function(t){return t.product.id===e.id})));i&&s("removeProductFromCart",i)},reduceProduct:function(t,e){var a=t.state,s=(t.getters,t.commit),i=(t.rootState,t.rootGetters,a.items.find((function(t){return t.product.id===e.id})));i.quantity>1&&s("decrementItemQuantity",i)},checkout:function(t){t.state;var e=t.commit;e("emptyCart"),e("setCheckoutStatus","success")}}),Object(He["a"])(Ji,"modules",{}),Ji)),sr=(a("15f5"),a("d1e78"),a("f309")),ir=a("fcf4");s["a"].use(sr["a"]);var rr=new sr["a"]({icons:{iconfont:"md"},theme:{themes:{light:{background:ir["a"].grey.lighten5},dark:{background:ir["a"].shades.white}}}}),nr=a("0628"),or=a.n(nr),lr=a("3730"),cr=a.n(lr),dr=a("67b0");s["a"].use(or.a),s["a"].use(dr["a"]),s["a"].use(cr.a),s["a"].config.productionTip=!1,new s["a"]({router:tr,store:ar,vuetify:rr,render:function(t){return t(d)}}).$mount("#app")}});